"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Compression = /** @class */ (function () {
    /**
     * Creates an instance of Compression.
     */
    function Compression(options, logger) {
        this.compressionOptions = {};
        this.options = options;
        this.logger = logger;
        this.selectCompression();
    }
    /**
     * Returns human-readable compression options info.
     */
    Compression.prototype.readableOptions = function (keyWrapper) {
        if (keyWrapper === void 0) { keyWrapper = function (key) { return key; }; }
        var options = '';
        for (var _i = 0, _a = Object.entries(this.compressionOptions); _i < _a.length; _i++) {
            var _b = _a[_i], key = _b[0], value = _b[1];
            options += keyWrapper(key) + ": " + value + ", ";
        }
        return this.compressionName + " -> " + options.slice(0, -2);
    };
    /**
     * Build compression options object [compressionOptions].
     */
    Compression.prototype.selectCompression = function () {
        var options = {};
        if (this.options.level !== undefined) {
            options.level = this.options.level;
        }
        if (this.options.memoryLevel !== undefined) {
            options.memLevel = this.options.memoryLevel;
        }
        if (this.options.strategy !== undefined) {
            options.strategy = this.options.strategy;
        }
        this.compressionOptions = options;
    };
    return Compression;
}());
exports.Compression = Compression;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29tcHJlc3Npb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvY29tcHJlc3Npb25zL0NvbXByZXNzaW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBS0E7SUFNRTs7T0FFRztJQUNILHFCQUFZLE9BQXNCLEVBQUUsTUFBYztRQUp4Qyx1QkFBa0IsR0FBTSxFQUFPLENBQUM7UUFLeEMsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7UUFDdkIsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFDckIsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDM0IsQ0FBQztJQU9EOztPQUVHO0lBQ0kscUNBQWUsR0FBdEIsVUFDRSxVQUU0QjtRQUY1QiwyQkFBQSxFQUFBLHVCQUNFLEdBQVcsSUFDWSxPQUFBLEdBQUcsRUFBSCxDQUFHO1FBRTVCLElBQUksT0FBTyxHQUFHLEVBQUUsQ0FBQztRQUVqQixLQUEyQixVQUF1QyxFQUF2QyxLQUFBLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEVBQXZDLGNBQXVDLEVBQXZDLElBQXVDLEVBQUU7WUFBekQsSUFBQSxXQUFZLEVBQVgsV0FBRyxFQUFFLGFBQUs7WUFDcEIsT0FBTyxJQUFPLFVBQVUsQ0FBQyxHQUFHLENBQUMsVUFBSyxLQUFLLE9BQUksQ0FBQztTQUM3QztRQUVELE9BQVUsSUFBSSxDQUFDLGVBQWUsWUFBTyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBRyxDQUFDO0lBQzlELENBQUM7SUFFRDs7T0FFRztJQUNPLHVDQUFpQixHQUEzQjtRQUNFLElBQU0sT0FBTyxHQUFNLEVBQU8sQ0FBQztRQUUzQixJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxLQUFLLFNBQVMsRUFBRTtZQUNwQyxPQUFPLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDO1NBQ3BDO1FBRUQsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsS0FBSyxTQUFTLEVBQUU7WUFDMUMsT0FBTyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQztTQUM3QztRQUVELElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEtBQUssU0FBUyxFQUFFO1lBQ3ZDLE9BQU8sQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUM7U0FDMUM7UUFFRCxJQUFJLENBQUMsa0JBQWtCLEdBQUcsT0FBTyxDQUFDO0lBQ3BDLENBQUM7SUFDSCxrQkFBQztBQUFELENBQUMsQUF6REQsSUF5REM7QUF6RHFCLGtDQUFXIn0=