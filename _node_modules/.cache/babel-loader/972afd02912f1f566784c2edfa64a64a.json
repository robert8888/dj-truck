{"ast":null,"code":"import React from\"react\";import{Button}from\"react-bootstrap\";import{connect}from\"react-redux\";import{increaseBpm as _increaseBpm,decreaseBpm as _decreaseBpm}from\"./../../../actions\";import\"./pitch-buttons.scss\";var buttonStepAmount=0.01;var PitchButtons=function PitchButtons(props){var intervallHanlder=null;var lastPressed=null;var mouseUpHandler=null;var mouseDown=function mouseDown(callBack){callBack();lastPressed=new Date().getTime();intervallHanlder=setInterval(function(){var now=new Date().getTime();if(now-lastPressed>1000){callBack();}},100);mouseUpHandler=mouseUp.bind(null,intervallHanlder);document.body.addEventListener('mouseup',mouseUpHandler);document.body.addEventListener('mouseleave',mouseUpHandler);};var mouseUp=function mouseUp(handler){clearInterval(handler);document.body.removeEventListener('mouseup',mouseUpHandler);document.body.removeEventListener('mouseleave',mouseUpHandler);};return React.createElement(\"div\",{className:\"pitch-btns-\"+props.name},React.createElement(Button,{className:\"pitch-btn btn-increase\",onMouseDown:mouseDown.bind(null,props.increaseBpm)},\" + \"),React.createElement(Button,{className:\"pitch-btn btn-decrease\",onMouseDown:mouseDown.bind(null,props.decreaseBpm)},\" - \"));};var mapDispachToProps=function mapDispachToProps(dispatch,ownProps){return{increaseBpm:function increaseBpm(){return dispatch(_increaseBpm(ownProps.name,buttonStepAmount));},decreaseBpm:function decreaseBpm(){return dispatch(_decreaseBpm(ownProps.name,buttonStepAmount));}};};export default connect(null,mapDispachToProps)(PitchButtons);","map":{"version":3,"sources":["D:/PROJEKTY/APKI/DjTruck/djtruck/src/components/Deck/PitchButtons/PitchButtons.js"],"names":["React","Button","connect","increaseBpm","decreaseBpm","buttonStepAmount","PitchButtons","props","intervallHanlder","lastPressed","mouseUpHandler","mouseDown","callBack","Date","getTime","setInterval","now","mouseUp","bind","document","body","addEventListener","handler","clearInterval","removeEventListener","name","mapDispachToProps","dispatch","ownProps"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,MAAT,KAAuB,iBAAvB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAAQC,WAAW,GAAXA,CAAAA,YAAR,CAAqBC,WAAW,GAAXA,CAAAA,YAArB,KAAuC,oBAAvC,CACA,MAAO,sBAAP,CAEA,GAAMC,CAAAA,gBAAgB,CAAG,IAAzB,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,KAAK,CAAG,CAEzB,GAAIC,CAAAA,gBAAgB,CAAG,IAAvB,CACA,GAAIC,CAAAA,WAAW,CAAG,IAAlB,CAEA,GAAIC,CAAAA,cAAc,CAAG,IAArB,CACA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAAC,QAAQ,CAAI,CAC1BA,QAAQ,GACRH,WAAW,CAAG,GAAII,CAAAA,IAAJ,GAAWC,OAAX,EAAd,CACAN,gBAAgB,CAAGO,WAAW,CAAC,UAAI,CAC/B,GAAMC,CAAAA,GAAG,CAAG,GAAIH,CAAAA,IAAJ,GAAWC,OAAX,EAAZ,CACA,GAAIE,GAAG,CAAGP,WAAN,CAAoB,IAAxB,CAA8B,CAC1BG,QAAQ,GACX,CACJ,CAL6B,CAK3B,GAL2B,CAA9B,CAMAF,cAAc,CAAGO,OAAO,CAACC,IAAR,CAAa,IAAb,CAAmBV,gBAAnB,CAAjB,CACAW,QAAQ,CAACC,IAAT,CAAcC,gBAAd,CAA+B,SAA/B,CAA0CX,cAA1C,EACAS,QAAQ,CAACC,IAAT,CAAcC,gBAAd,CAA+B,YAA/B,CAA6CX,cAA7C,EACH,CAZD,CAcA,GAAMO,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAAAK,OAAO,CAAI,CACvBC,aAAa,CAACD,OAAD,CAAb,CACAH,QAAQ,CAACC,IAAT,CAAcI,mBAAd,CAAkC,SAAlC,CAA6Cd,cAA7C,EACAS,QAAQ,CAACC,IAAT,CAAcI,mBAAd,CAAkC,YAAlC,CAAgDd,cAAhD,EACH,CAJD,CAOA,MACI,4BAAK,SAAS,CAAE,cAAgBH,KAAK,CAACkB,IAAtC,EACI,oBAAC,MAAD,EAAQ,SAAS,CAAC,wBAAlB,CACQ,WAAW,CAAGd,SAAS,CAACO,IAAV,CAAe,IAAf,CAAqBX,KAAK,CAACJ,WAA3B,CADtB,QADJ,CAII,oBAAC,MAAD,EAAQ,SAAS,CAAC,wBAAlB,CACQ,WAAW,CAAGQ,SAAS,CAACO,IAAV,CAAe,IAAf,CAAqBX,KAAK,CAACH,WAA3B,CADtB,QAJJ,CADJ,CAUH,CArCD,CAuCA,GAAMsB,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,QAAD,CAAWC,QAAX,QAAwB,CAC9CzB,WAAW,CAAG,6BAAMwB,CAAAA,QAAQ,CAACxB,YAAW,CAACyB,QAAQ,CAACH,IAAV,CAAgBpB,gBAAhB,CAAZ,CAAd,EADgC,CAE9CD,WAAW,CAAG,6BAAMuB,CAAAA,QAAQ,CAACvB,YAAW,CAACwB,QAAQ,CAACH,IAAV,CAAgBpB,gBAAhB,CAAZ,CAAd,EAFgC,CAAxB,EAA1B,CAKA,cAAeH,CAAAA,OAAO,CAAC,IAAD,CAAOwB,iBAAP,CAAP,CAAiCpB,YAAjC,CAAf","sourcesContent":["import React from \"react\"\r\nimport { Button } from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport {increaseBpm, decreaseBpm} from \"./../../../actions\";\r\nimport \"./pitch-buttons.scss\"\r\n\r\nconst buttonStepAmount = 0.01;\r\n\r\nconst PitchButtons = props =>{\r\n\r\n    let intervallHanlder = null;\r\n    let lastPressed = null;\r\n\r\n    let mouseUpHandler = null;\r\n    const mouseDown = callBack => {\r\n        callBack();\r\n        lastPressed = new Date().getTime();\r\n        intervallHanlder = setInterval(()=>{\r\n            const now = new Date().getTime();\r\n            if( now - lastPressed > 1000 ){\r\n                callBack();\r\n            }\r\n        }, 100)\r\n        mouseUpHandler = mouseUp.bind(null, intervallHanlder);\r\n        document.body.addEventListener('mouseup', mouseUpHandler)\r\n        document.body.addEventListener('mouseleave', mouseUpHandler);\r\n    }\r\n\r\n    const mouseUp = handler => {\r\n        clearInterval(handler);\r\n        document.body.removeEventListener('mouseup', mouseUpHandler);\r\n        document.body.removeEventListener('mouseleave', mouseUpHandler);\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={\"pitch-btns-\" + props.name}>\r\n            <Button className=\"pitch-btn btn-increase\" \r\n                    onMouseDown={ mouseDown.bind(null, props.increaseBpm) }\r\n                    > + </Button>\r\n            <Button className=\"pitch-btn btn-decrease\" \r\n                    onMouseDown={ mouseDown.bind(null, props.decreaseBpm) }\r\n                    > - </Button>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapDispachToProps = (dispatch, ownProps) =>({\r\n    increaseBpm : () => dispatch(increaseBpm(ownProps.name, buttonStepAmount)),\r\n    decreaseBpm : () => dispatch(decreaseBpm(ownProps.name, buttonStepAmount)),  \r\n})\r\n\r\nexport default connect(null, mapDispachToProps)(PitchButtons);"]},"metadata":{},"sourceType":"module"}