{"ast":null,"code":"import _slicedToArray from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{formater}from\"./../../../../../utils/time/timeFromater\";import\"./time.scss\";var Time=function Time(_ref){var _ref$record=_ref.record,duration=_ref$record.duration,id=_ref$record.id,player=_ref.player;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),progress=_useState2[0],setProgress=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),current=_useState4[0],setCurrent=_useState4[1];useEffect(function(){if(!player){return;}player.subscribeProgress(id,setProgress);return function(){player.unSubscribeProgress(id,setProgress);};},[player,setProgress,id]);useEffect(function(){setCurrent(duration*progress);},[progress,setCurrent,duration]);return React.createElement(\"div\",{className:\"record-player-time\"},React.createElement(\"div\",{className:\"record-player-time-current\"},React.createElement(\"span\",null,formater.secondsToStr(current/1000))),React.createElement(\"div\",{className:\"record-player-time-duration\"},React.createElement(\"span\",null,formater.secondsToStr(duration/1000))));};export default Time;","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/pages/common/components/Record/Time/Time.js"],"names":["React","useState","useEffect","formater","Time","record","duration","id","player","progress","setProgress","current","setCurrent","subscribeProgress","unSubscribeProgress","secondsToStr"],"mappings":"kHAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,OAASC,QAAT,KAAyB,0CAAzB,CACA,MAAO,aAAP,CAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,MAA2C,sBAAxCC,MAAwC,CAA9BC,QAA8B,aAA9BA,QAA8B,CAApBC,EAAoB,aAApBA,EAAoB,CAAbC,MAAa,MAAbA,MAAa,eACpBP,QAAQ,CAAC,CAAD,CADY,wCAC7CQ,QAD6C,eACnCC,WADmC,8BAEtBT,QAAQ,CAAC,CAAD,CAFc,yCAE7CU,OAF6C,eAEpCC,UAFoC,eAIpDV,SAAS,CAAC,UAAM,CACZ,GAAI,CAACM,MAAL,CAAa,CACT,OACH,CACDA,MAAM,CAACK,iBAAP,CAAyBN,EAAzB,CAA6BG,WAA7B,EACA,MAAO,WAAM,CACTF,MAAM,CAACM,mBAAP,CAA2BP,EAA3B,CAA+BG,WAA/B,EACH,CAFD,CAGH,CARQ,CAQN,CAACF,MAAD,CAASE,WAAT,CAAsBH,EAAtB,CARM,CAAT,CAUAL,SAAS,CAAC,UAAM,CACZU,UAAU,CAACN,QAAQ,CAAGG,QAAZ,CAAV,CACH,CAFQ,CAEN,CAACA,QAAD,CAAWG,UAAX,CAAuBN,QAAvB,CAFM,CAAT,CAMA,MACI,4BAAK,SAAS,CAAC,oBAAf,EACI,2BAAK,SAAS,CAAC,4BAAf,EACI,gCACMH,QAAQ,CAACY,YAAT,CAAsBJ,OAAO,CAAG,IAAhC,CADN,CADJ,CADJ,CAMI,2BAAK,SAAS,CAAC,6BAAf,EACI,gCACMR,QAAQ,CAACY,YAAT,CAAsBT,QAAQ,CAAG,IAAjC,CADN,CADJ,CANJ,CADJ,CAeH,CAnCD,CAqCA,cAAeF,CAAAA,IAAf","sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport { formater } from \"./../../../../../utils/time/timeFromater\";\r\nimport \"./time.scss\"\r\n\r\nconst Time = ({ record: { duration, id },  player }) => {\r\n    const [progress, setProgress] = useState(0)\r\n    const [current, setCurrent] = useState(0)\r\n\r\n    useEffect(() => {\r\n        if (!player) {\r\n            return;\r\n        }\r\n        player.subscribeProgress(id, setProgress)\r\n        return () => {\r\n            player.unSubscribeProgress(id, setProgress)\r\n        }\r\n    }, [player, setProgress, id])\r\n\r\n    useEffect(() => {\r\n        setCurrent(duration * progress)\r\n    }, [progress, setCurrent, duration])\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"record-player-time\">\r\n            <div className=\"record-player-time-current\">\r\n                <span>\r\n                    { formater.secondsToStr(current / 1000) }\r\n                </span>\r\n            </div>\r\n            <div className=\"record-player-time-duration\">\r\n                <span>\r\n                    { formater.secondsToStr(duration / 1000) }\r\n                </span>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Time;"]},"metadata":{},"sourceType":"module"}