{"ast":null,"code":"const Equaliztion = {\n  setGainValue(channelName, knobValue, nodeName) {\n    let gain = 1 + knobValue / 100;\n    let audioCtx = this.channels.getChannel(channelName).backend.ac;\n    let channel = this.audioNodes.channels[channelName];\n    channel[nodeName].gain.setTargetAtTime(parseFloat(gain), audioCtx.currentTime, 0.01);\n  },\n\n  setFilterValue(channelName, knobValue, nodeName) {\n    let audioCtx = this.channels.getChannel(channelName).backend.ac;\n    let channel = this.audioNodes.channels[channelName];\n    channel[nodeName].gain.setValueAtTime(knobValue, audioCtx.currentTime);\n  },\n\n  setGain(channelName, knobValue) {\n    this.setGainValue(channelName, knobValue, 'mainGainNode');\n  },\n\n  setEqHigh(channelName, knobValue) {\n    this.setFilterValue(channelName, knobValue, 'eqHiFilterNode');\n  },\n\n  setEqMid(channelName, knobValue) {\n    this.setFilterValue(channelName, knobValue, 'eqMidFilterNode');\n  },\n\n  setEqLow(channelName, knobValue) {\n    this.setFilterValue(channelName, knobValue, 'eqLowFilterNode');\n  },\n\n  setFilterFreq(channelName, knobValue) {\n    knobValue *= 800;\n    const channel = this.audioNodes.channels[channelName];\n\n    if (knobValue < 0) {\n      //low pass\n      channel.lowPassFilterNode.frequency.setValueAtTime(8000 + knobValue, this.mainAudioContext.currentTime);\n      channel.highPassFilterNode.frequency.setValueAtTime(0, this.mainAudioContext.currentTime);\n      setFilterRes.call(this, channel, channel._fitlerResonasValue);\n    } else if (knobValue > 0) {\n      // high pass filter\n      channel.lowPassFilterNode.frequency.setValueAtTime(24000, this.mainAudioContext.currentTime);\n      channel.highPassFilterNode.frequency.setValueAtTime(knobValue, this.mainAudioContext.currentTime);\n      setFilterRes.call(this, channel, channel._fitlerResonasValue);\n    } else {\n      //0 turn of all\n      channel.lowPassFilterNode.frequency.setValueAtTime(24000, this.mainAudioContext.currentTime);\n      channel.highPassFilterNode.frequency.setValueAtTime(0, this.mainAudioContext.currentTime);\n      setFilterRes.call(this, channel, 0);\n    }\n\n    function setFilterRes(channel, value = 0) {\n      channel.lowPassFilterNode.Q.setValueAtTime(value, this.mainAudioContext.currentTime);\n      channel.highPassFilterNode.Q.setValueAtTime(value, this.mainAudioContext.currentTime);\n    }\n  },\n\n  setFiterResonas(channelName, knobValue) {\n    const channel = this.audioNodes.channels[channelName];\n    channel._fitlerResonasValue = knobValue;\n  }\n\n};\nexport default Equaliztion;","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/pages/console/core/console/mixer/equalization.js"],"names":["Equaliztion","setGainValue","channelName","knobValue","nodeName","gain","audioCtx","channels","getChannel","backend","ac","channel","audioNodes","setTargetAtTime","parseFloat","currentTime","setFilterValue","setValueAtTime","setGain","setEqHigh","setEqMid","setEqLow","setFilterFreq","lowPassFilterNode","frequency","mainAudioContext","highPassFilterNode","setFilterRes","call","_fitlerResonasValue","value","Q","setFiterResonas"],"mappings":"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","sourcesContent":["const Equaliztion = {\r\n\r\n    setGainValue(channelName, knobValue, nodeName) {\r\n        let gain = 1 + knobValue / 100;\r\n        let audioCtx = this.channels.getChannel(channelName).backend.ac;\r\n\r\n        let channel = this.audioNodes.channels[channelName];\r\n        channel[nodeName].gain.setTargetAtTime(parseFloat(gain), audioCtx.currentTime, 0.01);\r\n    },\r\n\r\n    setFilterValue(channelName, knobValue, nodeName) {\r\n        let audioCtx = this.channels.getChannel(channelName).backend.ac;\r\n\r\n        let channel = this.audioNodes.channels[channelName];\r\n        channel[nodeName].gain.setValueAtTime(knobValue, audioCtx.currentTime);\r\n    },\r\n\r\n    setGain(channelName, knobValue) {\r\n        this.setGainValue(channelName, knobValue, 'mainGainNode');\r\n    },\r\n\r\n    setEqHigh(channelName, knobValue) {\r\n        this.setFilterValue(channelName, knobValue, 'eqHiFilterNode');\r\n    },\r\n\r\n    setEqMid(channelName, knobValue) {\r\n        this.setFilterValue(channelName, knobValue, 'eqMidFilterNode');\r\n    },\r\n\r\n    setEqLow(channelName, knobValue) {\r\n        this.setFilterValue(channelName, knobValue, 'eqLowFilterNode');\r\n    },\r\n\r\n    setFilterFreq(channelName, knobValue) {\r\n        knobValue *= 800;\r\n        const channel = this.audioNodes.channels[channelName];\r\n        if (knobValue < 0) {\r\n            //low pass\r\n            channel.lowPassFilterNode.frequency\r\n                .setValueAtTime(8000 + knobValue, this.mainAudioContext.currentTime);\r\n\r\n            channel.highPassFilterNode.frequency\r\n                .setValueAtTime(0, this.mainAudioContext.currentTime);\r\n            setFilterRes.call(this, channel, channel._fitlerResonasValue);\r\n        } else if (knobValue > 0) {\r\n            // high pass filter\r\n            channel.lowPassFilterNode.frequency\r\n                .setValueAtTime(24000, this.mainAudioContext.currentTime);\r\n\r\n            channel.highPassFilterNode.frequency\r\n                .setValueAtTime(knobValue, this.mainAudioContext.currentTime);\r\n            setFilterRes.call(this, channel, channel._fitlerResonasValue);\r\n        } else {\r\n            //0 turn of all\r\n            channel.lowPassFilterNode.frequency\r\n                .setValueAtTime(24000, this.mainAudioContext.currentTime);\r\n\r\n            channel.highPassFilterNode.frequency\r\n                .setValueAtTime(0, this.mainAudioContext.currentTime);\r\n                \r\n            setFilterRes.call(this, channel, 0);\r\n        }\r\n\r\n        function setFilterRes(channel, value = 0) {\r\n            channel.lowPassFilterNode.Q\r\n                .setValueAtTime(value, this.mainAudioContext.currentTime);\r\n\r\n            channel.highPassFilterNode.Q\r\n                .setValueAtTime(value, this.mainAudioContext.currentTime);\r\n        }\r\n    },\r\n\r\n    setFiterResonas(channelName, knobValue) {\r\n        const channel = this.audioNodes.channels[channelName];\r\n        channel._fitlerResonasValue = knobValue;\r\n    },\r\n}\r\n\r\nexport default Equaliztion;"]},"metadata":{},"sourceType":"module"}