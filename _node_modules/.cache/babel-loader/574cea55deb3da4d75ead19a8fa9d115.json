{"ast":null,"code":"import _objectSpread from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import{produce}from\"imer\";import{ACTIONS}from\"./../../actions\";var channel={volume:100,low:100,mid:100,high:100,gain:100,filter:0,filterResonans:0,cue:false,sends:[0,0]};var initState={cueEnabled:false,channels:{A:_objectSpread({},channel),B:_objectSpread({},channel)},fader:{position:50//A: 0 <-> B:100\n}};var nextChannelState=function nextChannelState(state,channel,variables){return produce(state,function(draftSate){draftSate.channels[channel]=_objectSpread({},state.channels[channel],{},variables);});};export default function mixerReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ACTIONS.SET_GAIN:{return nextChannelState(state,action.destination,{gain:action.value});}case ACTIONS.SET_LOW:{return nextChannelState(state,action.destination,{low:action.value});}case ACTIONS.SET_MID:{return nextChannelState(state,action.destination,{mid:action.value});}case ACTIONS.SET_HI:{return nextChannelState(state,action.destination,{high:action.value});}case ACTIONS.SET_FADER:{return produce(state,function(draftState){return draftState.fader.position=action.value;});}case ACTIONS.SET_FILTER:{return nextChannelState(state,action.destination,{filter:action.value});}case ACTIONS.SET_FILTER_RES:{return nextChannelState(state,action.destination,{filterResonans:action.value});}case ACTIONS.SET_SEND:{return produce(state,function(draftSate){return draftSate.channels[action.destination].sends[action.number-1]=action.value;});}case ACTIONS.SET_CUE_ENABLED:{return produce(state,function(draftSate){return draftSate.cueEnabled=action.value;});}case ACTIONS.SET_CUE:{if(!state.cueEnabled)return state;return produce(state,function(draftSate){return draftSate.channels[action.destination].cue=action.value;});}default:return state;}}","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/reducers/console/mixerReducer.js"],"names":["produce","ACTIONS","channel","volume","low","mid","high","gain","filter","filterResonans","cue","sends","initState","cueEnabled","channels","A","B","fader","position","nextChannelState","state","variables","draftSate","mixerReducer","action","type","SET_GAIN","destination","value","SET_LOW","SET_MID","SET_HI","SET_FADER","draftState","SET_FILTER","SET_FILTER_RES","SET_SEND","number","SET_CUE_ENABLED","SET_CUE"],"mappings":"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","sourcesContent":["import { produce } from \"imer\";\r\nimport { ACTIONS } from \"./../../actions\";\r\n\r\nconst channel = {\r\n    volume: 100,\r\n\r\n    low: 100,\r\n    mid: 100,\r\n    high: 100,\r\n    gain: 100,\r\n    filter: 0,\r\n    filterResonans: 0,\r\n    cue: false,\r\n    sends: [0, 0]\r\n}\r\n\r\nconst initState = {\r\n    cueEnabled: false,\r\n    channels: {\r\n        A: {\r\n            ...channel,\r\n        },\r\n        B: {\r\n            ...channel,\r\n        },\r\n    },\r\n    fader: {\r\n        position: 50 //A: 0 <-> B:100\r\n    }\r\n};\r\n\r\nconst nextChannelState = (state, channel, variables) => {\r\n    return produce(state, draftSate => {\r\n        draftSate.channels[channel] = {\r\n            ...state.channels[channel],\r\n            ...variables,\r\n        }\r\n    })\r\n}\r\n\r\nexport default function mixerReducer(state = initState, action) {\r\n    switch (action.type) {\r\n        case ACTIONS.SET_GAIN: {\r\n            return nextChannelState(state, action.destination, { gain: action.value })\r\n        }\r\n        case ACTIONS.SET_LOW: {\r\n            return nextChannelState(state, action.destination, { low: action.value })\r\n        }\r\n        case ACTIONS.SET_MID: {\r\n            return nextChannelState(state, action.destination, { mid: action.value })\r\n        }\r\n        case ACTIONS.SET_HI: {\r\n            return nextChannelState(state, action.destination, { high: action.value })\r\n        }\r\n        case ACTIONS.SET_FADER: {\r\n            return produce(state, draftState => draftState.fader.position = action.value);\r\n        }\r\n\r\n        case ACTIONS.SET_FILTER: {\r\n            return nextChannelState(state, action.destination, { filter: action.value })\r\n        }\r\n\r\n        case ACTIONS.SET_FILTER_RES: {\r\n            return nextChannelState(state, action.destination, { filterResonans: action.value })\r\n        }\r\n\r\n        case ACTIONS.SET_SEND: {\r\n            return produce(state, draftSate =>\r\n                draftSate.channels[action.destination].sends[action.number - 1] = action.value\r\n            )\r\n        }\r\n\r\n        case ACTIONS.SET_CUE_ENABLED : {\r\n            return produce(state, draftSate =>\r\n                    draftSate.cueEnabled = action.value\r\n                )\r\n        }\r\n\r\n        case ACTIONS.SET_CUE : {\r\n            if(!state.cueEnabled) return state;\r\n            return produce(state, draftSate=>\r\n                    draftSate.channels[action.destination].cue = action.value\r\n                )\r\n        }\r\n\r\n        default: return state;\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}