{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import{Log,Logger}from\"./../../utils/logger/logger\";var apiUrl=process.env.REACT_APP_YT_API_URL;var maxResults=10;export function search(){return _search.apply(this,arguments);}function _search(){_search=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var query,limit,publicErrorMsg,comand,options,url,data,_args=arguments;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:query=_args.length>0&&_args[0]!==undefined?_args[0]:\"\";limit=_args.length>1&&_args[1]!==undefined?_args[1]:maxResults;publicErrorMsg=\"Sorry during conectig to youtube api occured problem. Searching the youtube database is not posible in this moment\";comand=\"/api/search?q=\";options='&maxResults='+limit;url=apiUrl+comand+encodeURI(query)+options;_context.next=8;return fetch(url).then(function(res){return res.json();}).catch(function(error){Logger.push(Log.Error(['api','youtube','search'],\"Can't recive search data from youtube\"+error.message,publicErrorMsg,error));});case 8:data=_context.sent;return _context.abrupt(\"return\",data);case 10:case\"end\":return _context.stop();}}},_callee);}));return _search.apply(this,arguments);}export default{search:search,getUrl:function getUrl(id){return apiUrl+\"/api/download?url=https://www.youtube.com/watch?v=\"+id;},getStreamUrl:function getStreamUrl(id){return apiUrl+\"/api/stream?url=https://www.youtube.com/watch?v=\"+id;},getUrlToExternall:function getUrlToExternall(id){return\"https://www.youtube.com/watch?v=\"+id;}};","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/apis/yt/ytApi.js"],"names":["Log","Logger","apiUrl","process","env","REACT_APP_YT_API_URL","maxResults","search","query","limit","publicErrorMsg","comand","options","url","encodeURI","fetch","then","res","json","catch","error","push","Error","message","data","getUrl","id","getStreamUrl","getUrlToExternall"],"mappings":"iOAAA,OAASA,GAAT,CAAcC,MAAd,KAA4B,6BAA5B,CAEA,GAAMC,CAAAA,MAAM,CAAGC,OAAO,CAACC,GAAR,CAAYC,oBAA3B,CACA,GAAMC,CAAAA,UAAU,CAAG,EAAnB,CAEA,eAAsBC,CAAAA,MAAtB,yC,mFAAO,0MAAsBC,KAAtB,+CAA8B,EAA9B,CAAkCC,KAAlC,+CAA0CH,UAA1C,CACGI,cADH,sHAGGC,MAHH,CAGa,gBAHb,CAIGC,OAJH,CAIa,eAAiBH,KAJ9B,CAKGI,GALH,CAKSX,MAAM,CAAGS,MAAT,CAAkBG,SAAS,CAACN,KAAD,CAA3B,CAAqCI,OAL9C,uBAOcG,CAAAA,KAAK,CAACF,GAAD,CAAL,CAAWG,IAAX,CAAgB,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EAAnB,EAAmCC,KAAnC,CAA0C,SAAAC,KAAK,CAAI,CAChEnB,MAAM,CAACoB,IAAP,CAAYrB,GAAG,CAACsB,KAAJ,CACR,CAAC,KAAD,CAAQ,SAAR,CAAmB,QAAnB,CADQ,CAER,wCAA0CF,KAAK,CAACG,OAFxC,CAGRb,cAHQ,CAIRU,KAJQ,CAAZ,EAMH,CAPgB,CAPd,QAOCI,IAPD,+CAgBIA,IAhBJ,yD,yCAmBP,cAAe,CACXjB,MAAM,CAANA,MADW,CAGXkB,MAAM,CAAG,gBAACC,EAAD,CAAQ,CACb,MAAOxB,CAAAA,MAAM,CAAG,oDAAT,CAAgEwB,EAAvE,CACH,CALU,CAOXC,YAAY,CAAE,sBAACD,EAAD,CAAQ,CAClB,MAAOxB,CAAAA,MAAM,CAAG,kDAAT,CAA8DwB,EAArE,CACH,CATU,CAWXE,iBAAiB,CAAG,2BAACF,EAAD,CAAQ,CACxB,MAAO,mCAAqCA,EAA5C,CACH,CAbU,CAAf","sourcesContent":["import { Log, Logger } from \"./../../utils/logger/logger\";\r\n\r\nconst apiUrl = process.env.REACT_APP_YT_API_URL;\r\nconst maxResults = 10\r\n\r\nexport async function search(query = \"\", limit = maxResults){\r\n    const publicErrorMsg =  `Sorry during conectig to youtube api occured problem. Searching the youtube database is not posible in this moment`\r\n   \r\n    const comand =  \"/api/search?q=\";\r\n    const options = '&maxResults=' + limit ;\r\n    const url = apiUrl + comand + encodeURI(query) + options;\r\n\r\n    let data = await fetch(url).then(res => res.json()).catch( error => {\r\n        Logger.push(Log.Error(\r\n            ['api', 'youtube', 'search'],\r\n            \"Can't recive search data from youtube\" + error.message,\r\n            publicErrorMsg,\r\n            error\r\n        ))\r\n    });\r\n\r\n    return data;\r\n}\r\n\r\nexport default {\r\n    search,\r\n\r\n    getUrl : (id) => {\r\n        return apiUrl + \"/api/download?url=https://www.youtube.com/watch?v=\" + id ; \r\n    },\r\n\r\n    getStreamUrl: (id) => {\r\n        return apiUrl + \"/api/stream?url=https://www.youtube.com/watch?v=\" + id ; \r\n    },\r\n\r\n    getUrlToExternall : (id) => {\r\n        return \"https://www.youtube.com/watch?v=\" + id;\r\n    }\r\n} \r\n"]},"metadata":{},"sourceType":"module"}