{"ast":null,"code":"import _classCallCheck from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from\"react\";import{connect}from\"react-redux\";import{Button}from\"react-bootstrap\";import MiniSlider from\"./MiniSlider/MiniSlider\";import\"./looper.scss\";import{setLoop as _setLoop,setLoopLength as _setLoopLength}from\"./.././../../../../../actions\";var Looper=/*#__PURE__*/function(_React$Component){_inherits(Looper,_React$Component);function Looper(){var _this;_classCallCheck(this,Looper);_this=_possibleConstructorReturn(this,_getPrototypeOf(Looper).call(this));_this.sliderElement=React.createRef();_this.state={lengths:[],position:0};for(var i=1/64;i<=64;i=i*2){_this.state.lengths.push(i);}return _this;}_createClass(Looper,[{key:\"sliderValueChange\",value:function sliderValueChange(currentSlide){this.props.setLoopLength(this.state.lengths[currentSlide]);}},{key:\"render\",value:function render(){var listItems=this.state.lengths.map(function(length,index){var display=length;if(length<1){display=\"1/\"+1/length;}return React.createElement(\"li\",{className:\"slider-list-item\",key:index,\"data-value\":length},display);});return React.createElement(\"div\",{className:\"looper looper-deck-\"+this.props.name},React.createElement(Button,{className:\"btn-in\"+(this.props.loopState?\" btn--pressed-filed\":\"\"),onClick:this.props.setLoop.bind(null,true)},\"IN\"),React.createElement(Button,{className:\"btn-out\",onClick:this.props.setLoop.bind(null,false)},\"OUT\"),React.createElement(MiniSlider,{onChange:this.sliderValueChange.bind(this),className:\"mini-slider-deck-\"+this.props.name,renderItems:listItems,initValue:8}));}}]);return Looper;}(React.Component);var mapStateToProps=function mapStateToProps(state,ownProps){return{loopState:state.console.channel[ownProps.name].playBackState.loop};};var mapDispachToProps=function mapDispachToProps(dispatch,ownProps){return{setLoop:function setLoop(value){return dispatch(_setLoop(ownProps.name,value));},setLoopLength:function setLoopLength(value){return dispatch(_setLoopLength(ownProps.name,value));}};};export default connect(mapStateToProps,mapDispachToProps)(Looper);","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/pages/console/components/Console/Deck/Looper/Looper.js"],"names":["React","connect","Button","MiniSlider","setLoop","setLoopLength","Looper","sliderElement","createRef","state","lengths","position","i","push","currentSlide","props","listItems","map","length","index","display","name","loopState","bind","sliderValueChange","Component","mapStateToProps","ownProps","console","channel","playBackState","loop","mapDispachToProps","dispatch","value"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport MiniSlider from \"./MiniSlider/MiniSlider\";\r\nimport \"./looper.scss\";\r\nimport {setLoop, setLoopLength} from \"./.././../../../../../actions\";\r\n\r\nclass Looper extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.sliderElement = React.createRef();\r\n    this.state = {\r\n      lengths: [],\r\n      position: 0,\r\n    };\r\n\r\n    for (let i = 1 / 64; i <= 64; i = i * 2) {\r\n      this.state.lengths.push(i);\r\n    }\r\n  }\r\n\r\n  sliderValueChange(currentSlide) {\r\n    this.props.setLoopLength(this.state.lengths[currentSlide]);\r\n  }\r\n\r\n  render() {\r\n    const listItems = this.state.lengths.map((length, index) => {\r\n        let display = length;\r\n        if (length < 1) {\r\n            display = \"1/\" + 1 / length;\r\n        }\r\n\r\n        return (<li className=\"slider-list-item\" \r\n                    key={index} \r\n                    data-value={length}>\r\n                        {display}\r\n                </li>);\r\n    });\r\n\r\n    return (\r\n      <div className={\"looper looper-deck-\" + this.props.name}>\r\n        <Button className={\"btn-in\" + ((this.props.loopState) ? \" btn--pressed-filed\" : \"\")}\r\n                onClick={this.props.setLoop.bind(null, true)}>\r\n                  IN\r\n        </Button>\r\n        <Button className=\"btn-out\" onClick={this.props.setLoop.bind(null, false)}>OUT</Button>\r\n        <MiniSlider\r\n          onChange={this.sliderValueChange.bind(this)}\r\n          className={\"mini-slider-deck-\" + this.props.name}\r\n          renderItems={listItems}\r\n          initValue={8}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    loopState : state.console.channel[ownProps.name].playBackState.loop,\r\n})\r\n\r\nconst mapDispachToProps = (dispatch, ownProps) => ({\r\n    setLoop : (value) => dispatch(setLoop(ownProps.name, value)),\r\n    setLoopLength : (value) => dispatch(setLoopLength(ownProps.name, value))\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispachToProps)(Looper);\r\n"]},"metadata":{},"sourceType":"module"}