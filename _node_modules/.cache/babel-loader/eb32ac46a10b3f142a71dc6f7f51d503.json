{"ast":null,"code":"import _slicedToArray from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _toConsumableArray from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import{faFile}from\"@fortawesome/free-solid-svg-icons\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import ClassName from\"classnames\";import React,{useCallback,useRef}from\"react\";import{useDrag,useDrop}from\"react-dnd\";import{connect}from\"react-redux\";import UUID from\"uuidjs\";import ItemTypes from\"../../../../../DndItemTypes\";import{copyTrackToList}from\"./../../../../../../../actions\";var FileElement=function FileElement(props){var name=props.name,path=props.path,renameMode=props.renameMode,renameInput=props.renameInput,addTrackToList=props.addTrackToList;var fullPath=[].concat(_toConsumableArray(path),[name]);var ref=useRef(null);var handleDrop=useCallback(function(item){addTrackToList(item.track,fullPath);},[addTrackToList,fullPath]);var _useDrag=useDrag({item:{type:ItemTypes.FILE,fullPath:fullPath}}),_useDrag2=_slicedToArray(_useDrag,2),drag=_useDrag2[1];var _useDrop=useDrop({accept:ItemTypes.TRACK,drop:handleDrop}),_useDrop2=_slicedToArray(_useDrop,2),drop=_useDrop2[1];var currentSelected=fullPath.join(\"\")===props.currentSelection.join(\"\");var currentlyOpen=fullPath.join(\"\")===props.currentPlaylist.join(\"\");var liClassList=ClassName(\"list-item item-file\",{\"item--selected\":currentSelected},{\"item--curently-open\":currentlyOpen});var content=name;if(currentSelected&&renameMode){content=renameInput(name);}drop(drag(ref));return React.createElement(\"li\",{ref:ref,className:liClassList,onClick:props.onClick,onContextMenu:props.onContextMenu,\"data-path\":path.join(\"/\"),key:UUID.genV1()},React.createElement(FontAwesomeIcon,{className:\"icon icon-file\",icon:faFile}),content);};var mapStateToProps=function mapStateToProps(state){return{currentSelection:state.playList.currentSelection,currentPlaylist:state.playList.currentPlaylist};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{addTrackToList:function addTrackToList(track,path){return dispatch(copyTrackToList(track,path));}};};export default connect(mapStateToProps,mapDispatchToProps)(FileElement);","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/pages/common/components/PlayListExplorer/Explorer/ExplorerTree/FileElement/FileElement.js"],"names":["faFile","FontAwesomeIcon","ClassName","React","useCallback","useRef","useDrag","useDrop","connect","UUID","ItemTypes","copyTrackToList","FileElement","props","name","path","renameMode","renameInput","addTrackToList","fullPath","ref","handleDrop","item","track","type","FILE","drag","accept","TRACK","drop","currentSelected","join","currentSelection","currentlyOpen","currentPlaylist","liClassList","content","onClick","onContextMenu","genV1","mapStateToProps","state","playList","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import { faFile } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport ClassName from \"classnames\";\r\nimport React, { useCallback, useRef } from \"react\";\r\nimport { useDrag, useDrop } from \"react-dnd\";\r\nimport { connect } from \"react-redux\";\r\nimport UUID from \"uuidjs\";\r\nimport ItemTypes from \"../../../../../DndItemTypes\";\r\nimport { copyTrackToList } from \"./../../../../../../../actions\";\r\n\r\nconst FileElement = props => {\r\n    const {\r\n        name,\r\n        path,\r\n        renameMode,\r\n        renameInput,\r\n        addTrackToList,\r\n    } = props;\r\n\r\n    const fullPath = [...path, name]\r\n    const ref = useRef(null)\r\n\r\n    const handleDrop = useCallback((item) => {\r\n        addTrackToList(item.track, fullPath)\r\n    }, [addTrackToList, fullPath])\r\n\r\n    const [, drag] = useDrag({\r\n        item: {\r\n            type: ItemTypes.FILE,\r\n            fullPath: fullPath\r\n        },\r\n    })\r\n\r\n    const [, drop] = useDrop({\r\n        accept: ItemTypes.TRACK,\r\n        drop: handleDrop\r\n    })\r\n\r\n    let currentSelected = (fullPath.join(\"\") === props.currentSelection.join(\"\"));\r\n    let currentlyOpen = (fullPath.join(\"\") === props.currentPlaylist.join(\"\"));\r\n\r\n\r\n    const liClassList = ClassName(\r\n        \"list-item item-file\",\r\n        { \"item--selected\": currentSelected },\r\n        { \"item--curently-open\" : currentlyOpen }\r\n    )\r\n    \r\n    let content = name\r\n    if (currentSelected && renameMode) {\r\n        content = renameInput(name)\r\n    }\r\n\r\n    drop(drag(ref))\r\n    return (\r\n        <li\r\n            ref={ref}\r\n            className={liClassList}\r\n            onClick={props.onClick}\r\n            onContextMenu={props.onContextMenu}\r\n            data-path={path.join(\"/\")}\r\n            key={UUID.genV1()}>\r\n                <FontAwesomeIcon className=\"icon icon-file\" icon={faFile} />\r\n            {content}\r\n        </li>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    currentSelection: state.playList.currentSelection,\r\n    currentPlaylist: state.playList.currentPlaylist\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    addTrackToList: (track, path) => dispatch(copyTrackToList(track, path))\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FileElement);\r\n\r\n"]},"metadata":{},"sourceType":"module"}