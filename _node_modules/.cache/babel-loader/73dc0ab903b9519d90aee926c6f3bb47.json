{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROJEKTY\\\\APKI\\\\DjTruck\\\\djtruck\\\\src\\\\pages\\\\app\\\\components\\\\Search\\\\SerachList\\\\SearchList.js\";\nimport { ACTIONS } from \"../../../../../actions\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { stripHtml } from \"./../../../../../utils/html/htmlHelper\";\nimport { getApi } from \"./../../../../../apis/apiProvider\";\nimport UUID from \"uuidjs\"; //----\n\nimport \"./search-list.scss\";\n\nconst SearchListItem = props => {\n  var _thumbnails$default;\n\n  const {\n    title,\n    description,\n    id,\n    thumbnails,\n    duration,\n    source\n  } = props.item;\n  const api = getApi(source);\n  const sourceUrl = api.getUrlToExternall(id);\n\n  const formatTime = time => time && time.substr(2, time.length).toLowerCase();\n\n  const handleClick = () => {\n    props.item._id = UUID.getV1();\n    props.addToListHandle(props.item);\n    props.closeListHandle();\n  };\n\n  return React.createElement(\"li\", {\n    className: \"search-list-item\",\n    onClick: handleClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"list-item-thumbnails\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    alt: \"youtube thumbnail\",\n    className: \"thumbnail-img\",\n    src: thumbnails === null || thumbnails === void 0 ? void 0 : (_thumbnails$default = thumbnails.default) === null || _thumbnails$default === void 0 ? void 0 : _thumbnails$default.url,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"thumbnail-time\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, formatTime(duration))), React.createElement(\"div\", {\n    className: \"list-item-details\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, stripHtml(title)), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, stripHtml(description)), React.createElement(\"a\", {\n    href: sourceUrl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, \" \", sourceUrl, \" \")));\n};\n\nclass SearchList extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      open: true\n    };\n  }\n\n  render() {\n    var _this$props$searchLis, _this$props$searchLis2, _this$props$searchLis3;\n\n    return this.props.open && React.createElement(\"div\", {\n      className: \"search-results\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, ((_this$props$searchLis = this.props.searchList[0]) === null || _this$props$searchLis === void 0 ? void 0 : _this$props$searchLis.error) && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \" Connect to youtube problem: \", React.createElement(\"pre\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, JSON.stringify((_this$props$searchLis2 = this.props.searchList[0]) === null || _this$props$searchLis2 === void 0 ? void 0 : _this$props$searchLis2.error.errors))), React.createElement(\"ul\", {\n      className: \"search-result-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, this.props.searchList && !((_this$props$searchLis3 = this.props.searchList[0]) === null || _this$props$searchLis3 === void 0 ? void 0 : _this$props$searchLis3.error) && this.props.searchList.map(item => React.createElement(SearchListItem, {\n      item: item,\n      addToListHandle: this.props.addToListHandle,\n      closeListHandle: this.props.selectedHandle,\n      key: item.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }))));\n  }\n\n}\n\n;\n\nconst mapStateToProps = state => {\n  return {\n    searchList: state.searchReducer.searchResults\n  };\n};\n\nconst mapDispachToProps = dispach => {\n  return {\n    addToListHandle: track => dispach({\n      type: ACTIONS.PUSH_TRACK,\n      track: track\n    })\n  };\n};\n\nexport default connect(mapStateToProps, mapDispachToProps)(SearchList);","map":{"version":3,"sources":["D:/PROJEKTY/APKI/DjTruck/djtruck/src/pages/app/components/Search/SerachList/SearchList.js"],"names":["ACTIONS","React","connect","stripHtml","getApi","UUID","SearchListItem","props","title","description","id","thumbnails","duration","source","item","api","sourceUrl","getUrlToExternall","formatTime","time","substr","length","toLowerCase","handleClick","_id","getV1","addToListHandle","closeListHandle","default","url","SearchList","Component","constructor","state","open","render","searchList","error","JSON","stringify","errors","map","selectedHandle","mapStateToProps","searchReducer","searchResults","mapDispachToProps","dispach","track","type","PUSH_TRACK"],"mappings":";AAAA,SAASA,OAAT,QAAwB,wBAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,SAAT,QAA0B,wCAA1B;AACA,SAAQC,MAAR,QAAqB,mCAArB;AACA,OAAOC,IAAP,MAAiB,QAAjB,C,CACA;;AACA,OAAO,oBAAP;;AAGA,MAAMC,cAAc,GAAKC,KAAF,IAAa;AAAA;;AAEhC,QAAM;AAACC,IAAAA,KAAD;AAAQC,IAAAA,WAAR;AAAqBC,IAAAA,EAArB;AAAyBC,IAAAA,UAAzB;AAAqCC,IAAAA,QAArC;AAA+CC,IAAAA;AAA/C,MAAyDN,KAAK,CAACO,IAArE;AAEA,QAAMC,GAAG,GAAGX,MAAM,CAACS,MAAD,CAAlB;AAEA,QAAMG,SAAS,GAAGD,GAAG,CAACE,iBAAJ,CAAsBP,EAAtB,CAAlB;;AAEA,QAAMQ,UAAU,GAAGC,IAAI,IAAKA,IAAI,IAAIA,IAAI,CAACC,MAAL,CAAY,CAAZ,EAAeD,IAAI,CAACE,MAApB,EAA4BC,WAA5B,EAApC;;AAEA,QAAMC,WAAW,GAAG,MAAM;AACtBhB,IAAAA,KAAK,CAACO,IAAN,CAAWU,GAAX,GAAiBnB,IAAI,CAACoB,KAAL,EAAjB;AACAlB,IAAAA,KAAK,CAACmB,eAAN,CAAsBnB,KAAK,CAACO,IAA5B;AACAP,IAAAA,KAAK,CAACoB,eAAN;AACH,GAJD;;AAOA,SACI;AAAI,IAAA,SAAS,EAAC,kBAAd;AAAiC,IAAA,OAAO,EAAEJ,WAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,GAAG,EAAC,mBAAT;AAA6B,IAAA,SAAS,EAAC,eAAvC;AAAuD,IAAA,GAAG,EAAGZ,UAAH,aAAGA,UAAH,8CAAGA,UAAU,CAAEiB,OAAf,wDAAG,oBAAqBC,GAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAM,IAAA,SAAS,EAAC,gBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAmCX,UAAU,CAACN,QAAD,CAA7C,CAFJ,CADJ,EAKI;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMT,SAAS,CAACK,KAAD,CAAf,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKL,SAAS,CAACM,WAAD,CAAd,CAFJ,EAGI;AAAG,IAAA,IAAI,EAAGO,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAyBA,SAAzB,MAHJ,CALJ,CADJ;AAaH,CA9BD;;AAgCA,MAAMc,UAAN,SAAyB7B,KAAK,CAAC8B,SAA/B,CAAwC;AACpCC,EAAAA,WAAW,GAAE;AACT;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,IAAI,EAAG;AADE,KAAb;AAGH;;AAGDC,EAAAA,MAAM,GAAE;AAAA;;AACJ,WACK,KAAK5B,KAAL,CAAW2B,IAAX,IAAmB;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACd,+BAAK3B,KAAL,CAAW6B,UAAX,CAAsB,CAAtB,iFAA0BC,KAA1B,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAAkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMC,IAAI,CAACC,SAAL,2BAAe,KAAKhC,KAAL,CAAW6B,UAAX,CAAsB,CAAtB,CAAf,2DAAe,uBAA0BC,KAA1B,CAAgCG,MAA/C,CAAN,CAAlC,CAFY,EAIhB;AAAI,MAAA,SAAS,EAAC,oBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEM,KAAKjC,KAAL,CAAW6B,UAAX,IAAyB,4BAAC,KAAK7B,KAAL,CAAW6B,UAAX,CAAsB,CAAtB,CAAD,2DAAC,uBAA0BC,KAA3B,CAAzB,IAA6D,KAAK9B,KAAL,CAAW6B,UAAX,CAAsBK,GAAtB,CAA2B3B,IAAI,IAC1F,oBAAC,cAAD;AACA,MAAA,IAAI,EAAGA,IADP;AAEA,MAAA,eAAe,EAAG,KAAKP,KAAL,CAAWmB,eAF7B;AAGA,MAAA,eAAe,EAAG,KAAKnB,KAAL,CAAWmC,cAH7B;AAIA,MAAA,GAAG,EAAG5B,IAAI,CAACJ,EAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAD2D,CAFnE,CAJgB,CADxB;AAkBH;;AA5BmC;;AA6BvC;;AAED,MAAMiC,eAAe,GAAGV,KAAK,IAAI;AAC7B,SAAO;AACHG,IAAAA,UAAU,EAAGH,KAAK,CAACW,aAAN,CAAoBC;AAD9B,GAAP;AAGH,CAJD;;AAMA,MAAMC,iBAAiB,GAAGC,OAAO,IAAI;AACjC,SAAO;AACHrB,IAAAA,eAAe,EAAIsB,KAAD,IAAYD,OAAO,CAAC;AAAEE,MAAAA,IAAI,EAAEjD,OAAO,CAACkD,UAAhB;AAA6BF,MAAAA,KAAK,EAAGA;AAArC,KAAD;AADlC,GAAP;AAGH,CAJD;;AAMA,eAAe9C,OAAO,CAACyC,eAAD,EAAkBG,iBAAlB,CAAP,CAA4ChB,UAA5C,CAAf","sourcesContent":["import { ACTIONS } from \"../../../../../actions\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { stripHtml } from \"./../../../../../utils/html/htmlHelper\";\r\nimport {getApi} from \"./../../../../../apis/apiProvider\";\r\nimport UUID from \"uuidjs\"\r\n//----\r\nimport \"./search-list.scss\";\r\n\r\n\r\nconst SearchListItem = ( props ) => {\r\n\r\n    const {title, description, id, thumbnails, duration, source} = props.item;\r\n\r\n    const api = getApi(source);\r\n\r\n    const sourceUrl = api.getUrlToExternall(id);\r\n\r\n    const formatTime = time => (time && time.substr(2, time.length).toLowerCase());\r\n\r\n    const handleClick = () => {\r\n        props.item._id = UUID.getV1();\r\n        props.addToListHandle(props.item);\r\n        props.closeListHandle();\r\n    }\r\n\r\n\r\n    return(\r\n        <li className=\"search-list-item\" onClick={handleClick}>\r\n            <div className=\"list-item-thumbnails\">\r\n                <img alt=\"youtube thumbnail\" className=\"thumbnail-img\" src={ thumbnails?.default?.url } />\r\n                <span className=\"thumbnail-time\">{ formatTime(duration) }</span>\r\n            </div>\r\n            <div className=\"list-item-details\">\r\n                <h5>{ stripHtml(title) }</h5>\r\n                <p>{ stripHtml(description) }</p>\r\n                <a href={ sourceUrl }> { sourceUrl } </a>\r\n            </div>\r\n        </li>\r\n    )\r\n}\r\n\r\nclass SearchList extends React.Component{\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            open : true,\r\n        }\r\n    }\r\n\r\n\r\n    render(){\r\n        return (\r\n            (this.props.open && <div className=\"search-results\">\r\n                { this.props.searchList[0]?.error &&\r\n                    <div> Connect to youtube problem: <pre>{JSON.stringify(this.props.searchList[0]?.error.errors)}</pre></div>\r\n                }\r\n                <ul className=\"search-result-list\">\r\n                    { \r\n                    ( this.props.searchList && !this.props.searchList[0]?.error && this.props.searchList.map( item => \r\n                        <SearchListItem \r\n                        item={ item } \r\n                        addToListHandle={ this.props.addToListHandle } \r\n                        closeListHandle={ this.props.selectedHandle }\r\n                        key={ item.id }/> \r\n                    )) \r\n                    }\r\n                </ul>\r\n            </div>)\r\n        );\r\n    }\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        searchList : state.searchReducer.searchResults,\r\n    }\r\n}\r\n\r\nconst mapDispachToProps = dispach => {\r\n    return {\r\n        addToListHandle : (track) =>  dispach({ type: ACTIONS.PUSH_TRACK , track : track})\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispachToProps)(SearchList);"]},"metadata":{},"sourceType":"module"}