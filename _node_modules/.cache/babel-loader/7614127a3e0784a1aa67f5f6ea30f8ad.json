{"ast":null,"code":"import _objectSpread from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import React from\"react\";import{getApi}from\"./../../../../../../apis/apiProvider\";import{stripHtml}from\"./../../../../../../utils/html/htmlHelper\";import{formater}from\"./../../../../../../utils/time/timeFromater\";var SearchListItem=function SearchListItem(props){var _thumbnails$default;var _props$item=props.item,title=_props$item.title,description=_props$item.description,id=_props$item.sourceId,thumbnails=_props$item.thumbnails,duration=_props$item.duration,source=_props$item.source;var api=getApi(source);var sourceUrl=api.getUrlToExternall(id);var formatTime=function formatTime(time){if(!time)return null;if(typeof time===\"number\"){return formater.secondsToStr(time);}else if(typeof time===\"string\"&&time.startsWith(\"PT\")){return time.substr(2,time.length).toLowerCase();}};var handleClick=function handleClick(){var track=_objectSpread({},props.item);if(track.source===\"YouTube\"&&typeof track.duration===\"string\"){track.duration=formater.ptToSeconds(track.duration);}props.addToListHandle(track);props.closeListHandle();};return React.createElement(\"li\",{className:\"search-list-item\",onClick:handleClick},React.createElement(\"div\",{className:\"list-item-thumbnails\"},React.createElement(\"img\",{alt:\"youtube thumbnail\",className:\"thumbnail-img\",src:thumbnails===null||thumbnails===void 0?void 0:(_thumbnails$default=thumbnails.default)===null||_thumbnails$default===void 0?void 0:_thumbnails$default.url}),React.createElement(\"span\",{className:\"thumbnail-time\"},formatTime(duration))),React.createElement(\"div\",{className:\"list-item-details\"},React.createElement(\"h5\",null,stripHtml(title)),React.createElement(\"p\",null,stripHtml(description)),React.createElement(\"a\",{href:sourceUrl},\" \",sourceUrl,\" \")));};export default SearchListItem;","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/pages/common/components/ExternalSearch/SerachList/SearchListItem/SearchListItem.js"],"names":["React","getApi","stripHtml","formater","SearchListItem","props","item","title","description","id","sourceId","thumbnails","duration","source","api","sourceUrl","getUrlToExternall","formatTime","time","secondsToStr","startsWith","substr","length","toLowerCase","handleClick","track","ptToSeconds","addToListHandle","closeListHandle","default","url"],"mappings":"iHAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,MAAT,KAAuB,sCAAvB,CACA,OAASC,SAAT,KAA0B,2CAA1B,CACA,OAASC,QAAT,KAAyB,6CAAzB,CAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,KAAD,CAAW,yCAS1BA,KAAK,CAACC,IAToB,CAG1BC,KAH0B,aAG1BA,KAH0B,CAI1BC,WAJ0B,aAI1BA,WAJ0B,CAKhBC,EALgB,aAK1BC,QAL0B,CAM1BC,UAN0B,aAM1BA,UAN0B,CAO1BC,QAP0B,aAO1BA,QAP0B,CAQ1BC,MAR0B,aAQ1BA,MAR0B,CAW9B,GAAMC,CAAAA,GAAG,CAAGb,MAAM,CAACY,MAAD,CAAlB,CAEA,GAAME,CAAAA,SAAS,CAAGD,GAAG,CAACE,iBAAJ,CAAsBP,EAAtB,CAAlB,CAEA,GAAMQ,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAAC,IAAI,CAAI,CACvB,GAAG,CAACA,IAAJ,CAAU,MAAO,KAAP,CAEV,GAAG,MAAOA,CAAAA,IAAP,GAAgB,QAAnB,CAA4B,CACxB,MAAOf,CAAAA,QAAQ,CAACgB,YAAT,CAAsBD,IAAtB,CAAP,CACH,CAFD,IAEO,IAAG,MAAOA,CAAAA,IAAP,GAAgB,QAAhB,EAA4BA,IAAI,CAACE,UAAL,CAAgB,IAAhB,CAA/B,CAAqD,CACxD,MAAOF,CAAAA,IAAI,CAACG,MAAL,CAAY,CAAZ,CAAeH,IAAI,CAACI,MAApB,EAA4BC,WAA5B,EAAP,CACH,CACJ,CARD,CAUA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtB,GAAMC,CAAAA,KAAK,kBACJpB,KAAK,CAACC,IADF,CAAX,CAIA,GAAImB,KAAK,CAACZ,MAAN,GAAiB,SAAjB,EAA8B,MAAOY,CAAAA,KAAK,CAACb,QAAb,GAA0B,QAA5D,CAAsE,CAClEa,KAAK,CAACb,QAAN,CAAiBT,QAAQ,CAACuB,WAAT,CAAqBD,KAAK,CAACb,QAA3B,CAAjB,CACH,CACDP,KAAK,CAACsB,eAAN,CAAsBF,KAAtB,EACApB,KAAK,CAACuB,eAAN,GACH,CAVD,CAYA,MACI,2BAAI,SAAS,CAAC,kBAAd,CAAiC,OAAO,CAAEJ,WAA1C,EACI,2BAAK,SAAS,CAAC,sBAAf,EACI,2BAAK,GAAG,CAAC,mBAAT,CAA6B,SAAS,CAAC,eAAvC,CAAuD,GAAG,CAAEb,UAAF,SAAEA,UAAF,sCAAEA,UAAU,CAAEkB,OAAd,8CAAE,oBAAqBC,GAAjF,EADJ,CAEI,4BAAM,SAAS,CAAC,gBAAhB,EAAkCb,UAAU,CAACL,QAAD,CAA5C,CAFJ,CADJ,CAKI,2BAAK,SAAS,CAAC,mBAAf,EACI,8BAAKV,SAAS,CAACK,KAAD,CAAd,CADJ,CAEI,6BAAIL,SAAS,CAACM,WAAD,CAAb,CAFJ,CAGI,yBAAG,IAAI,CAAEO,SAAT,MAAsBA,SAAtB,KAHJ,CALJ,CADJ,CAaH,CAlDD,CAoDA,cAAeX,CAAAA,cAAf","sourcesContent":["import React from \"react\";\r\nimport { getApi } from \"./../../../../../../apis/apiProvider\";\r\nimport { stripHtml } from \"./../../../../../../utils/html/htmlHelper\";\r\nimport { formater } from \"./../../../../../../utils/time/timeFromater\";\r\n\r\nconst SearchListItem = (props) => {\r\n\r\n    const {\r\n        title,\r\n        description,\r\n        sourceId: id,\r\n        thumbnails,\r\n        duration,\r\n        source\r\n    } = props.item;\r\n\r\n    const api = getApi(source);\r\n\r\n    const sourceUrl = api.getUrlToExternall(id);\r\n\r\n    const formatTime = time => {\r\n        if(!time) return null;\r\n\r\n        if(typeof time === \"number\"){\r\n            return formater.secondsToStr(time);\r\n        } else if(typeof time === \"string\" && time.startsWith(\"PT\")){\r\n            return time.substr(2, time.length).toLowerCase()\r\n        }\r\n    }\r\n\r\n    const handleClick = () => {\r\n        const track = {\r\n            ...props.item,\r\n            //_id: UUID.genV1().toString(),\r\n        }\r\n        if (track.source === \"YouTube\" && typeof track.duration === \"string\") {\r\n            track.duration = formater.ptToSeconds(track.duration);\r\n        }\r\n        props.addToListHandle(track);\r\n        props.closeListHandle();\r\n    }\r\n\r\n    return (\r\n        <li className=\"search-list-item\" onClick={handleClick}>\r\n            <div className=\"list-item-thumbnails\">\r\n                <img alt=\"youtube thumbnail\" className=\"thumbnail-img\" src={thumbnails?.default?.url} />\r\n                <span className=\"thumbnail-time\">{formatTime(duration)}</span>\r\n            </div>\r\n            <div className=\"list-item-details\">\r\n                <h5>{stripHtml(title)}</h5>\r\n                <p>{stripHtml(description)}</p>\r\n                <a href={sourceUrl}> {sourceUrl} </a>\r\n            </div>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default SearchListItem"]},"metadata":{},"sourceType":"module"}