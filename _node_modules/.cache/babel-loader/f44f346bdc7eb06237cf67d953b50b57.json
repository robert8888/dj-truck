{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROJEKTY\\\\APKI\\\\DjTruck\\\\djtruck\\\\src\\\\components\\\\Deck\\\\PitchControl\\\\PitchControl.js\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport \"./pitch-control.scss\";\n\nclass PitchControl extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      sliderRange: null,\n      sliderCurrnetPosition: null,\n      sliderPrevPosition: null,\n      startDraging: false\n    };\n\n    this.mouseDownHandle = (event, sliderRange) => {\n      console.log('mouse down', event);\n\n      if (event.target === this.sliderAreaElement.current || event.target === this.sliderRangeElement.current) {\n        // area clicked\n        let clickY = event.clientY - this.sliderAreaElement.current.getBoundingClientRect().top;\n        this.setState(state => {\n          const _state = { ...state\n          };\n          _state.sliderPrevPosition = state.sliderCurrnetPosition;\n          _state.sliderCurrnetPosition = clickY;\n          return _state;\n        });\n        document.addEventListener('mouseup', this.mouseUpHandler);\n        document.addEventListener('dragend', this.mouseUpHandler);\n      } else if (event.target === this.sliderThumbElement.current) {\n        // thumb clicked\n        console.log('clicked thumb');\n        const shiftY = event.clientY - this.sliderThumbElement.current.getBoundingClientRect().top;\n        const topOffset = this.sliderAreaElement.current.getBoundingClientRect().top;\n        console.log(sliderRange);\n        document.addEventListener('mousemove', e => this.mouseMoveHandler.call(this, e, shiftY));\n      }\n    };\n\n    this.mouseUpHandler = event => {\n      this.setState(state => {\n        const _state = { ...state\n        };\n        _state.sliderCurrnetPosition = state.sliderPrevPosition;\n        return _state;\n      });\n      document.removeEventListener('mouseup', this.mouseUpHandler);\n      document.removeEventListener('dragend', this.mouseUpHandler);\n    };\n\n    this.mouseMoveHandler = (event, shiftY, topOffset) => {\n      //    console.log('moving', event, shiftY)\n      // console.log(sliderAreaElement.current)\n      let position = event.clientY - topOffset; //position = Math.max(position, 0);\n      //position = Math.min(position, sliderRange);\n\n      console.log(this.state.sliderRange);\n      console.log(\"position: \", position);\n    };\n\n    this.render = () => React.createElement(\"div\", {\n      className: \"pitch-control \" + \"pitch-\" + this.props.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      ref: this.sliderAreaElement,\n      className: \"pitch-area\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      ref: this.sliderRangeElement,\n      className: \"slider-range\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      ref: this.sliderThumbElement,\n      style: this.sliderCurrnetPosition && {\n        top: this.sliderCurrnetPosition\n      },\n      className: \"slider-thumb\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    })));\n\n    this.sliderRangeElement = React.createRef(null);\n    this.sliderThumbElement = React.createRef(null);\n    this.sliderAreaElement = React.createRef(null);\n  }\n\n  componentDidMount() {\n    this.setState(state => {\n      const _state = { ...state\n      };\n      _state.sliderCurrnetPosition = window.getComputedStyle(this.sliderThumbElement.current).top;\n      _state.sliderRange = window.getComputedStyle(this.sliderRangeElement.current).height;\n    });\n    this.sliderAreaElement.current.addEventListener('mousedown', this.mouseDownHandle.bind(this));\n  }\n\n}\n\nexport default PitchControl;","map":{"version":3,"sources":["D:/PROJEKTY/APKI/DjTruck/djtruck/src/components/Deck/PitchControl/PitchControl.js"],"names":["React","useState","useEffect","useRef","PitchControl","Component","constructor","state","sliderRange","sliderCurrnetPosition","sliderPrevPosition","startDraging","mouseDownHandle","event","console","log","target","sliderAreaElement","current","sliderRangeElement","clickY","clientY","getBoundingClientRect","top","setState","_state","document","addEventListener","mouseUpHandler","sliderThumbElement","shiftY","topOffset","e","mouseMoveHandler","call","removeEventListener","position","render","props","name","createRef","componentDidMount","window","getComputedStyle","height","bind"],"mappings":"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","sourcesContent":["import React, { useState , useEffect, useRef} from \"react\";\r\nimport \"./pitch-control.scss\";\r\n\r\nclass PitchControl extends React.Component{\r\n    constructor() {\r\n        super();\r\n\r\n        this.sliderRangeElement = React.createRef(null);\r\n        this.sliderThumbElement = React.createRef(null);\r\n        this.sliderAreaElement = React.createRef(null);\r\n    }\r\n\r\n    state = {\r\n        sliderRange: null,\r\n        sliderCurrnetPosition: null,\r\n        sliderPrevPosition: null,\r\n\r\n        startDraging: false,\r\n    }\r\n    /*const [sliderRange, setSliderRange] = useState(null);\r\n    const [sliderCurrnetPosition, setSliderCurrentPosition ] = useState(null);\r\n    const [sliderPrevPosition, setSliderPrevPosition ] = useState(null);\r\n    const [startDraging, setStartDraging ] = useState(null);\r\n    const sliderRangeElement = useRef();\r\n    const sliderThumbElement = useRef();\r\n    const sliderAreaElement = useRef();*/\r\n\r\n\r\n    mouseDownHandle = (event, sliderRange) =>{\r\n        console.log('mouse down', event)\r\n        if(event.target === this.sliderAreaElement.current || event.target === this.sliderRangeElement.current){ // area clicked\r\n            let clickY = event.clientY - this.sliderAreaElement.current.getBoundingClientRect().top;\r\n            this.setState ( state => {\r\n                const _state = {...state};\r\n                _state.sliderPrevPosition = state.sliderCurrnetPosition;\r\n                _state.sliderCurrnetPosition = clickY;\r\n                return _state;\r\n            })\r\n            document.addEventListener('mouseup', this.mouseUpHandler);\r\n            document.addEventListener('dragend', this.mouseUpHandler);\r\n        } else if(event.target === this.sliderThumbElement.current){ // thumb clicked\r\n            console.log('clicked thumb');\r\n            const shiftY = event.clientY - this.sliderThumbElement.current.getBoundingClientRect().top;\r\n            const topOffset = this.sliderAreaElement.current.getBoundingClientRect().top;\r\n            console.log(sliderRange)\r\n  \r\n        \r\n            document.addEventListener('mousemove', e => this.mouseMoveHandler.call(this, e, shiftY));\r\n        }\r\n    }\r\n\r\n    mouseUpHandler = event => {\r\n        this.setState( state => {\r\n            const _state = {...state};\r\n            _state.sliderCurrnetPosition = state.sliderPrevPosition;\r\n            return _state; \r\n        })\r\n        document.removeEventListener('mouseup', this.mouseUpHandler);\r\n        document.removeEventListener('dragend', this.mouseUpHandler);\r\n    }\r\n\r\n    mouseMoveHandler = (event, shiftY, topOffset) =>{\r\n    //    console.log('moving', event, shiftY)\r\n       // console.log(sliderAreaElement.current)\r\n        let position = event.clientY - topOffset\r\n        //position = Math.max(position, 0);\r\n        //position = Math.min(position, sliderRange);\r\n        console.log(this.state.sliderRange);\r\n        console.log(\"position: \" , position);\r\n\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.setState( state => {\r\n            const _state = {...state};\r\n            _state.sliderCurrnetPosition = window.getComputedStyle(this.sliderThumbElement.current).top;\r\n            _state.sliderRange = window.getComputedStyle(this.sliderRangeElement.current).height;\r\n        })\r\n      \r\n        \r\n        this.sliderAreaElement.current.addEventListener('mousedown',  this.mouseDownHandle.bind(this));\r\n    }\r\n\r\n    \r\n\r\n    render = () =>  (\r\n        <div className={\"pitch-control \" + \"pitch-\" + this.props.name}>\r\n            <div ref={this.sliderAreaElement} className=\"pitch-area\">\r\n                <div ref={this.sliderRangeElement} className=\"slider-range\"/>\r\n                <div ref={this.sliderThumbElement} style={this.sliderCurrnetPosition && {top: this.sliderCurrnetPosition}}  className=\"slider-thumb\"/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PitchControl;"]},"metadata":{},"sourceType":"module"}