{"ast":null,"code":"import { ACTIONS } from \"../actions\";\nimport { produce } from \"imer\";\nconst initState = {\n  list: [],\n  current: [],\n  // path to play list \n  root: {} // root dir for play list \n\n};\n\nfunction playListReducer(state = initState, action) {\n  switch (action.type) {\n    case ACTIONS.PUSH_TRACK:\n      {\n        let newList = Array.from(state.list);\n        newList.push(action.track);\n        return { ...state,\n          list: newList\n        };\n      }\n\n    case ACTIONS.SET_BPM:\n      {\n        const source = action.source;\n        const id = action.id;\n        let index = state.list.findIndex(element => element.id === id && element.source === source);\n        return produce(state, draftState => {\n          draftState.list[index].bpm = action.bpm;\n        });\n      }\n\n    case ACTIONS.SET_BPM_AND_OFFSET:\n      {\n        const source = action.source;\n        const id = action.id;\n        let index = state.list.findIndex(element => element.id === id && element.source === source);\n        return produce(state, draftState => {\n          draftState.list[index].bpm = action.bpm;\n          draftState.list[index].offset = action.offset;\n        });\n      }\n\n    default:\n      return state;\n  }\n}\n\nexport default playListReducer;","map":{"version":3,"sources":["D:/PROJEKTY/APKI/DjTruck/djtruck/src/reducers/playListReducer.js"],"names":["ACTIONS","produce","initState","list","current","root","playListReducer","state","action","type","PUSH_TRACK","newList","Array","from","push","track","SET_BPM","source","id","index","findIndex","element","draftState","bpm","SET_BPM_AND_OFFSET","offset"],"mappings":"AAAA,SAASA,OAAT,QAAwB,YAAxB;AACA,SAASC,OAAT,QAAwB,MAAxB;AAEA,MAAMC,SAAS,GAAG;AACdC,EAAAA,IAAI,EAAE,EADQ;AAIdC,EAAAA,OAAO,EAAG,EAJI;AAID;AACbC,EAAAA,IAAI,EAAE,EALQ,CAKL;;AALK,CAAlB;;AAQA,SAASC,eAAT,CAAyBC,KAAK,GAAGL,SAAjC,EAA4CM,MAA5C,EAAmD;AAC/C,UAAOA,MAAM,CAACC,IAAd;AACI,SAAKT,OAAO,CAACU,UAAb;AAA0B;AACtB,YAAIC,OAAO,GAAGC,KAAK,CAACC,IAAN,CAAWN,KAAK,CAACJ,IAAjB,CAAd;AACAQ,QAAAA,OAAO,CAACG,IAAR,CAAaN,MAAM,CAACO,KAApB;AACA,eAAO,EACH,GAAGR,KADA;AAEHJ,UAAAA,IAAI,EAAIQ;AAFL,SAAP;AAIH;;AAED,SAAKX,OAAO,CAACgB,OAAb;AAAuB;AACnB,cAAMC,MAAM,GAAGT,MAAM,CAACS,MAAtB;AACA,cAAMC,EAAE,GAAGV,MAAM,CAACU,EAAlB;AACA,YAAIC,KAAK,GAAGZ,KAAK,CAACJ,IAAN,CAAWiB,SAAX,CAAsBC,OAAO,IAAKA,OAAO,CAACH,EAAR,KAAeA,EAAf,IAAqBG,OAAO,CAACJ,MAAR,KAAmBA,MAA1E,CAAZ;AACA,eAAOhB,OAAO,CAACM,KAAD,EAAQe,UAAU,IAAI;AAAEA,UAAAA,UAAU,CAACnB,IAAX,CAAgBgB,KAAhB,EAAuBI,GAAvB,GAA6Bf,MAAM,CAACe,GAApC;AAA0C,SAAlE,CAAd;AACH;;AAED,SAAKvB,OAAO,CAACwB,kBAAb;AAAkC;AAC9B,cAAMP,MAAM,GAAGT,MAAM,CAACS,MAAtB;AACA,cAAMC,EAAE,GAAGV,MAAM,CAACU,EAAlB;AACA,YAAIC,KAAK,GAAGZ,KAAK,CAACJ,IAAN,CAAWiB,SAAX,CAAsBC,OAAO,IAAKA,OAAO,CAACH,EAAR,KAAeA,EAAf,IAAqBG,OAAO,CAACJ,MAAR,KAAmBA,MAA1E,CAAZ;AACA,eAAOhB,OAAO,CAACM,KAAD,EAAQe,UAAU,IAAI;AAChCA,UAAAA,UAAU,CAACnB,IAAX,CAAgBgB,KAAhB,EAAuBI,GAAvB,GAA6Bf,MAAM,CAACe,GAApC;AACAD,UAAAA,UAAU,CAACnB,IAAX,CAAgBgB,KAAhB,EAAuBM,MAAvB,GAAgCjB,MAAM,CAACiB,MAAvC;AACF,SAHY,CAAd;AAIH;;AAED;AAAU,aAAOlB,KAAP;AA3Bd;AA6BH;;AAED,eAAeD,eAAf","sourcesContent":["import { ACTIONS } from \"../actions\";\r\nimport { produce } from \"imer\";\r\n\r\nconst initState = {\r\n    list: [],\r\n\r\n\r\n    current : [],// path to play list \r\n    root: {} // root dir for play list \r\n}\r\n\r\nfunction playListReducer(state = initState, action){\r\n    switch(action.type){\r\n        case ACTIONS.PUSH_TRACK : {\r\n            let newList = Array.from(state.list);\r\n            newList.push(action.track);\r\n            return {\r\n                ...state,\r\n                list :  newList,\r\n            }\r\n        }\r\n\r\n        case ACTIONS.SET_BPM : {\r\n            const source = action.source;\r\n            const id = action.id;\r\n            let index = state.list.findIndex( element => (element.id === id && element.source === source));\r\n            return produce(state, draftState => { draftState.list[index].bpm = action.bpm; })\r\n        }\r\n\r\n        case ACTIONS.SET_BPM_AND_OFFSET : {\r\n            const source = action.source;\r\n            const id = action.id;\r\n            let index = state.list.findIndex( element => (element.id === id && element.source === source));\r\n            return produce(state, draftState => { \r\n                draftState.list[index].bpm = action.bpm;\r\n                draftState.list[index].offset = action.offset;\r\n             })\r\n        }\r\n\r\n        default : return state;\r\n    }\r\n}\r\n\r\nexport default playListReducer;\r\n"]},"metadata":{},"sourceType":"module"}