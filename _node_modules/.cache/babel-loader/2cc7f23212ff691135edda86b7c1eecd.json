{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\src\\\\pages\\\\common\\\\components\\\\RecordList\\\\ListItem\\\\WaveSurrferPlayer\\\\WaveSurferPlayer.js\";\nimport React, { useRef, useEffect, useMemo } from \"react\";\nimport WaveSurfer from \"wavesurfer\";\nimport style from \"./wave-surfer-player.scss\";\n\nconst WaveSurferPlayer = ({\n  peaks,\n  url\n}) => {\n  const containerRef = useRef(null);\n  const container = containerRef.current;\n  const ws = useMemo(() => {\n    console.log(\"call memo\", container);\n    return new Promise((res, rej) => {\n      if (container) {\n        const ws = WaveSurfer.create({\n          container: container.current,\n          barWidth: 5,\n          height: 100,\n          waveColor: style.waveColor,\n          progressColor: style.progressColor\n        });\n        res(ws); // ws.load(null, peaks);\n      } else rej(null);\n    });\n  }, [container]);\n  useEffect(() => {\n    console.log(ws);\n    ws.then(ws => {\n      ws.load((null, peaks));\n    }).catch(() => console.log(\"catch it kurwa\"));\n  }, [peaks, url, ws]);\n  return React.createElement(\"div\", {\n    className: \"ws-player-container\",\n    ref: container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  });\n};\n\nexport default WaveSurferPlayer;","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/pages/common/components/RecordList/ListItem/WaveSurrferPlayer/WaveSurferPlayer.js"],"names":["React","useRef","useEffect","useMemo","WaveSurfer","style","WaveSurferPlayer","peaks","url","containerRef","container","current","ws","console","log","Promise","res","rej","create","barWidth","height","waveColor","progressColor","then","load","catch"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,MAAf,EAAuBC,SAAvB,EAAkCC,OAAlC,QAAgD,OAAhD;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,KAAP,MAAkB,2BAAlB;;AAEA,MAAMC,gBAAgB,GAAG,CAAC;AAACC,EAAAA,KAAD;AAAQC,EAAAA;AAAR,CAAD,KAAkB;AACvC,QAAMC,YAAY,GAAGR,MAAM,CAAC,IAAD,CAA3B;AAEA,QAAMS,SAAS,GAAGD,YAAY,CAACE,OAA/B;AACA,QAAMC,EAAE,GAAGT,OAAO,CAAC,MAAI;AACnBU,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBJ,SAAzB;AACA,WAAO,IAAIK,OAAJ,CAAY,CAACC,GAAD,EAAMC,GAAN,KAAa;AAC5B,UAAGP,SAAH,EAAa;AACT,cAAME,EAAE,GAAGR,UAAU,CAACc,MAAX,CAAkB;AAC1BR,UAAAA,SAAS,EAAEA,SAAS,CAACC,OADK;AAE1BQ,UAAAA,QAAQ,EAAE,CAFgB;AAG1BC,UAAAA,MAAM,EAAE,GAHkB;AAI1BC,UAAAA,SAAS,EAAEhB,KAAK,CAACgB,SAJS;AAK1BC,UAAAA,aAAa,EAAEjB,KAAK,CAACiB;AALK,SAAlB,CAAX;AAODN,QAAAA,GAAG,CAACJ,EAAD,CAAH,CARU,CASX;AACC,OAVH,MAUSK,GAAG,CAAC,IAAD,CAAH;AACZ,KAZM,CAAP;AAaH,GAfiB,EAef,CAACP,SAAD,CAfe,CAAlB;AAiBAR,EAAAA,SAAS,CAAC,MAAI;AACVW,IAAAA,OAAO,CAACC,GAAR,CAAYF,EAAZ;AACAA,IAAAA,EAAE,CAACW,IAAH,CAASX,EAAE,IAAI;AACXA,MAAAA,EAAE,CAACY,IAAH,EAAS,MAAMjB,KAAf;AACH,KAFD,EAEGkB,KAFH,CAES,MAAIZ,OAAO,CAACC,GAAR,CAAY,gBAAZ,CAFb;AAGH,GALQ,EAKN,CAACP,KAAD,EAAQC,GAAR,EAAaI,EAAb,CALM,CAAT;AASA,SACI;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAqC,IAAA,GAAG,EAAEF,SAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ;AAGH,CAjCD;;AAmCA,eAAeJ,gBAAf","sourcesContent":["import React, {useRef, useEffect, useMemo} from \"react\";\r\nimport WaveSurfer from \"wavesurfer\";\r\nimport style from \"./wave-surfer-player.scss\"\r\n\r\nconst WaveSurferPlayer = ({peaks, url}) => {\r\n    const containerRef = useRef(null)\r\n\r\n    const container = containerRef.current\r\n    const ws = useMemo(()=>{\r\n        console.log(\"call memo\", container)\r\n        return new Promise((res, rej)=> {\r\n            if(container){\r\n                const ws = WaveSurfer.create({\r\n                   container: container.current,\r\n                   barWidth: 5,\r\n                   height: 100,\r\n                   waveColor: style.waveColor,\r\n                   progressColor: style.progressColor,\r\n               })\r\n               res(ws)\r\n              // ws.load(null, peaks);\r\n              } else rej(null)\r\n        })\r\n    }, [container])\r\n\r\n    useEffect(()=>{\r\n        console.log(ws)\r\n        ws.then( ws => {\r\n            ws.load((null, peaks))\r\n        }).catch(()=>console.log(\"catch it kurwa\"))\r\n    }, [peaks, url ,ws])\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"ws-player-container\" ref={container}/>\r\n    )\r\n}\r\n\r\nexport default WaveSurferPlayer"]},"metadata":{},"sourceType":"module"}