{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROJEKTY\\\\APKI\\\\DjTruck\\\\djtruck\\\\src\\\\pages\\\\app\\\\components\\\\PlayListExplorer\\\\Explorer\\\\ExplorerTree\\\\FileElement\\\\FileElement.js\";\nimport React, { useRef, useCallback } from \"react\";\nimport { connect } from \"react-redux\";\nimport UUID from \"uuidjs\";\nimport ClassName from \"classnames\";\nimport { faFile } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport ItemTypes from \"../../../../../appItemTypes\";\nimport { useDrag, useDrop } from \"react-dnd\";\n\nconst FileElement = props => {\n  const {\n    name,\n    path,\n    renameMode,\n    renameInput\n  } = props;\n  const fullPath = [...path, name];\n  const ref = useRef(null);\n  const handleDrop = useCallback(() => {});\n  const [, drag] = useDrag({\n    item: {\n      type: ItemTypes.FILE,\n      fullPath: fullPath\n    }\n  });\n  const [, drop] = useDrop({\n    accept: ItemTypes.TRACK,\n    drop: handleDrop\n  });\n  let currentSelected = false;\n\n  if (fullPath.join(\"\") === props.currentSelection.join(\"\")) {\n    currentSelected = true;\n  }\n\n  const liClassList = ClassName(\"list-item item-file\", {\n    \"item--selected\": currentSelected\n  });\n  let content = name;\n\n  if (currentSelected && renameMode) {\n    content = renameInput(name);\n  }\n\n  drop(drag(ref));\n  return React.createElement(\"li\", {\n    ref: ref,\n    className: liClassList,\n    onClick: props.onClick,\n    onContextMenu: props.onContextMenu,\n    \"data-path\": path.join(\"/\"),\n    key: UUID.genV1(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(FontAwesomeIcon, {\n    className: \"icon icon-file\",\n    icon: faFile,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }), content);\n};\n\nconst mapStateToProps = state => ({\n  currentSelection: state.playList.currentSelection\n});\n\nexport default connect(mapStateToProps)(FileElement);","map":{"version":3,"sources":["D:/PROJEKTY/APKI/DjTruck/djtruck/src/pages/app/components/PlayListExplorer/Explorer/ExplorerTree/FileElement/FileElement.js"],"names":["React","useRef","useCallback","connect","UUID","ClassName","faFile","FontAwesomeIcon","ItemTypes","useDrag","useDrop","FileElement","props","name","path","renameMode","renameInput","fullPath","ref","handleDrop","drag","item","type","FILE","drop","accept","TRACK","currentSelected","join","currentSelection","liClassList","content","onClick","onContextMenu","genV1","mapStateToProps","state","playList"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,WAAxB,QAA2C,OAA3C;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,MAAT,QAAuB,mCAAvB;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,SAAQC,OAAR,EAAiBC,OAAjB,QAA+B,WAA/B;;AAGA,MAAMC,WAAW,GAAGC,KAAK,IAAI;AACzB,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,IAAR;AAAcC,IAAAA,UAAd;AAA0BC,IAAAA;AAA1B,MAA0CJ,KAAhD;AACA,QAAMK,QAAQ,GAAG,CAAC,GAAGH,IAAJ,EAAUD,IAAV,CAAjB;AACA,QAAMK,GAAG,GAAGjB,MAAM,CAAC,IAAD,CAAlB;AAEA,QAAMkB,UAAU,GAAGjB,WAAW,CAAC,MAAI,CAElC,CAF6B,CAA9B;AAIA,QAAM,GAAIkB,IAAJ,IAAYX,OAAO,CAAC;AACtBY,IAAAA,IAAI,EAAE;AACDC,MAAAA,IAAI,EAAEd,SAAS,CAACe,IADf;AAEDN,MAAAA,QAAQ,EAAEA;AAFT;AADgB,GAAD,CAAzB;AAOA,QAAM,GAAIO,IAAJ,IAAYd,OAAO,CAAC;AACtBe,IAAAA,MAAM,EAAGjB,SAAS,CAACkB,KADG;AAEtBF,IAAAA,IAAI,EAAEL;AAFgB,GAAD,CAAzB;AAKA,MAAIQ,eAAe,GAAG,KAAtB;;AACA,MAAIV,QAAQ,CAACW,IAAT,CAAc,EAAd,MAAsBhB,KAAK,CAACiB,gBAAN,CAAuBD,IAAvB,CAA4B,EAA5B,CAA1B,EAA2D;AACvDD,IAAAA,eAAe,GAAG,IAAlB;AACH;;AACD,QAAMG,WAAW,GAAGzB,SAAS,CACzB,qBADyB,EAEzB;AAAE,sBAAkBsB;AAApB,GAFyB,CAA7B;AAIA,MAAII,OAAO,GAAGlB,IAAd;;AACA,MAAIc,eAAe,IAAIZ,UAAvB,EAAmC;AAC/BgB,IAAAA,OAAO,GAAGf,WAAW,CAACH,IAAD,CAArB;AACH;;AAEDW,EAAAA,IAAI,CAACJ,IAAI,CAACF,GAAD,CAAL,CAAJ;AACA,SACI;AACI,IAAA,GAAG,EAAEA,GADT;AAEI,IAAA,SAAS,EAAEY,WAFf;AAGI,IAAA,OAAO,EAAElB,KAAK,CAACoB,OAHnB;AAII,IAAA,aAAa,EAAEpB,KAAK,CAACqB,aAJzB;AAKI,iBAAWnB,IAAI,CAACc,IAAL,CAAU,GAAV,CALf;AAMI,IAAA,GAAG,EAAExB,IAAI,CAAC8B,KAAL,EANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOI,oBAAC,eAAD;AAAiB,IAAA,SAAS,EAAC,gBAA3B;AAA4C,IAAA,IAAI,EAAE5B,MAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPJ,EAQKyB,OARL,CADJ;AAYH,CA/CD;;AAiDA,MAAMI,eAAe,GAAGC,KAAK,KAAK;AAC9BP,EAAAA,gBAAgB,EAAEO,KAAK,CAACC,QAAN,CAAeR;AADH,CAAL,CAA7B;;AAIA,eAAe1B,OAAO,CAACgC,eAAD,CAAP,CAAyBxB,WAAzB,CAAf","sourcesContent":["import React, { useRef, useCallback } from \"react\";\r\nimport { connect } from \"react-redux\"\r\nimport UUID from \"uuidjs\";\r\nimport ClassName from \"classnames\";\r\nimport { faFile } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport ItemTypes from \"../../../../../appItemTypes\";\r\nimport {useDrag, useDrop} from \"react-dnd\";\r\n\r\n\r\nconst FileElement = props => {\r\n    const { name, path, renameMode, renameInput } = props;\r\n    const fullPath = [...path, name]\r\n    const ref = useRef(null)\r\n\r\n    const handleDrop = useCallback(()=>{\r\n\r\n    })\r\n\r\n    const [ , drag] = useDrag({\r\n        item: { \r\n             type: ItemTypes.FILE,\r\n             fullPath: fullPath\r\n            },\r\n    })\r\n\r\n    const [ , drop] = useDrop({\r\n        accept : ItemTypes.TRACK,\r\n        drop: handleDrop\r\n    })\r\n\r\n    let currentSelected = false;\r\n    if (fullPath.join(\"\") === props.currentSelection.join(\"\")) {\r\n        currentSelected = true;\r\n    }\r\n    const liClassList = ClassName(\r\n        \"list-item item-file\",\r\n        { \"item--selected\": currentSelected }\r\n    )\r\n    let content = name;\r\n    if (currentSelected && renameMode) {\r\n        content = renameInput(name)\r\n    }\r\n\r\n    drop(drag(ref))\r\n    return (\r\n        <li\r\n            ref={ref}\r\n            className={liClassList}\r\n            onClick={props.onClick}\r\n            onContextMenu={props.onContextMenu}\r\n            data-path={path.join(\"/\")}\r\n            key={UUID.genV1()}>\r\n            <FontAwesomeIcon className=\"icon icon-file\" icon={faFile} />\r\n            {content}\r\n        </li>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    currentSelection: state.playList.currentSelection\r\n})\r\n\r\nexport default connect(mapStateToProps)(FileElement);\r\n\r\n"]},"metadata":{},"sourceType":"module"}