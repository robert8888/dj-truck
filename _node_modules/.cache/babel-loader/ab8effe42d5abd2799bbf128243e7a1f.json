{"ast":null,"code":"import _classCallCheck from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _possibleConstructorReturn from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _createClass from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import Effect from\"./../effect\";var Delay=/*#__PURE__*/function(_Effect){_inherits(Delay,_Effect);_createClass(Delay,null,[{key:\"defaultParams\",value:function defaultParams(){return{params:{feedback:{min:0,max:100,defaultValue:50,type:\"float\",description:\"fb\"},time:{min:0,max:1,defaultValue:.1,type:\"float\",description:\"time\"}}};}}]);function Delay(context,params){var _this;_classCallCheck(this,Delay);_this=_possibleConstructorReturn(this,_getPrototypeOf(Delay).call(this));_this._default=Delay.defaultParams().params;_this._context=context;_this._buildNodes();_this._initParams(params);return _this;}_createClass(Delay,[{key:\"_buildNodes\",value:function _buildNodes(){this.inputNode=this._context.createGain();this.outputNode=this._context.createGain();this.feedbackGainNode=this._context.createGain();this.delayNode=this._context.createDelay(this._default.time.max);// line in to wet mix\nthis.inputNode.connect(this.delayNode);// feedback loop\nthis.delayNode.connect(this.feedbackGainNode);this.feedbackGainNode.connect(this.delayNode);// wet out\nthis.delayNode.connect(this.outputNode);}},{key:\"name\",get:function get(){return\"Delay\";}},{key:\"time\",get:function get(){return this._time;},set:function set(value){value=this._valueToRange(value,\"time\");this._time=value;this.delayNode.delayTime.setTargetAtTime(value,this._context.currentTime,0.01);}},{key:\"feedback\",get:function get(){return this._feedback;},set:function set(value){value=this._valueToRange(value,\"feedback\");this._feedback=value;this.feedbackGainNode.gain.setTargetAtTime(value/100,this._context.currentTime,0.01);}}]);return Delay;}(Effect);export{Delay as default};","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/pages/console/core/console/effector/effects/delay/delay.js"],"names":["Effect","Delay","params","feedback","min","max","defaultValue","type","description","time","context","_default","defaultParams","_context","_buildNodes","_initParams","inputNode","createGain","outputNode","feedbackGainNode","delayNode","createDelay","connect","_time","value","_valueToRange","delayTime","setTargetAtTime","currentTime","_feedback","gain"],"mappings":"wkBAAA,MAAOA,CAAAA,MAAP,KAAmB,aAAnB,C,GAEqBC,CAAAA,K,qIACK,CAClB,MAAO,CACHC,MAAM,CAAG,CACLC,QAAQ,CAAE,CACNC,GAAG,CAAE,CADC,CAENC,GAAG,CAAE,GAFC,CAGNC,YAAY,CAAE,EAHR,CAINC,IAAI,CAAE,OAJA,CAKNC,WAAW,CAAG,IALR,CADL,CAQLC,IAAI,CAAE,CACFL,GAAG,CAAE,CADH,CAEFC,GAAG,CAAE,CAFH,CAGFC,YAAY,CAAE,EAHZ,CAIFC,IAAI,CAAE,OAJJ,CAKFC,WAAW,CAAE,MALX,CARD,CADN,CAAP,CAkBH,C,IAED,eAAYE,OAAZ,CAAqBR,MAArB,CAA4B,uCACxB,yEACA,MAAKS,QAAL,CAAgBV,KAAK,CAACW,aAAN,GAAsBV,MAAtC,CACA,MAAKW,QAAL,CAAgBH,OAAhB,CAEA,MAAKI,WAAL,GACA,MAAKC,WAAL,CAAiBb,MAAjB,EANwB,aAQ3B,C,mEAEY,CACT,KAAKc,SAAL,CAAiB,KAAKH,QAAL,CAAcI,UAAd,EAAjB,CACA,KAAKC,UAAL,CAAkB,KAAKL,QAAL,CAAcI,UAAd,EAAlB,CACA,KAAKE,gBAAL,CAAwB,KAAKN,QAAL,CAAcI,UAAd,EAAxB,CACA,KAAKG,SAAL,CAAiB,KAAKP,QAAL,CAAcQ,WAAd,CAA0B,KAAKV,QAAL,CAAcF,IAAd,CAAmBJ,GAA7C,CAAjB,CAEA;AACA,KAAKW,SAAL,CAAeM,OAAf,CAAuB,KAAKF,SAA5B,EAEA;AACA,KAAKA,SAAL,CAAeE,OAAf,CAAuB,KAAKH,gBAA5B,EACA,KAAKA,gBAAL,CAAsBG,OAAtB,CAA8B,KAAKF,SAAnC,EAEA;AACA,KAAKA,SAAL,CAAeE,OAAf,CAAuB,KAAKJ,UAA5B,EACH,C,gCAGS,CACN,MAAO,OAAP,CACH,C,gCAES,CACN,MAAO,MAAKK,KAAZ,CACH,C,kBAEQC,K,CAAM,CACXA,KAAK,CAAG,KAAKC,aAAL,CAAmBD,KAAnB,CAA0B,MAA1B,CAAR,CACA,KAAKD,KAAL,CAAaC,KAAb,CACA,KAAKJ,SAAL,CAAeM,SAAf,CAAyBC,eAAzB,CACQH,KADR,CAEQ,KAAKX,QAAL,CAAce,WAFtB,CAGQ,IAHR,EAKH,C,oCAEa,CACV,MAAO,MAAKC,SAAZ,CACH,C,kBAEYL,K,CAAM,CACfA,KAAK,CAAG,KAAKC,aAAL,CAAmBD,KAAnB,CAA0B,UAA1B,CAAR,CACA,KAAKK,SAAL,CAAiBL,KAAjB,CACA,KAAKL,gBAAL,CAAsBW,IAAtB,CAA2BH,eAA3B,CACQH,KAAK,CAAG,GADhB,CAEQ,KAAKX,QAAL,CAAce,WAFtB,CAGQ,IAHR,EAKH,C,mBAhF8B5B,M,SAAdC,K","sourcesContent":["import Effect from \"./../effect\";\r\n\r\nexport default class Delay extends Effect {\r\n    static defaultParams(){\r\n        return {\r\n            params : {\r\n                feedback: {\r\n                    min: 0,\r\n                    max: 100,\r\n                    defaultValue: 50,\r\n                    type: \"float\",\r\n                    description : \"fb\"\r\n                },\r\n                time: {\r\n                    min: 0,\r\n                    max: 1,\r\n                    defaultValue: .1,\r\n                    type: \"float\",\r\n                    description: \"time\"\r\n                },\r\n            }\r\n        }\r\n    }\r\n\r\n    constructor(context, params){\r\n        super();\r\n        this._default = Delay.defaultParams().params;\r\n        this._context = context;\r\n\r\n        this._buildNodes();\r\n        this._initParams(params)\r\n\r\n    }\r\n\r\n    _buildNodes(){\r\n        this.inputNode = this._context.createGain();\r\n        this.outputNode = this._context.createGain();\r\n        this.feedbackGainNode = this._context.createGain();\r\n        this.delayNode = this._context.createDelay(this._default.time.max);\r\n\r\n        // line in to wet mix\r\n        this.inputNode.connect(this.delayNode);\r\n\r\n        // feedback loop\r\n        this.delayNode.connect(this.feedbackGainNode);\r\n        this.feedbackGainNode.connect(this.delayNode);\r\n\r\n        // wet out\r\n        this.delayNode.connect(this.outputNode);\r\n    }\r\n\r\n    \r\n    get name(){\r\n        return \"Delay\"\r\n    }\r\n\r\n    get time(){\r\n        return this._time;\r\n    }\r\n\r\n    set time(value){\r\n        value = this._valueToRange(value, \"time\")\r\n        this._time = value;\r\n        this.delayNode.delayTime.setTargetAtTime(\r\n                value, \r\n                this._context.currentTime,\r\n                0.01\r\n            );\r\n    }\r\n\r\n    get feedback(){\r\n        return this._feedback;\r\n    }\r\n\r\n    set feedback(value){\r\n        value = this._valueToRange(value, \"feedback\")\r\n        this._feedback = value;\r\n        this.feedbackGainNode.gain.setTargetAtTime(\r\n                value / 100,\r\n                this._context.currentTime, \r\n                0.01\r\n            )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}