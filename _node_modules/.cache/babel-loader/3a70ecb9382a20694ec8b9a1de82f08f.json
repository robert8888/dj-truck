{"ast":null,"code":"import { ACTIONS } from \"./../../actions\";\nimport { produce } from \"imer\";\nconst channel = {\n  volume: 100,\n  low: 100,\n  mid: 100,\n  high: 100,\n  gain: 100,\n  filter: 0,\n  filterResonans: 0,\n  sends: [0, 0]\n};\nconst initState = {\n  channels: {\n    A: { ...channel\n    },\n    B: { ...channel\n    }\n  },\n  fader: {\n    position: 50 //A: 0 <-> B:100\n\n  }\n};\n\nconst nextChannelState = (state, channel, variables) => {\n  return produce(state, draftSate => {\n    draftSate.channels[channel] = { ...state.channels[channel],\n      ...variables\n    };\n  });\n};\n\nexport default function mixerReducer(state = initState, action) {\n  switch (action.type) {\n    case ACTIONS.SET_GAIN:\n      {\n        return nextChannelState(state, action.destination, {\n          gain: action.value\n        });\n      }\n\n    case ACTIONS.SET_LOW:\n      {\n        return nextChannelState(state, action.destination, {\n          low: action.value\n        });\n      }\n\n    case ACTIONS.SET_MID:\n      {\n        return nextChannelState(state, action.destination, {\n          mid: action.value\n        });\n      }\n\n    case ACTIONS.SET_HI:\n      {\n        return nextChannelState(state, action.destination, {\n          high: action.value\n        });\n      }\n\n    case ACTIONS.SET_FADER:\n      {\n        return produce(state, draftState => draftState.fader.position = action.value);\n      }\n\n    case ACTIONS.SET_FILTER:\n      {\n        return nextChannelState(state, action.destination, {\n          filter: action.value\n        });\n      }\n\n    case ACTIONS.SET_FILTER_RES:\n      {\n        return nextChannelState(state, action.destination, {\n          filterResonans: action.value\n        });\n      }\n\n    case ACTIONS.SET_SEND:\n      {\n        return produce(state, draftSate => draftSate.channels[action.destination].sends[action.number - 1] = action.value);\n      }\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/reducers/console/mixerReducer.js"],"names":["ACTIONS","produce","channel","volume","low","mid","high","gain","filter","filterResonans","sends","initState","channels","A","B","fader","position","nextChannelState","state","variables","draftSate","mixerReducer","action","type","SET_GAIN","destination","value","SET_LOW","SET_MID","SET_HI","SET_FADER","draftState","SET_FILTER","SET_FILTER_RES","SET_SEND","number"],"mappings":"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","sourcesContent":["import { ACTIONS } from \"./../../actions\";\r\nimport { produce } from \"imer\";\r\n\r\nconst channel = {\r\n    volume: 100,\r\n\r\n    low: 100,\r\n    mid: 100,\r\n    high: 100,\r\n    gain: 100,\r\n    filter: 0,\r\n    filterResonans: 0,\r\n\r\n    sends: [0, 0]\r\n}\r\n\r\nconst initState = {\r\n    channels: {\r\n        A: {\r\n            ...channel,\r\n        },\r\n        B: {\r\n            ...channel,\r\n        },\r\n    },\r\n    fader: {\r\n        position: 50 //A: 0 <-> B:100\r\n    }\r\n};\r\n\r\nconst nextChannelState = (state, channel, variables) => {\r\n    return produce(state, draftSate => {\r\n        draftSate.channels[channel] = {\r\n            ...state.channels[channel],\r\n            ...variables,\r\n        }\r\n    })\r\n}\r\n\r\nexport default function mixerReducer(state = initState, action) {\r\n    switch (action.type) {\r\n        case ACTIONS.SET_GAIN: {\r\n            return nextChannelState(state, action.destination, { gain: action.value })\r\n        }\r\n        case ACTIONS.SET_LOW: {\r\n            return nextChannelState(state, action.destination, { low: action.value })\r\n        }\r\n        case ACTIONS.SET_MID: {\r\n            return nextChannelState(state, action.destination, { mid: action.value })\r\n        }\r\n        case ACTIONS.SET_HI: {\r\n            return nextChannelState(state, action.destination, { high: action.value })\r\n        }\r\n        case ACTIONS.SET_FADER: {\r\n            return produce(state, draftState => draftState.fader.position = action.value);\r\n        }\r\n\r\n        case ACTIONS.SET_FILTER: {\r\n            return nextChannelState(state, action.destination, { filter: action.value })\r\n        }\r\n\r\n        case ACTIONS.SET_FILTER_RES: {\r\n            return nextChannelState(state, action.destination, { filterResonans: action.value })\r\n        }\r\n\r\n        case ACTIONS.SET_SEND: {\r\n            return produce(state, draftSate =>\r\n                draftSate.channels[action.destination].sends[action.number - 1] = action.value\r\n            )\r\n        }\r\n        default: return state;\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}