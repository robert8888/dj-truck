{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROJEKTY\\\\APKI\\\\DjTruck\\\\djtruck\\\\src\\\\components\\\\deck\\\\deck.js\";\nimport React, { useEffect, useRef } from \"react\";\nimport { connect } from \"react-redux\";\nimport WaveSurfer from \"wavesurfer\";\n\nclass Deck extends React.Component {\n  constructor() {\n    super();\n    this.mainWave = React.createRef();\n    this.smallWave = React.createRef();\n  }\n\n  componentDidMount() {\n    if (!this.props.active) return;\n    this.bigWaveSurfer = WaveSurfer.create({\n      container: this.mainWave.current,\n      waveColor: 'violet',\n      progressColor: 'purple',\n      autoCenter: true,\n      scrollParent: true,\n      hideScrollbar: true,\n      fillParent: false,\n      minPxPerSec: 150\n    });\n    this.smallWaveSurfer = WaveSurfer.create({\n      container: this.smallWave.current\n    });\n    this.bigWaveSurfer.on('ready', () => {\n      this.bigWaveSurfer.play();\n      let peaks = this.bigWaveSurfer.backend.getPeaks(20000, 0, 20000);\n      this.smallWaveSurfer.drawer.drawPeaks(peaks, 0, 20000);\n      this.wavesurfer.drawBuffer();\n      console.log();\n    });\n    this.bigWaveSurfer.load('https://ciagnik-yt-downloader.herokuapp.com/download?url=https://www.youtube.com/watch?v=3nbY4kpCF5w');\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      style: {\n        height: 250 + 'px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, this.props.children, React.createElement(\"div\", {\n      ref: this.mainWave,\n      style: {\n        height: 70 + '%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"  \"), React.createElement(\"div\", {\n      ref: this.smallWave,\n      style: {\n        height: 30 + '%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \"  \"));\n  }\n\n}\n\nexport default connect()(Deck);","map":{"version":3,"sources":["D:/PROJEKTY/APKI/DjTruck/djtruck/src/components/deck/deck.js"],"names":["React","useEffect","useRef","connect","WaveSurfer","Deck","Component","constructor","mainWave","createRef","smallWave","componentDidMount","props","active","bigWaveSurfer","create","container","current","waveColor","progressColor","autoCenter","scrollParent","hideScrollbar","fillParent","minPxPerSec","smallWaveSurfer","on","play","peaks","backend","getPeaks","drawer","drawPeaks","wavesurfer","drawBuffer","console","log","load","render","height","children"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA4BC,MAA5B,QAAyC,OAAzC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,UAAP,MAAuB,YAAvB;;AAEA,MAAMC,IAAN,SAAmBL,KAAK,CAACM,SAAzB,CAAmC;AAC/BC,EAAAA,WAAW,GAAE;AACT;AACA,SAAKC,QAAL,GAAgBR,KAAK,CAACS,SAAN,EAAhB;AACA,SAAKC,SAAL,GAAiBV,KAAK,CAACS,SAAN,EAAjB;AAEH;;AAGDE,EAAAA,iBAAiB,GAAE;AACf,QAAG,CAAC,KAAKC,KAAL,CAAWC,MAAf,EAAuB;AACvB,SAAKC,aAAL,GAAqBV,UAAU,CAACW,MAAX,CAAkB;AACnCC,MAAAA,SAAS,EAAE,KAAKR,QAAL,CAAcS,OADU;AAEnCC,MAAAA,SAAS,EAAE,QAFwB;AAGnCC,MAAAA,aAAa,EAAE,QAHoB;AAInCC,MAAAA,UAAU,EAAG,IAJsB;AAKnCC,MAAAA,YAAY,EAAE,IALqB;AAMnCC,MAAAA,aAAa,EAAC,IANqB;AAOnCC,MAAAA,UAAU,EAAE,KAPuB;AAQnCC,MAAAA,WAAW,EAAG;AARqB,KAAlB,CAArB;AAWA,SAAKC,eAAL,GAAuBrB,UAAU,CAACW,MAAX,CAAkB;AACrCC,MAAAA,SAAS,EAAE,KAAKN,SAAL,CAAeO;AADW,KAAlB,CAAvB;AAIA,SAAKH,aAAL,CAAmBY,EAAnB,CAAsB,OAAtB,EAA+B,MAAM;AACjC,WAAKZ,aAAL,CAAmBa,IAAnB;AACA,UAAIC,KAAK,GAAG,KAAKd,aAAL,CAAmBe,OAAnB,CAA2BC,QAA3B,CAAoC,KAApC,EAA2C,CAA3C,EAA8C,KAA9C,CAAZ;AACA,WAAKL,eAAL,CAAqBM,MAArB,CAA4BC,SAA5B,CAAsCJ,KAAtC,EAA6C,CAA7C,EAAiD,KAAjD;AACA,WAAKK,UAAL,CAAgBC,UAAhB;AACAC,MAAAA,OAAO,CAACC,GAAR;AAEH,KAPD;AASA,SAAKtB,aAAL,CAAmBuB,IAAnB,CAAwB,sGAAxB;AACH;;AAEDC,EAAAA,MAAM,GAAG;AACL,WACI;AAAK,MAAA,KAAK,EAAE;AAACC,QAAAA,MAAM,EAAE,MAAM;AAAf,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAK3B,KAAL,CAAW4B,QADhB,EAEI;AAAK,MAAA,GAAG,EAAG,KAAKhC,QAAhB;AAA2B,MAAA,KAAK,EAAE;AAAC+B,QAAAA,MAAM,EAAC,KAAK;AAAb,OAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,EAGI;AAAK,MAAA,GAAG,EAAG,KAAK7B,SAAhB;AAA6B,MAAA,KAAK,EAAE;AAAC6B,QAAAA,MAAM,EAAC,KAAK;AAAb,OAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHJ,CADJ;AAOC;;AA9C0B;;AAkDnC,eAAepC,OAAO,GAAGE,IAAH,CAAtB","sourcesContent":["import React, { useEffect , useRef} from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport WaveSurfer from \"wavesurfer\";\r\n\r\nclass Deck extends React.Component {\r\n    constructor(){\r\n        super();\r\n        this.mainWave = React.createRef();\r\n        this.smallWave = React.createRef();\r\n        \r\n    }\r\n\r\n\r\n    componentDidMount(){\r\n        if(!this.props.active) return;\r\n        this.bigWaveSurfer = WaveSurfer.create({\r\n            container: this.mainWave.current,\r\n            waveColor: 'violet',\r\n            progressColor: 'purple',\r\n            autoCenter : true,\r\n            scrollParent: true,\r\n            hideScrollbar:true,\r\n            fillParent: false,\r\n            minPxPerSec : 150\r\n        });\r\n\r\n        this.smallWaveSurfer = WaveSurfer.create({\r\n            container: this.smallWave.current,\r\n        })\r\n\r\n        this.bigWaveSurfer.on('ready', () => {\r\n            this.bigWaveSurfer.play();\r\n            let peaks = this.bigWaveSurfer.backend.getPeaks(20000, 0, 20000);\r\n            this.smallWaveSurfer.drawer.drawPeaks(peaks, 0 , 20000);\r\n            this.wavesurfer.drawBuffer();\r\n            console.log()\r\n\r\n        });\r\n\r\n        this.bigWaveSurfer.load('https://ciagnik-yt-downloader.herokuapp.com/download?url=https://www.youtube.com/watch?v=3nbY4kpCF5w');\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{height: 250 + 'px'}}>\r\n                {this.props.children}\r\n                <div ref={ this.mainWave } style={{height:70 + '%'}} >  </div>\r\n                <div ref={ this.smallWave }  style={{height:30 + '%'}} >  </div>\r\n            </div>\r\n            )\r\n        }\r\n    \r\n}\r\n\r\nexport default connect()(Deck);"]},"metadata":{},"sourceType":"module"}