{"ast":null,"code":"export default(function(){self.addEventListener(\"message\",function(e){/* eslint-disable-line no-restricted-globals */if(!e){return;}if(e.data[0].type===\"BUILD_IMPULSE\"){_buildImpulse(e.data[0].length,e.data[0].decay,e.data[0].reverse,e.data[1],e.data[2]);}});function _buildImpulse(length,decay,reverse,impulseL,impulseR){var n,i;for(i=0;i<length;i++){n=reverse?length-i:i;impulseL[i]=(Math.random()*2-1)*Math.pow(1-n/length,decay);impulseR[i]=(Math.random()*2-1)*Math.pow(1-n/length,decay);}postMessage([{type:\"IMPLUSE\",length:length},impulseL,impulseR]);}});","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/pages/console/core/console/effector/effects/reverb/buildImpulseWebWorker.js"],"names":["self","addEventListener","e","data","type","_buildImpulse","length","decay","reverse","impulseL","impulseR","n","i","Math","random","pow","postMessage"],"mappings":"AACA,eAAe,UAAM,CACjBA,IAAI,CAACC,gBAAL,CAAsB,SAAtB,CAAiC,SAAAC,CAAC,CAAI,CAAC,+CACrC,GAAI,CAACA,CAAL,CAAQ,CACJ,OACH,CAED,GAAGA,CAAC,CAACC,IAAF,CAAO,CAAP,EAAUC,IAAV,GAAmB,eAAtB,CAAsC,CACpCC,aAAa,CACTH,CAAC,CAACC,IAAF,CAAO,CAAP,EAAUG,MADD,CAETJ,CAAC,CAACC,IAAF,CAAO,CAAP,EAAUI,KAFD,CAGTL,CAAC,CAACC,IAAF,CAAO,CAAP,EAAUK,OAHD,CAITN,CAAC,CAACC,IAAF,CAAO,CAAP,CAJS,CAKTD,CAAC,CAACC,IAAF,CAAO,CAAP,CALS,CAAb,CAOD,CACF,CAdD,EAgBA,QAASE,CAAAA,aAAT,CAAuBC,MAAvB,CAA+BC,KAA/B,CAAsCC,OAAtC,CAA+CC,QAA/C,CAAyDC,QAAzD,CAAmE,CAC/D,GAAIC,CAAAA,CAAJ,CAAOC,CAAP,CAEA,IAAKA,CAAC,CAAG,CAAT,CAAYA,CAAC,CAAGN,MAAhB,CAAwBM,CAAC,EAAzB,CAA6B,CACzBD,CAAC,CAAGH,OAAO,CAAGF,MAAM,CAAGM,CAAZ,CAAgBA,CAA3B,CACAH,QAAQ,CAACG,CAAD,CAAR,CAAc,CAACC,IAAI,CAACC,MAAL,GAAgB,CAAhB,CAAoB,CAArB,EAA0BD,IAAI,CAACE,GAAL,CAAS,EAAIJ,CAAC,CAAGL,MAAjB,CAAyBC,KAAzB,CAAxC,CACAG,QAAQ,CAACE,CAAD,CAAR,CAAc,CAACC,IAAI,CAACC,MAAL,GAAgB,CAAhB,CAAoB,CAArB,EAA0BD,IAAI,CAACE,GAAL,CAAS,EAAIJ,CAAC,CAAGL,MAAjB,CAAyBC,KAAzB,CAAxC,CACH,CAEDS,WAAW,CAAC,CAAC,CAACZ,IAAI,CAAC,SAAN,CAAiBE,MAAM,CAANA,MAAjB,CAAD,CAA2BG,QAA3B,CAAsCC,QAAtC,CAAD,CAAX,CACH,CAEF,CA7BH","sourcesContent":["\r\nexport default () => {\r\n    self.addEventListener(\"message\", e => {/* eslint-disable-line no-restricted-globals */\r\n      if (!e) {\r\n          return;\r\n      }\r\n\r\n      if(e.data[0].type === \"BUILD_IMPULSE\"){\r\n        _buildImpulse(\r\n            e.data[0].length,\r\n            e.data[0].decay,\r\n            e.data[0].reverse,\r\n            e.data[1],\r\n            e.data[2]\r\n        )\r\n      }\r\n    });\r\n\r\n    function _buildImpulse(length, decay, reverse, impulseL, impulseR) {\r\n        let n, i;\r\n\r\n        for (i = 0; i < length; i++) {\r\n            n = reverse ? length - i : i;\r\n            impulseL[i] = (Math.random() * 2 - 1) * Math.pow(1 - n / length, decay);\r\n            impulseR[i] = (Math.random() * 2 - 1) * Math.pow(1 - n / length, decay);\r\n        }\r\n\r\n        postMessage([{type:\"IMPLUSE\", length}, impulseL , impulseR])\r\n    }\r\n\r\n  };"]},"metadata":{},"sourceType":"module"}