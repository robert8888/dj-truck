{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROJEKTY\\\\APKI\\\\DjTruck\\\\djtruck\\\\src\\\\components\\\\Deck\\\\PitchButtons\\\\PitchButtons.js\";\nimport React from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport { increaseBpm, decreaseBpm } from \"./../../../actions\";\nimport \"./pitch-buttons.scss\";\nconst buttonStepAmount = 0.01;\n\nconst PitchButtons = props => {\n  let intervallHanlder = null;\n  let lastPressed = null;\n\n  const mouseDown = callBack => {\n    console.log('mouse down');\n    callBack();\n    lastPressed = new Date().getTime();\n    intervallHanlder = setInterval(() => {\n      const now = new Date().getTime();\n\n      if (now - lastPressed > 1000) {\n        callBack();\n      }\n    }, 100);\n    document.addEventListener('mouseup', mouseUp.bind(null, intervallHanlder));\n  };\n\n  const mouseUp = handler => {\n    clearInterval(handler);\n    document.removeEventListener('mouseup', mouseUp.bind(null, handler));\n  }; //wait 1 seconds and start fastt calling\n\n\n  return React.createElement(\"div\", {\n    className: \"pitch-btns-\" + props.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(Button, {\n    className: \"pitch-btn btn-increase\",\n    onMouseDown: mouseDown.bind(null, props.increaseBpm),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, \" + \"), React.createElement(Button, {\n    className: \"pitch-btn btn-decrease\",\n    onMouseDown: mouseDown.bind(null, props.decreaseBpm),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, \" - \"));\n};\n\nconst mapDispachToProps = (dispatch, ownProps) => ({\n  increaseBpm: () => dispatch(increaseBpm(ownProps.name, buttonStepAmount)),\n  decreaseBpm: () => dispatch(decreaseBpm(ownProps.name, buttonStepAmount))\n});\n\nexport default connect(null, mapDispachToProps)(PitchButtons);","map":{"version":3,"sources":["D:/PROJEKTY/APKI/DjTruck/djtruck/src/components/Deck/PitchButtons/PitchButtons.js"],"names":["React","Button","connect","increaseBpm","decreaseBpm","buttonStepAmount","PitchButtons","props","intervallHanlder","lastPressed","mouseDown","callBack","console","log","Date","getTime","setInterval","now","document","addEventListener","mouseUp","bind","handler","clearInterval","removeEventListener","name","mapDispachToProps","dispatch","ownProps"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,iBAAvB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,oBAAvC;AACA,OAAO,sBAAP;AAEA,MAAMC,gBAAgB,GAAG,IAAzB;;AAEA,MAAMC,YAAY,GAAGC,KAAK,IAAG;AAEzB,MAAIC,gBAAgB,GAAG,IAAvB;AACA,MAAIC,WAAW,GAAG,IAAlB;;AAEA,QAAMC,SAAS,GAAGC,QAAQ,IAAI;AAC1BC,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACAF,IAAAA,QAAQ;AACRF,IAAAA,WAAW,GAAG,IAAIK,IAAJ,GAAWC,OAAX,EAAd;AACAP,IAAAA,gBAAgB,GAAGQ,WAAW,CAAC,MAAI;AAC/B,YAAMC,GAAG,GAAG,IAAIH,IAAJ,GAAWC,OAAX,EAAZ;;AACA,UAAIE,GAAG,GAAGR,WAAN,GAAoB,IAAxB,EAA8B;AAC1BE,QAAAA,QAAQ;AACX;AACJ,KAL6B,EAK3B,GAL2B,CAA9B;AAMAO,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,EAAqCC,OAAO,CAACC,IAAR,CAAa,IAAb,EAAmBb,gBAAnB,CAArC;AACH,GAXD;;AAaA,QAAMY,OAAO,GAAGE,OAAO,IAAI;AACvBC,IAAAA,aAAa,CAACD,OAAD,CAAb;AACAJ,IAAAA,QAAQ,CAACM,mBAAT,CAA6B,SAA7B,EAAwCJ,OAAO,CAACC,IAAR,CAAa,IAAb,EAAmBC,OAAnB,CAAxC;AACH,GAHD,CAlByB,CAuBzB;;;AAEA,SACI;AAAK,IAAA,SAAS,EAAE,gBAAgBf,KAAK,CAACkB,IAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAC,wBAAlB;AACQ,IAAA,WAAW,EAAGf,SAAS,CAACW,IAAV,CAAe,IAAf,EAAqBd,KAAK,CAACJ,WAA3B,CADtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADJ,EAII,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAC,wBAAlB;AACQ,IAAA,WAAW,EAAGO,SAAS,CAACW,IAAV,CAAe,IAAf,EAAqBd,KAAK,CAACH,WAA3B,CADtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAJJ,CADJ;AAUH,CAnCD;;AAqCA,MAAMsB,iBAAiB,GAAG,CAACC,QAAD,EAAWC,QAAX,MAAwB;AAC9CzB,EAAAA,WAAW,EAAG,MAAMwB,QAAQ,CAACxB,WAAW,CAACyB,QAAQ,CAACH,IAAV,EAAgBpB,gBAAhB,CAAZ,CADkB;AAE9CD,EAAAA,WAAW,EAAG,MAAMuB,QAAQ,CAACvB,WAAW,CAACwB,QAAQ,CAACH,IAAV,EAAgBpB,gBAAhB,CAAZ;AAFkB,CAAxB,CAA1B;;AAKA,eAAeH,OAAO,CAAC,IAAD,EAAOwB,iBAAP,CAAP,CAAiCpB,YAAjC,CAAf","sourcesContent":["import React from \"react\"\r\nimport { Button } from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport {increaseBpm, decreaseBpm} from \"./../../../actions\";\r\nimport \"./pitch-buttons.scss\"\r\n\r\nconst buttonStepAmount = 0.01;\r\n\r\nconst PitchButtons = props =>{\r\n\r\n    let intervallHanlder = null;\r\n    let lastPressed = null;\r\n\r\n    const mouseDown = callBack => {\r\n        console.log('mouse down')\r\n        callBack();\r\n        lastPressed = new Date().getTime();\r\n        intervallHanlder = setInterval(()=>{\r\n            const now = new Date().getTime();\r\n            if( now - lastPressed > 1000 ){\r\n                callBack();\r\n            }\r\n        }, 100)\r\n        document.addEventListener('mouseup', mouseUp.bind(null, intervallHanlder))\r\n    }\r\n\r\n    const mouseUp = handler => {\r\n        clearInterval(handler);\r\n        document.removeEventListener('mouseup', mouseUp.bind(null, handler));\r\n    }\r\n\r\n    //wait 1 seconds and start fastt calling\r\n\r\n    return (\r\n        <div className={\"pitch-btns-\" + props.name}>\r\n            <Button className=\"pitch-btn btn-increase\" \r\n                    onMouseDown={ mouseDown.bind(null, props.increaseBpm) }\r\n                    > + </Button>\r\n            <Button className=\"pitch-btn btn-decrease\" \r\n                    onMouseDown={ mouseDown.bind(null, props.decreaseBpm) }\r\n                    > - </Button>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapDispachToProps = (dispatch, ownProps) =>({\r\n    increaseBpm : () => dispatch(increaseBpm(ownProps.name, buttonStepAmount)),\r\n    decreaseBpm : () => dispatch(decreaseBpm(ownProps.name, buttonStepAmount)),  \r\n})\r\n\r\nexport default connect(null, mapDispachToProps)(PitchButtons);"]},"metadata":{},"sourceType":"module"}