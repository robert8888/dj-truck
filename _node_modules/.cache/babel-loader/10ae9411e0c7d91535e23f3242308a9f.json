{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";var recorder_api_url=process.env.REACT_APP_RECORDER_API;var getSocketUrl=function getSocketUrl(){return recorder_api_url.replace('http','ws').replace('https','wss');};var getRecordUrl=function getRecordUrl(id){return recorder_api_url+\"/records/\"+id;};var getStreamUrl=function getStreamUrl(id){return getRecordUrl(id);};var deleteRecord=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){var res,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(getRecordUrl(id),{method:'DELETE'});case 2:res=_context.sent;_context.next=5;return res.json();case 5:result=_context.sent;return _context.abrupt(\"return\",result.status||\"error\");case 7:case\"end\":return _context.stop();}}},_callee);}));return function deleteRecord(_x){return _ref.apply(this,arguments);};}();var getDownloadLink=function getDownloadLink(id,title){return recorder_api_url+'/records/download/'+id+\"/\"+title;};export default{getSocketUrl:getSocketUrl,getRecordUrl:getRecordUrl,getStreamUrl:getStreamUrl,deleteRecord:deleteRecord,getDownloadLink:getDownloadLink};","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/apis/recordsStore/recStoreApi.js"],"names":["recorder_api_url","process","env","REACT_APP_RECORDER_API","getSocketUrl","replace","getRecordUrl","id","getStreamUrl","deleteRecord","fetch","method","res","json","result","status","getDownloadLink","title"],"mappings":"iOACA,GAAMA,CAAAA,gBAAgB,CAAGC,OAAO,CAACC,GAAR,CAAYC,sBAArC,CACA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAI,CACrB,MAAOJ,CAAAA,gBAAgB,CAACK,OAAjB,CAAyB,MAAzB,CAAiC,IAAjC,EAAuCA,OAAvC,CAA+C,OAA/C,CAAwD,KAAxD,CAAP,CACH,CAFD,CAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,EAAD,CAAO,CACxB,MAAOP,CAAAA,gBAAgB,CAAG,WAAnB,CAAiCO,EAAxC,CACH,CAFD,CAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAD,EAAE,QAAID,CAAAA,YAAY,CAACC,EAAD,CAAhB,EAAvB,CAEA,GAAME,CAAAA,YAAY,0FAAG,iBAAOF,EAAP,uJACCG,CAAAA,KAAK,CAACJ,YAAY,CAACC,EAAD,CAAb,CAAmB,CACtCI,MAAM,CAAE,QAD8B,CAAnB,CADN,QACXC,GADW,qCAIIA,CAAAA,GAAG,CAACC,IAAJ,EAJJ,QAIXC,MAJW,+CAKVA,MAAM,CAACC,MAAP,EAAiB,OALP,wDAAH,kBAAZN,CAAAA,YAAY,4CAAlB,CAOA,GAAMO,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACT,EAAD,CAAKU,KAAL,CAAe,CACnC,MAAOjB,CAAAA,gBAAgB,CAAG,oBAAnB,CAA0CO,EAA1C,CAA8C,GAA9C,CAAoDU,KAA3D,CACH,CAFD,CAIA,cAAe,CACXb,YAAY,CAAZA,YADW,CAEXE,YAAY,CAAZA,YAFW,CAGXE,YAAY,CAAZA,YAHW,CAIXC,YAAY,CAAZA,YAJW,CAKXO,eAAe,CAAfA,eALW,CAAf","sourcesContent":["\r\nconst recorder_api_url = process.env.REACT_APP_RECORDER_API\r\nconst getSocketUrl = ()=>{\r\n    return recorder_api_url.replace('http', 'ws').replace('https', 'wss')\r\n}\r\n\r\nconst getRecordUrl = (id) =>{\r\n    return recorder_api_url + \"/records/\" + id \r\n}\r\n\r\nconst getStreamUrl = id => getRecordUrl(id);\r\n\r\nconst deleteRecord = async (id) => {\r\n    const res = await fetch(getRecordUrl(id), {\r\n        method: 'DELETE',\r\n    })\r\n    const result = await res.json();\r\n    return result.status || \"error\"\r\n}\r\nconst getDownloadLink = (id, title) => {\r\n    return recorder_api_url + '/records/download/' + id +\"/\" + title;\r\n}\r\n\r\nexport default {\r\n    getSocketUrl,\r\n    getRecordUrl,\r\n    getStreamUrl,\r\n    deleteRecord,\r\n    getDownloadLink,\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}