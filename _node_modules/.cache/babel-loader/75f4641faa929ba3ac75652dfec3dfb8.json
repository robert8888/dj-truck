{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\src\\\\pages\\\\profile\\\\Profile.js\";\nimport React, { useCallback } from \"react\";\nimport { connect } from \"react-redux\";\nimport UserProfile from \"../common/components/UserProfile/UserProfile\";\nimport { reqUpdateDescription, reqUpdateNickname, reqUpdatePicture } from \"./../../actions\";\nimport { useAuth0 } from \"./../../auth0/react-auth0-spa\";\nimport \"./profile.scss\";\nimport { Container } from \"react-bootstrap\";\n\nconst Profile = ({\n  nickname,\n  updatePicture,\n  updateNickname,\n  updateDescription\n}) => {\n  const {\n    loading,\n    user\n  } = useAuth0();\n  const profileDataChange = useCallback((type, data) => {\n    switch (type) {\n      case \"picture\":\n        {\n          updatePicture(data);\n          break;\n        }\n\n      case \"nickname\":\n        {\n          updateNickname(data);\n          break;\n        }\n\n      case \"description\":\n        {\n          updateDescription(data);\n          break;\n        }\n\n      default:\n        return;\n    }\n  }, [updateDescription, updateNickname, updatePicture]);\n\n  if (loading || !user) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, \"Loading...\");\n  }\n\n  if (!nickname) {\n    return null;\n  }\n\n  return React.createElement(Container, {\n    className: \"app layout container-xl\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(UserProfile, {\n    nickname: nickname,\n    editable: true,\n    onChange: profileDataChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }));\n};\n\nconst mapStateToProps = state => ({\n  nickname: state.user.nickname\n});\n\nconst mapDispatchToProps = dispatch => ({\n  updatePicture: blob => dispatch(reqUpdatePicture(blob)),\n  updateNickname: nickname => dispatch(reqUpdateNickname(nickname)),\n  updateDescription: description => dispatch(reqUpdateDescription(description))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/pages/profile/Profile.js"],"names":["React","useCallback","connect","UserProfile","reqUpdateDescription","reqUpdateNickname","reqUpdatePicture","useAuth0","Container","Profile","nickname","updatePicture","updateNickname","updateDescription","loading","user","profileDataChange","type","data","mapStateToProps","state","mapDispatchToProps","dispatch","blob","description"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,WAAhB,QAAmC,OAAnC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,WAAP,MAAwB,8CAAxB;AACA,SAASC,oBAAT,EAA+BC,iBAA/B,EAAkDC,gBAAlD,QAA0E,iBAA1E;AACA,SAASC,QAAT,QAAyB,+BAAzB;AACA,OAAO,gBAAP;AACA,SAAQC,SAAR,QAAwB,iBAAxB;;AAEA,MAAMC,OAAO,GAAG,CAAC;AACfC,EAAAA,QADe;AAEfC,EAAAA,aAFe;AAGfC,EAAAA,cAHe;AAIfC,EAAAA;AAJe,CAAD,KAKV;AACJ,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA;AAAX,MAAoBR,QAAQ,EAAlC;AAEA,QAAMS,iBAAiB,GAAGf,WAAW,CAAC,CAACgB,IAAD,EAAOC,IAAP,KAAc;AAClD,YAAOD,IAAP;AACE,WAAK,SAAL;AAAgB;AACdN,UAAAA,aAAa,CAACO,IAAD,CAAb;AACA;AACD;;AACD,WAAK,UAAL;AAAiB;AACfN,UAAAA,cAAc,CAACM,IAAD,CAAd;AACA;AACD;;AACD,WAAK,aAAL;AAAmB;AACjBL,UAAAA,iBAAiB,CAACK,IAAD,CAAjB;AACA;AACD;;AACD;AAAS;AAbX;AAeD,GAhBoC,EAgBnC,CACAL,iBADA,EAEAD,cAFA,EAGAD,aAHA,CAhBmC,CAArC;;AAsBA,MAAIG,OAAO,IAAI,CAACC,IAAhB,EAAsB;AACpB,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAP;AACD;;AAED,MAAG,CAACL,QAAJ,EAAa;AACX,WAAO,IAAP;AACD;;AAED,SACI,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAC,yBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,WAAD;AAAa,IAAA,QAAQ,EAAEA,QAAvB;AAAiC,IAAA,QAAQ,MAAzC;AAA0C,IAAA,QAAQ,EAAEM,iBAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADJ;AAKD,CA3CD;;AA4CA,MAAMG,eAAe,GAAGC,KAAK,KAAK;AAChCV,EAAAA,QAAQ,EAAGU,KAAK,CAACL,IAAN,CAAWL;AADU,CAAL,CAA7B;;AAIA,MAAMW,kBAAkB,GAAGC,QAAQ,KAAK;AACtCX,EAAAA,aAAa,EAAIY,IAAD,IAAUD,QAAQ,CAAChB,gBAAgB,CAACiB,IAAD,CAAjB,CADI;AAEtCX,EAAAA,cAAc,EAAIF,QAAD,IAAcY,QAAQ,CAACjB,iBAAiB,CAACK,QAAD,CAAlB,CAFD;AAGtCG,EAAAA,iBAAiB,EAAGW,WAAD,IAAiBF,QAAQ,CAAClB,oBAAoB,CAACoB,WAAD,CAArB;AAHN,CAAL,CAAnC;;AAMA,eAAetB,OAAO,CAACiB,eAAD,EAAkBE,kBAAlB,CAAP,CAA6CZ,OAA7C,CAAf","sourcesContent":["import React, { useCallback } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport UserProfile from \"../common/components/UserProfile/UserProfile\";\r\nimport { reqUpdateDescription, reqUpdateNickname, reqUpdatePicture } from \"./../../actions\";\r\nimport { useAuth0 } from \"./../../auth0/react-auth0-spa\";\r\nimport \"./profile.scss\";\r\nimport {Container} from \"react-bootstrap\";\r\n\r\nconst Profile = ({\r\n  nickname,\r\n  updatePicture,\r\n  updateNickname,\r\n  updateDescription,\r\n}) => {\r\n  const { loading, user } = useAuth0();\r\n\r\n  const profileDataChange = useCallback((type, data)=>{\r\n    switch(type){\r\n      case \"picture\": {\r\n        updatePicture(data);\r\n        break;\r\n      }\r\n      case \"nickname\": {\r\n        updateNickname(data);\r\n        break;\r\n      }\r\n      case \"description\":{\r\n        updateDescription(data);\r\n        break;\r\n      }\r\n      default: return;\r\n    }\r\n  },[\r\n    updateDescription,\r\n    updateNickname,\r\n    updatePicture\r\n  ])\r\n\r\n  if (loading || !user) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  if(!nickname){\r\n    return null;\r\n  }\r\n\r\n  return (\r\n      <Container className=\"app layout container-xl\" >\r\n        <UserProfile nickname={nickname} editable onChange={profileDataChange}/>\r\n      </Container>\r\n  );\r\n};\r\nconst mapStateToProps = state => ({\r\n  nickname : state.user.nickname,\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  updatePicture : (blob) => dispatch(reqUpdatePicture(blob)),\r\n  updateNickname : (nickname) => dispatch(reqUpdateNickname(nickname)),\r\n  updateDescription: (description) => dispatch(reqUpdateDescription(description))\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);"]},"metadata":{},"sourceType":"module"}