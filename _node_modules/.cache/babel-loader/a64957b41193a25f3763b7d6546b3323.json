{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(watcher),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(searchAsync);import{hideLoading,showLoading}from'react-redux-loading-bar';import{call,put,takeEvery}from'redux-saga/effects';import{ACTIONS,setSearchResults}from\"../../actions\";import{getApi}from'./../../apis/apiProvider';export default function watcher(){return _regeneratorRuntime.wrap(function watcher$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"acitons yt serch\");_context.next=3;return takeEvery(ACTIONS.SEARCH_START,searchAsync);case 3:case\"end\":return _context.stop();}}},_marked);}function searchAsync(action){var query,source,limit,api,results;return _regeneratorRuntime.wrap(function searchAsync$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:query=action.text,source=action.source,limit=action.limit;console.log(\"soruce\",source);_context2.prev=2;_context2.next=5;return put(showLoading());case 5:api=getApi(source);_context2.next=8;return call(api.search,query,limit);case 8:results=_context2.sent;_context2.next=11;return put(setSearchResults(results));case 11:_context2.prev=11;_context2.next=14;return put(hideLoading());case 14:return _context2.finish(11);case 15:case\"end\":return _context2.stop();}}},_marked2,null,[[2,,11,15]]);}","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/sagas/externalSearch/SearchSaga.js"],"names":["watcher","searchAsync","hideLoading","showLoading","call","put","takeEvery","ACTIONS","setSearchResults","getApi","console","log","SEARCH_START","action","query","text","source","limit","api","search","results"],"mappings":"2JAMyBA,O,iDAMfC,W,EAXV,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,yBAAzC,CACA,OAASC,IAAT,CAAeC,GAAf,CAAoBC,SAApB,KAAqC,oBAArC,CACA,OAASC,OAAT,CAAkBC,gBAAlB,KAA0C,eAA1C,CACA,OAASC,MAAT,KAAuB,0BAAvB,CAEA,cAAe,SAAUT,CAAAA,OAAV,mHACXU,OAAO,CAACC,GAAR,CAAY,kBAAZ,EADW,gBAEX,MAAML,CAAAA,SAAS,CAACC,OAAO,CAACK,YAAT,CAAuBX,WAAvB,CAAf,CAFW,sDAMf,QAAUA,CAAAA,WAAV,CAAsBY,MAAtB,4JACiBC,KADjB,CACyCD,MADzC,CACWE,IADX,CACwBC,MADxB,CACyCH,MADzC,CACwBG,MADxB,CACgCC,KADhC,CACyCJ,MADzC,CACgCI,KADhC,CAEIP,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAsBK,MAAtB,EAFJ,kCAMQ,MAAMX,CAAAA,GAAG,CAACF,WAAW,EAAZ,CAAT,CANR,OAOce,GAPd,CAOoBT,MAAM,CAACO,MAAD,CAP1B,kBAQwB,MAAMZ,CAAAA,IAAI,CAACc,GAAG,CAACC,MAAL,CAAaL,KAAb,CAAoBG,KAApB,CAAV,CARxB,OAQcG,OARd,kCAUQ,MAAMf,CAAAA,GAAG,CAACG,gBAAgB,CAACY,OAAD,CAAjB,CAAT,CAVR,4CAYQ,MAAMf,CAAAA,GAAG,CAACH,WAAW,EAAZ,CAAT,CAZR","sourcesContent":["\r\nimport { hideLoading, showLoading } from 'react-redux-loading-bar';\r\nimport { call, put, takeEvery } from 'redux-saga/effects';\r\nimport { ACTIONS, setSearchResults } from \"../../actions\";\r\nimport { getApi } from './../../apis/apiProvider';\r\n\r\nexport default function* watcher() {\r\n    console.log(\"acitons yt serch\")\r\n    yield takeEvery(ACTIONS.SEARCH_START, searchAsync);\r\n}\r\n\r\n\r\nfunction* searchAsync(action) {\r\n    const {text: query, source, limit} = action;\r\n    console.log(\"soruce\", source)\r\n\r\n\r\n    try {\r\n        yield put(showLoading());\r\n        const api = getApi(source);\r\n        const results = yield call(api.search, query, limit);\r\n       // let serachResult = yield call(ytSearch, query);\r\n        yield put(setSearchResults(results));\r\n    } finally {\r\n        yield put(hideLoading())\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}