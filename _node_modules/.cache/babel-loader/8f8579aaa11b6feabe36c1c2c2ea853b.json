{"ast":null,"code":"import { pushDirContent, ACTIONS } from \"../../actions\";\nimport { takeEvery, select, put } from \"redux-saga/effects\";\nimport { getApi } from \"./../../apis/apiProvider\";\nimport { showLoading, hideLoading } from 'react-redux-loading-bar';\nexport default function* rootDirRequestSaga() {\n  yield takeEvery(ACTIONS.PL_ROOT_REQUEST, callApi);\n}\n\nconst getToken = state => state.user.token;\n\nfunction* callApi() {\n  const {\n    callQuery,\n    queries\n  } = getApi(\"UserAssets\");\n  const token = yield select(getToken);\n\n  if (!token) {\n    return;\n  }\n\n  try {\n    let result = yield callQuery(queries.loadRootContentQl, token);\n    const isRoot = true;\n    yield put(pushDirContent(result.data.root, isRoot));\n  } catch (err) {\n    console.log(\"connection to api problem\");\n    console.log(err);\n  }\n}","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/sagas/playlists/rootDirRequestSaga.js"],"names":["pushDirContent","ACTIONS","takeEvery","select","put","getApi","showLoading","hideLoading","rootDirRequestSaga","PL_ROOT_REQUEST","callApi","getToken","state","user","token","callQuery","queries","result","loadRootContentQl","isRoot","data","root","err","console","log"],"mappings":"AAAA,SAASA,cAAT,EAAyBC,OAAzB,QAAwC,eAAxC;AACA,SAASC,SAAT,EAAoBC,MAApB,EAA4BC,GAA5B,QAAuC,oBAAvC;AACA,SAASC,MAAT,QAAuB,0BAAvB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,yBAAzC;AAEA,eAAe,UAAUC,kBAAV,GAA+B;AAC1C,QAAMN,SAAS,CAACD,OAAO,CAACQ,eAAT,EAA0BC,OAA1B,CAAf;AACH;;AAED,MAAMC,QAAQ,GAAGC,KAAK,IAAIA,KAAK,CAACC,IAAN,CAAWC,KAArC;;AAEA,UAAUJ,OAAV,GAAoB;AAChB,QAAM;AAAEK,IAAAA,SAAF;AAAaC,IAAAA;AAAb,MAAyBX,MAAM,CAAC,YAAD,CAArC;AACA,QAAMS,KAAK,GAAG,MAAMX,MAAM,CAACQ,QAAD,CAA1B;;AACA,MAAI,CAACG,KAAL,EAAY;AACR;AACH;;AAED,MAAI;AACA,QAAIG,MAAM,GAAG,MAAMF,SAAS,CAACC,OAAO,CAACE,iBAAT,EAA4BJ,KAA5B,CAA5B;AACA,UAAMK,MAAM,GAAG,IAAf;AACA,UAAMf,GAAG,CAACJ,cAAc,CAACiB,MAAM,CAACG,IAAP,CAAYC,IAAb,EAAmBF,MAAnB,CAAf,CAAT;AACH,GAJD,CAIE,OAAOG,GAAP,EAAY;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH;AAEJ","sourcesContent":["import { pushDirContent, ACTIONS } from \"../../actions\";\r\nimport { takeEvery, select, put } from \"redux-saga/effects\"\r\nimport { getApi } from \"./../../apis/apiProvider\";\r\nimport { showLoading, hideLoading } from 'react-redux-loading-bar'\r\n\r\nexport default function* rootDirRequestSaga() {\r\n    yield takeEvery(ACTIONS.PL_ROOT_REQUEST, callApi)\r\n}\r\n\r\nconst getToken = state => state.user.token\r\n\r\nfunction* callApi() {\r\n    const { callQuery, queries } = getApi(\"UserAssets\");\r\n    const token = yield select(getToken);\r\n    if (!token) {\r\n        return;\r\n    }\r\n\r\n    try {\r\n        let result = yield callQuery(queries.loadRootContentQl, token);\r\n        const isRoot = true;\r\n        yield put(pushDirContent(result.data.root, isRoot));\r\n    } catch (err) {\r\n        console.log(\"connection to api problem\");\r\n        console.log(err);\r\n    }\r\n\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}