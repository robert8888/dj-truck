{"ast":null,"code":"import _classCallCheck from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from\"react\";import{connect}from\"react-redux\";import{Log}from\"./../../../../utils/logger/logger\";import{pushLog,clearPublicError}from\"./../../../../actions\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faSyncAlt}from\"@fortawesome/free-solid-svg-icons\";import{Button}from\"react-bootstrap\";import\"./error-boundary.scss\";var ErrorBoundary=/*#__PURE__*/function(_React$Component){_inherits(ErrorBoundary,_React$Component);function ErrorBoundary(props){var _this;_classCallCheck(this,ErrorBoundary);_this=_possibleConstructorReturn(this,_getPrototypeOf(ErrorBoundary).call(this,props));_this.state={hasError:false,error:null};return _this;}_createClass(ErrorBoundary,[{key:\"componentDidCatch\",value:function componentDidCatch(error,info){this.props.push(Log.Error(info.componentStack,\"Component throw Error: \"+error.message,\"Sorry. Something went wrong :(. One of application component doesn't work correctly.\",error));}},{key:\"clearError\",value:function clearError(){this.setState(function(){return{hasError:false};});this.props.clear();}},{key:\"render\",value:function render(){if(this.state.hasError){return React.createElement(\"div\",{className:\"componet-error-container\"},React.createElement(\"h6\",null,\"Sorry. Someting went wrong. Componet dosn't work correctly.\"),React.createElement(Button,{onClick:this.clearError.bind(this)},React.createElement(FontAwesomeIcon,{icon:faSyncAlt})));}return this.props.children;}}],[{key:\"getDerivedStateFromError\",value:function getDerivedStateFromError(error,info){return{hasError:true,error:error,info:info};}}]);return ErrorBoundary;}(React.Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return{push:function push(log){return dispatch(pushLog(log));},clear:function clear(){return dispatch(clearPublicError());}};};export default connect(null,mapDispatchToProps)(ErrorBoundary);","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/pages/common/components/ErrorBoundary/ErrorBoundary.js"],"names":["React","connect","Log","pushLog","clearPublicError","FontAwesomeIcon","faSyncAlt","Button","ErrorBoundary","props","state","hasError","error","info","push","Error","componentStack","message","setState","clear","clearError","bind","children","Component","mapDispatchToProps","dispatch","log"],"mappings":"wkBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAAQC,GAAR,KAAkB,mCAAlB,CACA,OAAQC,OAAR,CAAiBC,gBAAjB,KAAwC,uBAAxC,CACA,OAAQC,eAAR,KAA8B,gCAA9B,CACA,OAAQC,SAAR,KAAwB,mCAAxB,CACA,OAAQC,MAAR,KAAqB,iBAArB,CACA,MAAO,uBAAP,C,GAEMC,CAAAA,a,mFACF,uBAAYC,KAAZ,CAAkB,+CACd,+EAAMA,KAAN,GACA,MAAKC,KAAL,CAAa,CACTC,QAAQ,CAAG,KADF,CAETC,KAAK,CAAG,IAFC,CAAb,CAFc,aAMjB,C,sFAUiBA,K,CAAOC,I,CAAK,CAC1B,KAAKJ,KAAL,CAAWK,IAAX,CAAgBZ,GAAG,CAACa,KAAJ,CACZF,IAAI,CAACG,cADO,CAEZ,0BAA4BJ,KAAK,CAACK,OAFtB,CAGZ,sFAHY,CAIZL,KAJY,CAAhB,EAMH,C,+CAEW,CACR,KAAKM,QAAL,CAAc,iBAAM,CAChBP,QAAQ,CAAE,KADM,CAAN,EAAd,EAGA,KAAKF,KAAL,CAAWU,KAAX,GACH,C,uCAEO,CACJ,GAAG,KAAKT,KAAL,CAAWC,QAAd,CAAuB,CACnB,MACI,4BAAK,SAAS,CAAC,0BAAf,EACI,4FADJ,CAEI,oBAAC,MAAD,EAAQ,OAAO,CAAE,KAAKS,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAAjB,EAA6C,oBAAC,eAAD,EAAiB,IAAI,CAAEf,SAAvB,EAA7C,CAFJ,CADJ,CAMH,CAED,MAAO,MAAKG,KAAL,CAAWa,QAAlB,CACH,C,4EAnC+BV,K,CAAOC,I,CAAK,CACxC,MAAO,CACHF,QAAQ,CAAG,IADR,CAEHC,KAAK,CAALA,KAFG,CAGHC,IAAI,CAAJA,IAHG,CAAP,CAKH,C,2BAfuBb,KAAK,CAACuB,S,EA+ClC,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,QAAQ,QAAK,CACpCX,IAAI,CAAG,cAAAY,GAAG,QAAID,CAAAA,QAAQ,CAACtB,OAAO,CAACuB,GAAD,CAAR,CAAZ,EAD0B,CAEpCP,KAAK,CAAE,uBAAMM,CAAAA,QAAQ,CAACrB,gBAAgB,EAAjB,CAAd,EAF6B,CAAL,EAAnC,CAKA,cAAeH,CAAAA,OAAO,CAAC,IAAD,CAAOuB,kBAAP,CAAP,CAAkChB,aAAlC,CAAf","sourcesContent":["import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {Log} from \"./../../../../utils/logger/logger\";\r\nimport {pushLog, clearPublicError} from \"./../../../../actions\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\"\r\nimport {faSyncAlt} from \"@fortawesome/free-solid-svg-icons\"\r\nimport {Button} from \"react-bootstrap\";\r\nimport \"./error-boundary.scss\"\r\n\r\nclass ErrorBoundary extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            hasError : false,\r\n            error : null,\r\n        }\r\n    }\r\n\r\n    static getDerivedStateFromError(error, info){\r\n        return {\r\n            hasError : true,\r\n            error,\r\n            info\r\n        }\r\n    }\r\n\r\n    componentDidCatch(error, info){\r\n        this.props.push(Log.Error(\r\n            info.componentStack,\r\n            \"Component throw Error: \" + error.message,\r\n            \"Sorry. Something went wrong :(. One of application component doesn't work correctly.\",\r\n            error,\r\n        ))\r\n    }\r\n\r\n    clearError(){\r\n        this.setState(()=> ({\r\n            hasError: false,\r\n        }))\r\n        this.props.clear();\r\n    }\r\n\r\n    render(){\r\n        if(this.state.hasError){\r\n            return (\r\n                <div className=\"componet-error-container\">\r\n                    <h6>Sorry. Someting went wrong. Componet dosn't work correctly.</h6>\r\n                    <Button onClick={this.clearError.bind(this)}><FontAwesomeIcon icon={faSyncAlt}/></Button>\r\n                </div>\r\n            )\r\n        } \r\n        \r\n        return this.props.children;\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    push : log => dispatch(pushLog(log)),\r\n    clear: () => dispatch(clearPublicError()),\r\n})\r\n\r\nexport default connect(null, mapDispatchToProps)(ErrorBoundary);"]},"metadata":{},"sourceType":"module"}