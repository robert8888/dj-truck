{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\src\\\\pages\\\\console\\\\components\\\\Console\\\\Mixer\\\\Recorder\\\\Recorder.js\";\nimport React, { useState, useCallback } from \"react\";\nimport { connect } from \"react-redux\";\nimport { createRecordinRequest } from \"./../../../../../../actions\";\nimport RecordButton from \"./../componets/RecordButton/RecordButton\";\nimport RecordNameInput from \"./../componets/RecordNameInput/RecordNameInput\";\nimport RecordTime from \"../componets/RecordTime/RecordTime\";\nimport \"./recorder.scss\";\n\nconst Recorder = ({\n  recording\n}) => {\n  const [inputDisabled, setInputDisabled] = useState(false);\n  const [timeRuning, setTimeRuning] = useState(false);\n  const [recName, setRecName] = useState(\"\");\n  let clearTimeHandler;\n  const assignClearHandler = useCallback(handler => {\n    if (!clearTimeHandler) {\n      clearTimeHandler = handler;\n    }\n  }, clearTimeHandler);\n  const recordStateChange = useCallback(state => {\n    setInputDisabled(!!state);\n    setTimeRuning(!!state);\n\n    if (!state) {\n      clearTimeHandler();\n    }\n  }, [setInputDisabled, setTimeRuning]);\n  return React.createElement(\"div\", {\n    className: \"recorder\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, \"REC\"), React.createElement(RecordButton, {\n    onChange: recordStateChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }), React.createElement(RecordNameInput, {\n    disabled: inputDisabled,\n    onChange: str => setRecName(str),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }), React.createElement(RecordTime, {\n    runing: timeRuning,\n    clearHandler: assignClearHandler,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }));\n};\n\nconst mapStateToProps = state => ({\n  recording: state.recorder.recording\n});\n\nconst mapDispatchToProps = dispatch => ({\n  startRecording: recName => dispatch(createRecordinRequest(recName))\n});\n\nexport default Recorder;","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/pages/console/components/Console/Mixer/Recorder/Recorder.js"],"names":["React","useState","useCallback","connect","createRecordinRequest","RecordButton","RecordNameInput","RecordTime","Recorder","recording","inputDisabled","setInputDisabled","timeRuning","setTimeRuning","recName","setRecName","clearTimeHandler","assignClearHandler","handler","recordStateChange","state","str","mapStateToProps","recorder","mapDispatchToProps","dispatch","startRecording"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA2BC,WAA3B,QAA8C,OAA9C;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,qBAAT,QAAsC,6BAAtC;AACA,OAAOC,YAAP,MAAyB,0CAAzB;AACA,OAAOC,eAAP,MAA4B,gDAA5B;AACA,OAAOC,UAAP,MAAuB,oCAAvB;AACA,OAAO,iBAAP;;AAGA,MAAMC,QAAQ,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAC/B,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCV,QAAQ,CAAC,KAAD,CAAlD;AACA,QAAM,CAACW,UAAD,EAAaC,aAAb,IAA8BZ,QAAQ,CAAC,KAAD,CAA5C;AACA,QAAM,CAACa,OAAD,EAAWC,UAAX,IAAyBd,QAAQ,CAAC,EAAD,CAAvC;AAEA,MAAIe,gBAAJ;AAEA,QAAMC,kBAAkB,GAAGf,WAAW,CAAEgB,OAAO,IAAI;AAC/C,QAAG,CAACF,gBAAJ,EAAqB;AACjBA,MAAAA,gBAAgB,GAAGE,OAAnB;AACH;AACJ,GAJqC,EAInCF,gBAJmC,CAAtC;AAMA,QAAMG,iBAAiB,GAAGjB,WAAW,CAAEkB,KAAD,IAAS;AAC3CT,IAAAA,gBAAgB,CAAC,CAAC,CAACS,KAAH,CAAhB;AACAP,IAAAA,aAAa,CAAC,CAAC,CAACO,KAAH,CAAb;;AACA,QAAG,CAACA,KAAJ,EAAU;AACNJ,MAAAA,gBAAgB;AACnB;AACJ,GANoC,EAMlC,CAACL,gBAAD,EAAmBE,aAAnB,CANkC,CAArC;AAQA,SACI;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADJ,EAEI,oBAAC,YAAD;AACI,IAAA,QAAQ,EAAEM,iBADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAII,oBAAC,eAAD;AACI,IAAA,QAAQ,EAAET,aADd;AAEI,IAAA,QAAQ,EAAEW,GAAG,IAAIN,UAAU,CAACM,GAAD,CAF/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,EAOI,oBAAC,UAAD;AACI,IAAA,MAAM,EAAET,UADZ;AAEI,IAAA,YAAY,EAAGK,kBAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPJ,CADJ;AAaH,CAlCD;;AAoCA,MAAMK,eAAe,GAAGF,KAAK,KAAK;AAC9BX,EAAAA,SAAS,EAAGW,KAAK,CAACG,QAAN,CAAed;AADG,CAAL,CAA7B;;AAIA,MAAMe,kBAAkB,GAAGC,QAAQ,KAAK;AACpCC,EAAAA,cAAc,EAAGZ,OAAO,IAAIW,QAAQ,CAACrB,qBAAqB,CAACU,OAAD,CAAtB;AADA,CAAL,CAAnC;;AAIA,eAAeN,QAAf","sourcesContent":["import React, { useState,  useCallback } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { createRecordinRequest } from \"./../../../../../../actions\";\r\nimport RecordButton from \"./../componets/RecordButton/RecordButton\";\r\nimport RecordNameInput from \"./../componets/RecordNameInput/RecordNameInput\";\r\nimport RecordTime from \"../componets/RecordTime/RecordTime\";\r\nimport \"./recorder.scss\";\r\n\r\n\r\nconst Recorder = ({ recording }) =>{\r\n    const [inputDisabled, setInputDisabled] = useState(false);\r\n    const [timeRuning, setTimeRuning] = useState(false)\r\n    const [recName , setRecName] = useState(\"\");\r\n\r\n    let clearTimeHandler;\r\n\r\n    const assignClearHandler = useCallback( handler => {\r\n        if(!clearTimeHandler){\r\n            clearTimeHandler = handler;\r\n        }\r\n    }, clearTimeHandler)\r\n\r\n    const recordStateChange = useCallback((state)=>{\r\n        setInputDisabled(!!state);\r\n        setTimeRuning(!!state); \r\n        if(!state){\r\n            clearTimeHandler();\r\n        }\r\n    }, [setInputDisabled, setTimeRuning])\r\n\r\n    return (\r\n        <div className=\"recorder\">\r\n            <div className=\"label\">REC</div>\r\n            <RecordButton \r\n                onChange={recordStateChange} />\r\n            <RecordNameInput \r\n                disabled={inputDisabled}\r\n                onChange={str => setRecName(str)}/>\r\n            <RecordTime \r\n                runing={timeRuning} \r\n                clearHandler={ assignClearHandler }/>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    recording : state.recorder.recording\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    startRecording : recName => dispatch(createRecordinRequest(recName))\r\n})\r\n\r\nexport default Recorder;"]},"metadata":{},"sourceType":"module"}