{"ast":null,"code":"export default (() => {\n  self.addEventListener(\"message\", e => {\n    /* eslint-disable-line no-restricted-globals */\n    if (!e) {\n      return;\n    }\n\n    switch (e.data[0].type) {\n      case \"BUILD_IMPULSE\":\n        {\n          _buildImpulse(e.data[0].length, e.data[0].decay, e.data[0].reverse, e.data[1], e.data[2]);\n        }\n    }\n  });\n\n  function _buildImpulse(length, decay, reverse, impulseL, impulseR) {\n    console.log(\"build impulse\");\n    let n, i;\n\n    for (i = 0; i < length; i++) {\n      n = reverse ? length - i : i;\n      impulseL[i] = (Math.random() * 2 - 1) * Math.pow(1 - n / length, decay);\n      impulseR[i] = (Math.random() * 2 - 1) * Math.pow(1 - n / length, decay);\n    }\n\n    postMessage([{\n      type: \"IMPLUSE\",\n      length: length\n    }, impulseL, impulseR]);\n  }\n});","map":{"version":3,"sources":["D:/PROJEKTY/APKI/DjTruck/djtruck/src/pages/app/core/console/effector/effects/reverb/buildImpulseWebWorker.js"],"names":["self","addEventListener","e","data","type","_buildImpulse","length","decay","reverse","impulseL","impulseR","console","log","n","i","Math","random","pow","postMessage"],"mappings":"AAGA,gBAAe,MAAM;AACjBA,EAAAA,IAAI,CAACC,gBAAL,CAAsB,SAAtB,EAAiCC,CAAC,IAAI;AAAC;AACrC,QAAI,CAACA,CAAL,EAAQ;AACJ;AACH;;AAED,YAAOA,CAAC,CAACC,IAAF,CAAO,CAAP,EAAUC,IAAjB;AACI,WAAK,eAAL;AAAuB;AACpBC,UAAAA,aAAa,CACTH,CAAC,CAACC,IAAF,CAAO,CAAP,EAAUG,MADD,EAETJ,CAAC,CAACC,IAAF,CAAO,CAAP,EAAUI,KAFD,EAGTL,CAAC,CAACC,IAAF,CAAO,CAAP,EAAUK,OAHD,EAITN,CAAC,CAACC,IAAF,CAAO,CAAP,CAJS,EAKTD,CAAC,CAACC,IAAF,CAAO,CAAP,CALS,CAAb;AAOF;AATL;AAWD,GAhBD;;AAkBA,WAASE,aAAT,CAAuBC,MAAvB,EAA+BC,KAA/B,EAAsCC,OAAtC,EAA+CC,QAA/C,EAAyDC,QAAzD,EAAmE;AAC/DC,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,QAAIC,CAAJ,EAAOC,CAAP;;AAEA,SAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGR,MAAhB,EAAwBQ,CAAC,EAAzB,EAA6B;AACzBD,MAAAA,CAAC,GAAGL,OAAO,GAAGF,MAAM,GAAGQ,CAAZ,GAAgBA,CAA3B;AACAL,MAAAA,QAAQ,CAACK,CAAD,CAAR,GAAc,CAACC,IAAI,CAACC,MAAL,KAAgB,CAAhB,GAAoB,CAArB,IAA0BD,IAAI,CAACE,GAAL,CAAS,IAAIJ,CAAC,GAAGP,MAAjB,EAAyBC,KAAzB,CAAxC;AACAG,MAAAA,QAAQ,CAACI,CAAD,CAAR,GAAc,CAACC,IAAI,CAACC,MAAL,KAAgB,CAAhB,GAAoB,CAArB,IAA0BD,IAAI,CAACE,GAAL,CAAS,IAAIJ,CAAC,GAAGP,MAAjB,EAAyBC,KAAzB,CAAxC;AACH;;AAEDW,IAAAA,WAAW,CAAC,CAAC;AAACd,MAAAA,IAAI,EAAC,SAAN;AAAiBE,MAAAA,MAAM,EAAEA;AAAzB,KAAD,EAAmCG,QAAnC,EAA8CC,QAA9C,CAAD,CAAX;AACH;AAEF,CAhCH","sourcesContent":["\r\n\r\n\r\nexport default () => {\r\n    self.addEventListener(\"message\", e => {/* eslint-disable-line no-restricted-globals */\r\n      if (!e) {\r\n          return;\r\n      }\r\n\r\n      switch(e.data[0].type){\r\n          case \"BUILD_IMPULSE\" : {\r\n             _buildImpulse(\r\n                 e.data[0].length,\r\n                 e.data[0].decay,\r\n                 e.data[0].reverse,\r\n                 e.data[1],\r\n                 e.data[2]\r\n             )\r\n          }\r\n      }\r\n    });\r\n\r\n    function _buildImpulse(length, decay, reverse, impulseL, impulseR) {\r\n        console.log(\"build impulse\")\r\n        let n, i;\r\n\r\n        for (i = 0; i < length; i++) {\r\n            n = reverse ? length - i : i;\r\n            impulseL[i] = (Math.random() * 2 - 1) * Math.pow(1 - n / length, decay);\r\n            impulseR[i] = (Math.random() * 2 - 1) * Math.pow(1 - n / length, decay);\r\n        }\r\n\r\n        postMessage([{type:\"IMPLUSE\", length: length}, impulseL , impulseR])\r\n    }\r\n\r\n  };"]},"metadata":{},"sourceType":"module"}