{"ast":null,"code":"import _classCallCheck from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _possibleConstructorReturn from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _createClass from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import Effect from\"../effect\";var Flanger=/*#__PURE__*/function(_Effect){_inherits(Flanger,_Effect);_createClass(Flanger,null,[{key:\"defaultParams\",value:function defaultParams(){return{params:{time:{// div by  100\nmin:0,max:100,defaultValue:45,type:\"float\",description:\"time\"},speed:{// div by 10\nmin:5,max:50,defaultValue:14,type:\"float\",description:\"speed\"},depth:{// div by 20 000\nmin:10,max:100,defaultValue:19,type:\"float\",description:\"depth\"},feedback:{// div by 100\nmin:0,max:80,defaultValue:8,type:\"float\",description:\"fb\"}}};}}]);function Flanger(context,params){var _this;_classCallCheck(this,Flanger);_this=_possibleConstructorReturn(this,_getPrototypeOf(Flanger).call(this));_this._context=context;_this._default=Flanger.defaultParams().params;_this._buildNodes();_this._initParams(params,Flanger.defaultParams().params);return _this;}_createClass(Flanger,[{key:\"_buildNodes\",value:function _buildNodes(){this.inputNode=this._context.createGain();this.outputNode=this._context.createGain();this.inputFeedbackNode=this._context.createGain();this.wetGainNode=this._context.createGain();this.delayNode=this._context.createDelay();this.oscillatorNode=this._context.createOscillator();this.gainNode=this._context.createGain();this.feedbackNode=this._context.createGain();this.oscillatorNode.type='sine';this.inputNode.connect(this.inputFeedbackNode);this.inputFeedbackNode.connect(this.delayNode);this.inputFeedbackNode.connect(this.wetGainNode);this.delayNode.connect(this.wetGainNode);this.delayNode.connect(this.feedbackNode);this.feedbackNode.connect(this.inputFeedbackNode);this.oscillatorNode.connect(this.gainNode);this.gainNode.connect(this.delayNode.delayTime);this.wetGainNode.connect(this.outputNode);this.oscillatorNode.start(0);this.wetGainNode.gain.value=0.7;}},{key:\"name\",get:function get(){return\"Flanger\";}},{key:\"time\",get:function get(){return this._time;},set:function set(value){value=this._valueToRange(value,\"time\");this._time=value;this.delayNode.delayTime.setTargetAtTime(value/100,this._context.currentTime,0.01);}},{key:\"speed\",get:function get(){return this._speed;},set:function set(value){value=this._valueToRange(value,\"speed\");this._speed=value;this.oscillatorNode.frequency.value=value/10;}},{key:\"depth\",get:function get(){return this._depth;},set:function set(value){value=this._valueToRange(value,\"depth\");this._depth=value;this.gainNode.gain.setTargetAtTime(value/20000,this._context.currentTime,0.01);}},{key:\"feedback\",get:function get(){return this._feedback;},set:function set(value){value=this._valueToRange(value,\"feedback\");this._feedback=value;this.feedbackNode.gain.setTargetAtTime(value/100,this._context.currentTime,0.01);}}]);return Flanger;}(Effect);export{Flanger as default};","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/pages/console/core/console/effector/effects/flanger/flanger.js"],"names":["Effect","Flanger","params","time","min","max","defaultValue","type","description","speed","depth","feedback","context","_context","_default","defaultParams","_buildNodes","_initParams","inputNode","createGain","outputNode","inputFeedbackNode","wetGainNode","delayNode","createDelay","oscillatorNode","createOscillator","gainNode","feedbackNode","connect","delayTime","start","gain","value","_time","_valueToRange","setTargetAtTime","currentTime","_speed","frequency","_depth","_feedback"],"mappings":"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","sourcesContent":["import Effect from \"../effect\";\r\n\r\nexport default class Flanger extends Effect {\r\n\r\n    static defaultParams() {\r\n        return {\r\n            params: {\r\n                time: { // div by  100\r\n                    min: 0,\r\n                    max: 100,\r\n                    defaultValue: 45,\r\n                    type: \"float\",\r\n                    description: \"time\"\r\n                },\r\n                speed: { // div by 10\r\n                    min: 5,\r\n                    max: 50,\r\n                    defaultValue: 14,\r\n                    type: \"float\",\r\n                    description: \"speed\"\r\n                },\r\n                depth: {// div by 20 000\r\n                    min: 10,\r\n                    max: 100,\r\n                    defaultValue: 19,\r\n                    type: \"float\",\r\n                    description : \"depth\"\r\n                },\r\n                feedback : { // div by 100\r\n                    min: 0,\r\n                    max: 80,\r\n                    defaultValue: 8,\r\n                    type: \"float\",\r\n                    description : \"fb\"\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    constructor(context, params){\r\n        super();\r\n        this._context = context;\r\n        this._default = Flanger.defaultParams().params;\r\n\r\n        this._buildNodes();\r\n        this._initParams(params, Flanger.defaultParams().params);\r\n    }\r\n\r\n    _buildNodes(){\r\n        this.inputNode = this._context.createGain();\r\n        this.outputNode = this._context.createGain();\r\n        this.inputFeedbackNode = this._context.createGain();\r\n        this.wetGainNode = this._context.createGain();\r\n        this.delayNode = this._context.createDelay();\r\n        this.oscillatorNode = this._context.createOscillator();\r\n        this.gainNode = this._context.createGain();\r\n        this.feedbackNode = this._context.createGain();\r\n        this.oscillatorNode.type = 'sine';\r\n    \r\n        this.inputNode.connect(this.inputFeedbackNode);\r\n\r\n    \r\n        this.inputFeedbackNode.connect(this.delayNode);\r\n        this.inputFeedbackNode.connect(this.wetGainNode);\r\n    \r\n        this.delayNode.connect(this.wetGainNode);\r\n        this.delayNode.connect(this.feedbackNode);\r\n    \r\n        this.feedbackNode.connect(this.inputFeedbackNode);\r\n        this.oscillatorNode.connect(this.gainNode);\r\n        this.gainNode.connect(this.delayNode.delayTime);\r\n    \r\n\r\n        this.wetGainNode.connect(this.outputNode);\r\n\r\n\t    this.oscillatorNode.start(0);\r\n        this.wetGainNode.gain.value = 0.7;\r\n    }\r\n\r\n\r\n    get name(){\r\n        return \"Flanger\"\r\n    }\r\n\r\n    get time(){\r\n        return this._time;\r\n    }\r\n\r\n    set time(value){\r\n        value = this._valueToRange(value, \"time\")\r\n        this._time = value;\r\n        this.delayNode.delayTime.setTargetAtTime( \r\n                value / 100, \r\n                this._context.currentTime, \r\n                0.01\r\n            );\r\n    }\r\n\r\n    get speed(){\r\n        return this._speed;\r\n    }\r\n\r\n    set speed(value){\r\n        value = this._valueToRange(value, \"speed\");\r\n        this._speed= value;\r\n        this.oscillatorNode.frequency.value = value / 10;\r\n    }\r\n\r\n    get depth(){\r\n        return this._depth;\r\n    }\r\n\r\n    set depth(value){\r\n        value = this._valueToRange(value, \"depth\");\r\n        this._depth = value;\r\n        this.gainNode.gain.setTargetAtTime(\r\n                value / 20000, \r\n                this._context.currentTime, \r\n                0.01\r\n            );\r\n    }\r\n\r\n    get feedback(){\r\n        return this._feedback;\r\n    }\r\n\r\n    set feedback(value){\r\n        value = this._valueToRange(value, \"feedback\");\r\n        this._feedback = value;\r\n        this.feedbackNode.gain.setTargetAtTime(\r\n                value/ 100, \r\n                this._context.currentTime, \r\n                0.01\r\n            )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}