{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\src\\\\pages\\\\console\\\\components\\\\Console\\\\Deck\\\\PlayBackControls\\\\PlayBackControls.js\";\nimport React, { useEffect, useCallback } from \"react\";\nimport { connect } from \"react-redux\";\nimport { togglePlay, toggleCue, canelCueAndPlay } from \"./../../../../../../actions\";\nimport { Button } from \"react-bootstrap\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlay, faPause } from '@fortawesome/free-solid-svg-icons';\nimport \"./play-back.scss\";\n\nconst PlayBackControls = ({\n  name,\n  onCueToggle,\n  togglePalay,\n  cancelCueAndPlay,\n  playPressed,\n  cuePressed\n}) => {\n  const cueMouseDown = () => {\n    onCueToggle();\n    document.addEventListener('mouseup', mouseUp);\n  };\n\n  const mouseUp = event => {\n    document.elementFromPoint(event.clientX, event.clientY);\n    const buttonUnderMouse = document.elementFromPoint(event.clientX, event.clientY).closest('button');\n\n    if (buttonUnderMouse) {\n      if (buttonUnderMouse.closest('div').classList.contains(\"play-back-controls-\" + name) && buttonUnderMouse.classList.contains('btn-play')) {\n        cancelCueAndPlay();\n      } else {\n        onCueToggle();\n      }\n    } else {\n      onCueToggle();\n    }\n\n    document.removeEventListener('mouseup', mouseUp);\n  };\n\n  const stop = useCallback(() => {\n    if (playPressed) {\n      togglePlay();\n    }\n  }, [playPressed]);\n  useEffect(() => () => {\n    stop();\n  }, [stop]);\n  return React.createElement(\"div\", {\n    className: \"play-back-controls-\" + name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(Button, {\n    className: \"btn-play \" + (!playPressed && \"btn--pressed\" || \"\"),\n    onClick: togglePalay,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(FontAwesomeIcon, {\n    icon: playPressed ? faPlay : faPause,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  })), React.createElement(Button, {\n    className: \"btn-cue \" + (cuePressed && \"btn--pressed\" || \"\"),\n    onMouseDown: cueMouseDown,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"Cue\"));\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  playPressed: state.console.channel[ownProps.name].playBackState.paused,\n  cuePressed: state.console.channel[ownProps.name].playBackState.cueActive\n});\n\nconst mapDispachToProps = (dispach, ownProps) => ({\n  togglePalay: () => dispach(togglePlay(ownProps.name)),\n  onCueToggle: () => dispach(toggleCue(ownProps.name)),\n  cancelCueAndPlay: () => dispach(canelCueAndPlay(ownProps.name))\n});\n\nexport default connect(mapStateToProps, mapDispachToProps)(PlayBackControls);","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/pages/console/components/Console/Deck/PlayBackControls/PlayBackControls.js"],"names":["React","useEffect","useCallback","connect","togglePlay","toggleCue","canelCueAndPlay","Button","FontAwesomeIcon","faPlay","faPause","PlayBackControls","name","onCueToggle","togglePalay","cancelCueAndPlay","playPressed","cuePressed","cueMouseDown","document","addEventListener","mouseUp","event","elementFromPoint","clientX","clientY","buttonUnderMouse","closest","classList","contains","removeEventListener","stop","mapStateToProps","state","ownProps","console","channel","playBackState","paused","cueActive","mapDispachToProps","dispach"],"mappings":"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","sourcesContent":["import React, { useEffect, useCallback } from \"react\";\r\nimport { connect } from \"react-redux\"; \r\nimport { togglePlay , toggleCue , canelCueAndPlay } from \"./../../../../../../actions\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlay , faPause } from '@fortawesome/free-solid-svg-icons';\r\nimport \"./play-back.scss\";\r\n\r\nconst PlayBackControls = ({name, onCueToggle, togglePalay, cancelCueAndPlay, playPressed, cuePressed}) => {\r\n\r\n    const cueMouseDown = () =>{\r\n        onCueToggle()\r\n        document.addEventListener('mouseup', mouseUp)\r\n    }\r\n\r\n    const mouseUp = (event) =>{\r\n        document.elementFromPoint(event.clientX, event.clientY)\r\n        const buttonUnderMouse = document.elementFromPoint(event.clientX, event.clientY).closest('button')\r\n        if(buttonUnderMouse){\r\n            if(buttonUnderMouse.closest('div').classList.contains(\"play-back-controls-\" + name) \r\n            && buttonUnderMouse.classList.contains('btn-play')){\r\n                cancelCueAndPlay();\r\n            } else {\r\n                onCueToggle()\r\n            }\r\n        } else {\r\n            onCueToggle()\r\n        }\r\n        document.removeEventListener('mouseup', mouseUp);\r\n    }\r\n    \r\n    const stop = useCallback(()=> {\r\n        if(playPressed){\r\n            togglePlay();\r\n        } \r\n    }, [playPressed])\r\n\r\n    useEffect(() => ()=> {\r\n        stop();\r\n    },[stop])\r\n\r\n    return (\r\n        <div className={\"play-back-controls-\" + name }>\r\n            <Button className={\"btn-play \" + (((!playPressed) && \"btn--pressed\" ) || \"\" ) }\r\n                onClick={  togglePalay }>\r\n                    <FontAwesomeIcon icon={(playPressed) ? faPlay : faPause}/>\r\n            </Button>\r\n            <Button \r\n               className={\"btn-cue \" + ((cuePressed && \"btn--pressed\") || \"\") }\r\n                onMouseDown={ cueMouseDown } > \r\n                    Cue \r\n            </Button>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    playPressed : state.console.channel[ownProps.name].playBackState.paused,\r\n    cuePressed : state.console.channel[ownProps.name].playBackState.cueActive,\r\n})\r\n\r\nconst mapDispachToProps = (dispach, ownProps) => ({\r\n    togglePalay : () => dispach(togglePlay(ownProps.name)),\r\n    onCueToggle : () => dispach(toggleCue(ownProps.name)),\r\n    cancelCueAndPlay : () => dispach(canelCueAndPlay(ownProps.name))\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispachToProps)(PlayBackControls);\r\n\r\n"]},"metadata":{},"sourceType":"module"}