{"ast":null,"code":"import _classCallCheck from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _possibleConstructorReturn from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _createClass from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import Effect from\"../effect\";var PingPongDelay=/*#__PURE__*/function(_Effect){_inherits(PingPongDelay,_Effect);_createClass(PingPongDelay,null,[{key:\"defaultParams\",value:function defaultParams(){return{params:{feedback:{min:0,max:100,defaultValue:50,type:\"float\",description:\"fb\"},time:{min:0,max:180,defaultValue:5,type:\"float\",description:\"time\"}}};}}]);function PingPongDelay(context,params){var _this;_classCallCheck(this,PingPongDelay);_this=_possibleConstructorReturn(this,_getPrototypeOf(PingPongDelay).call(this));_this._context=context;_this._default=PingPongDelay.defaultParams().params;_this._buildNodes();_this._initParams(params);return _this;}_createClass(PingPongDelay,[{key:\"_buildNodes\",value:function _buildNodes(){this.inputNode=this._context.createGain();this.outputNode=this._context.createGain();this.delayNodeLeft=this._context.createDelay();this.delayNodeRight=this._context.createDelay();this.dryGainNode=this._context.createGain();this.wetGainNode=this._context.createGain();this.feedbackGainNode=this._context.createGain();this.channelMerger=this._context.createChannelMerger(2);// the feedback loop\nthis.delayNodeLeft.connect(this.channelMerger,0,0);this.delayNodeRight.connect(this.channelMerger,0,1);this.delayNodeLeft.connect(this.delayNodeRight);this.feedbackGainNode.connect(this.delayNodeLeft);this.delayNodeRight.connect(this.feedbackGainNode);//  mix\nthis.inputNode.connect(this.feedbackGainNode);//  out\nthis.channelMerger.connect(this.outputNode);this.outputNode.gain.value=2;}},{key:\"name\",get:function get(){return\"Ping Pong Delay\";}},{key:\"time\",get:function get(){return this._time;},set:function set(value){value=this._valueToRange(value,\"time\");this._time=value;///\nthis.delayNodeLeft.delayTime.setTargetAtTime(value,this._context.currentTime,0.01);this.delayNodeRight.delayTime.setTargetAtTime(value,this._context.currentTime,0.01);}},{key:\"feedback\",get:function get(){return this._feedback;},set:function set(value){value=this._valueToRange(value,\"feedback\");this._feedback=value;this.feedbackGainNode.gain.setTargetAtTime(value/100,this._context.currentTime,0.01);}}]);return PingPongDelay;}(Effect);export{PingPongDelay as default};","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/pages/console/core/console/effector/effects/PingPongDelay/PingPongDelay.js"],"names":["Effect","PingPongDelay","params","feedback","min","max","defaultValue","type","description","time","context","_context","_default","defaultParams","_buildNodes","_initParams","inputNode","createGain","outputNode","delayNodeLeft","createDelay","delayNodeRight","dryGainNode","wetGainNode","feedbackGainNode","channelMerger","createChannelMerger","connect","gain","value","_time","_valueToRange","delayTime","setTargetAtTime","currentTime","_feedback"],"mappings":"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","sourcesContent":["import Effect from \"../effect\";\r\n\r\nexport default class PingPongDelay extends Effect{\r\n\r\n    static defaultParams(){\r\n        return {\r\n            params : {\r\n                feedback: {\r\n                    min: 0,\r\n                    max: 100,\r\n                    defaultValue: 50,\r\n                    type: \"float\",\r\n                    description : \"fb\"\r\n                },\r\n                time: {\r\n                    min: 0,\r\n                    max: 180,\r\n                    defaultValue: 5,\r\n                    type: \"float\",\r\n                    description: \"time\"\r\n                },\r\n            }\r\n        }\r\n    }\r\n    constructor(context, params){\r\n        super();\r\n        this._context = context;\r\n        this._default = PingPongDelay.defaultParams().params;\r\n\r\n        this._buildNodes();\r\n        this._initParams(params);\r\n    }\r\n\r\n    _buildNodes(){\r\n\r\n        this.inputNode = this._context.createGain();\r\n        this.outputNode = this._context.createGain();\r\n        this.delayNodeLeft = this._context.createDelay();\r\n        this.delayNodeRight = this._context.createDelay();\r\n        this.dryGainNode = this._context.createGain();\r\n        this.wetGainNode = this._context.createGain();\r\n        this.feedbackGainNode = this._context.createGain();\r\n        this.channelMerger = this._context.createChannelMerger(2);\r\n\r\n    \r\n        // the feedback loop\r\n        this.delayNodeLeft.connect(this.channelMerger, 0, 0);\r\n        this.delayNodeRight.connect(this.channelMerger, 0, 1);\r\n        this.delayNodeLeft.connect(this.delayNodeRight);\r\n        this.feedbackGainNode.connect(this.delayNodeLeft);\r\n        this.delayNodeRight.connect(this.feedbackGainNode);\r\n    \r\n        //  mix\r\n        this.inputNode.connect(this.feedbackGainNode);\r\n    \r\n        //  out\r\n        this.channelMerger.connect(this.outputNode);\r\n        this.outputNode.gain.value = 2;\r\n    }\r\n\r\n    get name(){\r\n        return \"Ping Pong Delay\"\r\n    }\r\n\r\n    get time(){\r\n        return this._time;\r\n    }\r\n\r\n    set time(value){\r\n        value = this._valueToRange(value, \"time\")\r\n        this._time= value;\r\n        ///\r\n        this.delayNodeLeft.delayTime.setTargetAtTime(\r\n                value, \r\n                this._context.currentTime, \r\n                0.01\r\n            )\r\n        this.delayNodeRight.delayTime.setTargetAtTime(\r\n            value, \r\n            this._context.currentTime, \r\n            0.01\r\n        )\r\n    }\r\n\r\n    get feedback(){\r\n        return this._feedback;\r\n    }\r\n\r\n    set feedback(value){\r\n        value = this._valueToRange(value, \"feedback\");\r\n        this._feedback = value;\r\n        this.feedbackGainNode.gain.setTargetAtTime(\r\n                (value / 100),\r\n                this._context.currentTime,\r\n                0.01 \r\n            )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}