{"ast":null,"code":"import React,{useCallback}from\"react\";import{connect}from\"react-redux\";import UserProfile from\"../common/components/UserProfile/UserProfile\";import{reqUpdateDescription,reqUpdateNickname,reqUpdatePicture}from\"./../../actions\";import{useAuth0}from\"./../../auth0/react-auth0-spa\";import\"./profile.scss\";var Profile=function Profile(_ref){var nickname=_ref.nickname,updatePicture=_ref.updatePicture,updateNickname=_ref.updateNickname,updateDescription=_ref.updateDescription;var _useAuth=useAuth0(),loading=_useAuth.loading,user=_useAuth.user;var profileDataChange=useCallback(function(type,data){switch(type){case\"picture\":{updatePicture(data);break;}case\"nickname\":{updateNickname(data);break;}case\"description\":{updateDescription(data);break;}default:return;}},[updateDescription,updateNickname,updatePicture]);if(loading||!user){return React.createElement(\"div\",null,\"Loading...\");}if(!nickname){return null;}return React.createElement(UserProfile,{nickname:nickname,editable:true,onChange:profileDataChange});};var mapStateToProps=function mapStateToProps(state){return{nickname:state.user.nickname};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{updatePicture:function updatePicture(blob){return dispatch(reqUpdatePicture(blob));},updateNickname:function updateNickname(nickname){return dispatch(reqUpdateNickname(nickname));},updateDescription:function updateDescription(description){return dispatch(reqUpdateDescription(description));}};};export default connect(mapStateToProps,mapDispatchToProps)(Profile);","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/pages/profile/Profile.js"],"names":["React","useCallback","connect","UserProfile","reqUpdateDescription","reqUpdateNickname","reqUpdatePicture","useAuth0","Profile","nickname","updatePicture","updateNickname","updateDescription","loading","user","profileDataChange","type","data","mapStateToProps","state","mapDispatchToProps","dispatch","blob","description"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,WAAhB,KAAmC,OAAnC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,8CAAxB,CACA,OAASC,oBAAT,CAA+BC,iBAA/B,CAAkDC,gBAAlD,KAA0E,iBAA1E,CACA,OAASC,QAAT,KAAyB,+BAAzB,CACA,MAAO,gBAAP,CAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,MAKV,IAJJC,CAAAA,QAII,MAJJA,QAII,CAHJC,aAGI,MAHJA,aAGI,CAFJC,cAEI,MAFJA,cAEI,CADJC,iBACI,MADJA,iBACI,cACsBL,QAAQ,EAD9B,CACIM,OADJ,UACIA,OADJ,CACaC,IADb,UACaA,IADb,CAGJ,GAAMC,CAAAA,iBAAiB,CAAGd,WAAW,CAAC,SAACe,IAAD,CAAOC,IAAP,CAAc,CAClD,OAAOD,IAAP,EACE,IAAK,SAAL,CAAgB,CACdN,aAAa,CAACO,IAAD,CAAb,CACA,MACD,CACD,IAAK,UAAL,CAAiB,CACfN,cAAc,CAACM,IAAD,CAAd,CACA,MACD,CACD,IAAK,aAAL,CAAmB,CACjBL,iBAAiB,CAACK,IAAD,CAAjB,CACA,MACD,CACD,QAAS,OAbX,CAeD,CAhBoC,CAgBnC,CACAL,iBADA,CAEAD,cAFA,CAGAD,aAHA,CAhBmC,CAArC,CAsBA,GAAIG,OAAO,EAAI,CAACC,IAAhB,CAAsB,CACpB,MAAO,6CAAP,CACD,CAED,GAAG,CAACL,QAAJ,CAAa,CACX,MAAO,KAAP,CACD,CAED,MACI,qBAAC,WAAD,EAAa,QAAQ,CAAEA,QAAvB,CAAiC,QAAQ,KAAzC,CAA0C,QAAQ,CAAEM,iBAApD,EADJ,CAGD,CAzCD,CA0CA,GAAMG,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,QAAK,CAChCV,QAAQ,CAAGU,KAAK,CAACL,IAAN,CAAWL,QADU,CAAL,EAA7B,CAIA,GAAMW,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,QAAQ,QAAK,CACtCX,aAAa,CAAG,uBAACY,IAAD,QAAUD,CAAAA,QAAQ,CAACf,gBAAgB,CAACgB,IAAD,CAAjB,CAAlB,EADsB,CAEtCX,cAAc,CAAG,wBAACF,QAAD,QAAcY,CAAAA,QAAQ,CAAChB,iBAAiB,CAACI,QAAD,CAAlB,CAAtB,EAFqB,CAGtCG,iBAAiB,CAAE,2BAACW,WAAD,QAAiBF,CAAAA,QAAQ,CAACjB,oBAAoB,CAACmB,WAAD,CAArB,CAAzB,EAHmB,CAAL,EAAnC,CAMA,cAAerB,CAAAA,OAAO,CAACgB,eAAD,CAAkBE,kBAAlB,CAAP,CAA6CZ,OAA7C,CAAf","sourcesContent":["import React, { useCallback } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport UserProfile from \"../common/components/UserProfile/UserProfile\";\r\nimport { reqUpdateDescription, reqUpdateNickname, reqUpdatePicture } from \"./../../actions\";\r\nimport { useAuth0 } from \"./../../auth0/react-auth0-spa\";\r\nimport \"./profile.scss\";\r\n\r\nconst Profile = ({\r\n  nickname,\r\n  updatePicture,\r\n  updateNickname,\r\n  updateDescription,\r\n}) => {\r\n  const { loading, user } = useAuth0();\r\n\r\n  const profileDataChange = useCallback((type, data)=>{\r\n    switch(type){\r\n      case \"picture\": {\r\n        updatePicture(data);\r\n        break;\r\n      }\r\n      case \"nickname\": {\r\n        updateNickname(data);\r\n        break;\r\n      }\r\n      case \"description\":{\r\n        updateDescription(data);\r\n        break;\r\n      }\r\n      default: return;\r\n    }\r\n  },[\r\n    updateDescription,\r\n    updateNickname,\r\n    updatePicture\r\n  ])\r\n\r\n  if (loading || !user) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  if(!nickname){\r\n    return null;\r\n  }\r\n\r\n  return (\r\n      <UserProfile nickname={nickname} editable onChange={profileDataChange}/>\r\n  );\r\n};\r\nconst mapStateToProps = state => ({\r\n  nickname : state.user.nickname,\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  updatePicture : (blob) => dispatch(reqUpdatePicture(blob)),\r\n  updateNickname : (nickname) => dispatch(reqUpdateNickname(nickname)),\r\n  updateDescription: (description) => dispatch(reqUpdateDescription(description))\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);"]},"metadata":{},"sourceType":"module"}