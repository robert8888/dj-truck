{"ast":null,"code":"import store from \"./../../store\";\nimport Observer from \"./observer/observer\";\nimport STATUS from \"./observer/STATUS\";\nlet mixConsole;\nexport default class Console {\n  constructor() {\n    store.subscribe(this.handleChange.bind(this));\n    this.observer = new Observer(store);\n    this.chanels = {\n      A: null,\n      B: null\n    };\n  }\n\n  static Init() {\n    mixConsole = new Console();\n  }\n\n  static Get() {\n    if (!mixConsole) {\n      mixConsole = new Console();\n      return mixConsole;\n    } else {\n      return mixConsole;\n    }\n  }\n\n  setPlayer(chanel, player) {\n    this.chanels[chanel] = player;\n  }\n\n  handleChange() {\n    const storeChanges = this.observer.check();\n\n    for (let diff of storeChanges) {\n      this.callAction(diff);\n    }\n  }\n\n  callAction(diff) {\n    console.log(diff);\n\n    switch (diff.status) {\n      case STATUS.TOGGLE_PLAY:\n        {\n          this.togglePlay(diff.chanel);\n        }\n    }\n  }\n\n  togglePlay(chanelName, currentValue) {\n    if (currentValue) //paused true\n      {\n        this.chanels[chanelName].puase();\n      } else {\n      this.chanels[chanelName].play();\n    }\n  }\n\n}","map":{"version":3,"sources":["D:/PROJEKTY/APKI/DjTruck/djtruck/src/core/console/console.js"],"names":["store","Observer","STATUS","mixConsole","Console","constructor","subscribe","handleChange","bind","observer","chanels","A","B","Init","Get","setPlayer","chanel","player","storeChanges","check","diff","callAction","console","log","status","TOGGLE_PLAY","togglePlay","chanelName","currentValue","puase","play"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,eAAlB;AACA,OAAOC,QAAP,MAAqB,qBAArB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,IAAIC,UAAJ;AACA,eAAe,MAAMC,OAAN,CAAa;AACxBC,EAAAA,WAAW,GAAE;AACTL,IAAAA,KAAK,CAACM,SAAN,CAAgB,KAAKC,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAAhB;AACA,SAAKC,QAAL,GAAgB,IAAIR,QAAJ,CAAaD,KAAb,CAAhB;AACA,SAAKU,OAAL,GAAe;AACXC,MAAAA,CAAC,EAAE,IADQ;AAEXC,MAAAA,CAAC,EAAE;AAFQ,KAAf;AAIH;;AAED,SAAOC,IAAP,GAAa;AACTV,IAAAA,UAAU,GAAG,IAAIC,OAAJ,EAAb;AACH;;AAED,SAAOU,GAAP,GAAY;AACR,QAAG,CAACX,UAAJ,EAAe;AACXA,MAAAA,UAAU,GAAG,IAAIC,OAAJ,EAAb;AACA,aAAOD,UAAP;AACH,KAHD,MAGO;AACH,aAAOA,UAAP;AACH;AACJ;;AAEDY,EAAAA,SAAS,CAACC,MAAD,EAASC,MAAT,EAAgB;AACrB,SAAKP,OAAL,CAAaM,MAAb,IAAuBC,MAAvB;AACH;;AAEDV,EAAAA,YAAY,GAAE;AACV,UAAMW,YAAY,GAAG,KAAKT,QAAL,CAAcU,KAAd,EAArB;;AACA,SAAI,IAAIC,IAAR,IAAgBF,YAAhB,EAA6B;AACzB,WAAKG,UAAL,CAAgBD,IAAhB;AACH;AACJ;;AAEDC,EAAAA,UAAU,CAACD,IAAD,EAAM;AACZE,IAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;;AACA,YAAOA,IAAI,CAACI,MAAZ;AACI,WAAKtB,MAAM,CAACuB,WAAZ;AAA0B;AACtB,eAAKC,UAAL,CAAgBN,IAAI,CAACJ,MAArB;AACH;AAHL;AAKH;;AAEDU,EAAAA,UAAU,CAACC,UAAD,EAAaC,YAAb,EAA0B;AAChC,QAAGA,YAAH,EAAgB;AAChB;AACI,aAAKlB,OAAL,CAAaiB,UAAb,EAAyBE,KAAzB;AACH,OAHD,MAGO;AACH,WAAKnB,OAAL,CAAaiB,UAAb,EAAyBG,IAAzB;AACH;AACJ;;AAlDuB","sourcesContent":["import store from \"./../../store\";\r\nimport Observer from \"./observer/observer\";\r\nimport STATUS from \"./observer/STATUS\";\r\n\r\nlet mixConsole;\r\nexport default class Console{\r\n    constructor(){\r\n        store.subscribe(this.handleChange.bind(this));\r\n        this.observer = new Observer(store);\r\n        this.chanels = {\r\n            A: null, \r\n            B: null\r\n        }\r\n    }\r\n\r\n    static Init(){\r\n        mixConsole = new Console();\r\n    }\r\n\r\n    static Get(){\r\n        if(!mixConsole){\r\n            mixConsole = new Console();\r\n            return mixConsole;\r\n        } else {\r\n            return mixConsole;\r\n        }\r\n    }\r\n\r\n    setPlayer(chanel, player){\r\n        this.chanels[chanel] = player;\r\n    }\r\n\r\n    handleChange(){\r\n        const storeChanges = this.observer.check();\r\n        for(let diff of storeChanges){\r\n            this.callAction(diff);\r\n        }\r\n    }\r\n\r\n    callAction(diff){\r\n        console.log(diff);\r\n        switch(diff.status){\r\n            case STATUS.TOGGLE_PLAY : {\r\n                this.togglePlay(diff.chanel)\r\n            }\r\n        }\r\n    }\r\n\r\n    togglePlay(chanelName, currentValue){\r\n        if(currentValue)//paused true\r\n        {\r\n            this.chanels[chanelName].puase()\r\n        } else {\r\n            this.chanels[chanelName].play();\r\n        }\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}