{"ast":null,"code":"'use strict';\n\nvar flatmap = require('flatmap');\n\nvar convert = require('unist-util-is/convert');\n\nmodule.exports = filter;\n\nfunction filter(tree, opts, test) {\n  var is;\n  var cascade;\n\n  if (!test) {\n    test = opts;\n    opts = {};\n  }\n\n  cascade = opts.cascade;\n  cascade = cascade === null || cascade === undefined ? true : cascade;\n  is = convert(test);\n  return preorder(tree, null, null);\n\n  function preorder(node, index, parent) {\n    var next;\n\n    if (!is(node, index, parent)) {\n      return null;\n    }\n\n    next = Object.keys(node).reduce(reduce, {});\n\n    if (node.children) {\n      next.children = flatmap(node.children, map);\n\n      if (cascade && node.children.length !== 0 && next.children.length === 0) {\n        return null;\n      }\n    }\n\n    return next;\n\n    function reduce(acc, key) {\n      if (key !== 'children') {\n        acc[key] = node[key];\n      }\n\n      return acc;\n    }\n\n    function map(child, index) {\n      return preorder(child, index, node);\n    }\n  }\n}","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/pages/introduction/MarkDonwExtesnion/remark-attr/node_modules/unist-util-filter/index.js"],"names":["flatmap","require","convert","module","exports","filter","tree","opts","test","is","cascade","undefined","preorder","node","index","parent","next","Object","keys","reduce","children","map","length","acc","key","child"],"mappings":"AAAA;;AAEA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIC,OAAO,GAAGD,OAAO,CAAC,uBAAD,CAArB;;AAEAE,MAAM,CAACC,OAAP,GAAiBC,MAAjB;;AAEA,SAASA,MAAT,CAAgBC,IAAhB,EAAsBC,IAAtB,EAA4BC,IAA5B,EAAkC;AAChC,MAAIC,EAAJ;AACA,MAAIC,OAAJ;;AAEA,MAAI,CAACF,IAAL,EAAW;AACTA,IAAAA,IAAI,GAAGD,IAAP;AACAA,IAAAA,IAAI,GAAG,EAAP;AACD;;AAEDG,EAAAA,OAAO,GAAGH,IAAI,CAACG,OAAf;AACAA,EAAAA,OAAO,GAAGA,OAAO,KAAK,IAAZ,IAAoBA,OAAO,KAAKC,SAAhC,GAA4C,IAA5C,GAAmDD,OAA7D;AACAD,EAAAA,EAAE,GAAGP,OAAO,CAACM,IAAD,CAAZ;AAEA,SAAOI,QAAQ,CAACN,IAAD,EAAO,IAAP,EAAa,IAAb,CAAf;;AAEA,WAASM,QAAT,CAAkBC,IAAlB,EAAwBC,KAAxB,EAA+BC,MAA/B,EAAuC;AACrC,QAAIC,IAAJ;;AAEA,QAAI,CAACP,EAAE,CAACI,IAAD,EAAOC,KAAP,EAAcC,MAAd,CAAP,EAA8B;AAC5B,aAAO,IAAP;AACD;;AAEDC,IAAAA,IAAI,GAAGC,MAAM,CAACC,IAAP,CAAYL,IAAZ,EAAkBM,MAAlB,CAAyBA,MAAzB,EAAiC,EAAjC,CAAP;;AAEA,QAAIN,IAAI,CAACO,QAAT,EAAmB;AACjBJ,MAAAA,IAAI,CAACI,QAAL,GAAgBpB,OAAO,CAACa,IAAI,CAACO,QAAN,EAAgBC,GAAhB,CAAvB;;AAEA,UAAIX,OAAO,IAAIG,IAAI,CAACO,QAAL,CAAcE,MAAd,KAAyB,CAApC,IAAyCN,IAAI,CAACI,QAAL,CAAcE,MAAd,KAAyB,CAAtE,EAAyE;AACvE,eAAO,IAAP;AACD;AACF;;AAED,WAAON,IAAP;;AAEA,aAASG,MAAT,CAAgBI,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,UAAIA,GAAG,KAAK,UAAZ,EAAwB;AACtBD,QAAAA,GAAG,CAACC,GAAD,CAAH,GAAWX,IAAI,CAACW,GAAD,CAAf;AACD;;AAED,aAAOD,GAAP;AACD;;AAED,aAASF,GAAT,CAAaI,KAAb,EAAoBX,KAApB,EAA2B;AACzB,aAAOF,QAAQ,CAACa,KAAD,EAAQX,KAAR,EAAeD,IAAf,CAAf;AACD;AACF;AACF","sourcesContent":["'use strict'\n\nvar flatmap = require('flatmap')\nvar convert = require('unist-util-is/convert')\n\nmodule.exports = filter\n\nfunction filter(tree, opts, test) {\n  var is\n  var cascade\n\n  if (!test) {\n    test = opts\n    opts = {}\n  }\n\n  cascade = opts.cascade\n  cascade = cascade === null || cascade === undefined ? true : cascade\n  is = convert(test)\n\n  return preorder(tree, null, null)\n\n  function preorder(node, index, parent) {\n    var next\n\n    if (!is(node, index, parent)) {\n      return null\n    }\n\n    next = Object.keys(node).reduce(reduce, {})\n\n    if (node.children) {\n      next.children = flatmap(node.children, map)\n\n      if (cascade && node.children.length !== 0 && next.children.length === 0) {\n        return null\n      }\n    }\n\n    return next\n\n    function reduce(acc, key) {\n      if (key !== 'children') {\n        acc[key] = node[key]\n      }\n\n      return acc\n    }\n\n    function map(child, index) {\n      return preorder(child, index, node)\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}