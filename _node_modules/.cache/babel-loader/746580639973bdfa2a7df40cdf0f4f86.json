{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";var recorder_api_url=process.env.REACT_APP_RECORDER_API;var getSocketUrl=function getSocketUrl(){return recorder_api_url.replace('http','ws').replace('https','wss');};var getRecordUrl=function getRecordUrl(id){return recorder_api_url+\"/records/\"+id;};var getStreamUrl=function getStreamUrl(id){return getRecordUrl(id);};var getDownloadLink=function getDownloadLink(id,title){return recorder_api_url+'/records/download/'+id+\"/\"+title;};var deleteRecord=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){var res,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(getRecordUrl(id));_context.next=3;return fetch(getRecordUrl(id),{method:'DELETE'});case 3:res=_context.sent;console.log(res);_context.next=7;return res.json();case 7:result=_context.sent;return _context.abrupt(\"return\",result.status||\"error\");case 9:case\"end\":return _context.stop();}}},_callee);}));return function deleteRecord(_x){return _ref.apply(this,arguments);};}();export default{getSocketUrl:getSocketUrl,getRecordUrl:getRecordUrl,getStreamUrl:getStreamUrl,deleteRecord:deleteRecord,getDownloadLink:getDownloadLink};","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/apis/recordsStore/recStoreApi.js"],"names":["recorder_api_url","process","env","REACT_APP_RECORDER_API","getSocketUrl","replace","getRecordUrl","id","getStreamUrl","getDownloadLink","title","deleteRecord","console","log","fetch","method","res","json","result","status"],"mappings":"iOACA,GAAMA,CAAAA,gBAAgB,CAAGC,OAAO,CAACC,GAAR,CAAYC,sBAArC,CACA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAI,CACrB,MAAOJ,CAAAA,gBAAgB,CAACK,OAAjB,CAAyB,MAAzB,CAAiC,IAAjC,EAAuCA,OAAvC,CAA+C,OAA/C,CAAwD,KAAxD,CAAP,CACH,CAFD,CAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,EAAD,CAAO,CACxB,MAAOP,CAAAA,gBAAgB,CAAG,WAAnB,CAAiCO,EAAxC,CACH,CAFD,CAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAD,EAAE,QAAID,CAAAA,YAAY,CAACC,EAAD,CAAhB,EAAvB,CAGA,GAAME,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACF,EAAD,CAAKG,KAAL,CAAe,CACnC,MAAOV,CAAAA,gBAAgB,CAAG,oBAAnB,CAA0CO,EAA1C,CAA8C,GAA9C,CAAoDG,KAA3D,CACH,CAFD,CAIA,GAAMC,CAAAA,YAAY,0FAAG,iBAAOJ,EAAP,iIACjBK,OAAO,CAACC,GAAR,CAAYP,YAAY,CAACC,EAAD,CAAxB,EADiB,sBAECO,CAAAA,KAAK,CAACR,YAAY,CAACC,EAAD,CAAb,CAAmB,CACtCQ,MAAM,CAAE,QAD8B,CAAnB,CAFN,QAEXC,GAFW,eAKjBJ,OAAO,CAACC,GAAR,CAAYG,GAAZ,EALiB,sBAMIA,CAAAA,GAAG,CAACC,IAAJ,EANJ,QAMXC,MANW,+CAOVA,MAAM,CAACC,MAAP,EAAiB,OAPP,wDAAH,kBAAZR,CAAAA,YAAY,4CAAlB,CAUA,cAAe,CACXP,YAAY,CAAZA,YADW,CAEXE,YAAY,CAAZA,YAFW,CAGXE,YAAY,CAAZA,YAHW,CAIXG,YAAY,CAAZA,YAJW,CAKXF,eAAe,CAAfA,eALW,CAAf","sourcesContent":["\r\nconst recorder_api_url = process.env.REACT_APP_RECORDER_API\r\nconst getSocketUrl = ()=>{\r\n    return recorder_api_url.replace('http', 'ws').replace('https', 'wss')\r\n}\r\n\r\nconst getRecordUrl = (id) =>{\r\n    return recorder_api_url + \"/records/\" + id \r\n}\r\n\r\nconst getStreamUrl = id => getRecordUrl(id);\r\n\r\n\r\nconst getDownloadLink = (id, title) => {\r\n    return recorder_api_url + '/records/download/' + id +\"/\" + title;\r\n}\r\n\r\nconst deleteRecord = async (id) => {\r\n    console.log(getRecordUrl(id))\r\n    const res = await fetch(getRecordUrl(id), {\r\n        method: 'DELETE',\r\n    })\r\n    console.log(res)\r\n    const result = await res.json();\r\n    return result.status || \"error\"\r\n}\r\n\r\nexport default {\r\n    getSocketUrl,\r\n    getRecordUrl,\r\n    getStreamUrl,\r\n    deleteRecord,\r\n    getDownloadLink,\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}