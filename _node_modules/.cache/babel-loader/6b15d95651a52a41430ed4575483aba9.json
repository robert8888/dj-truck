{"ast":null,"code":"import _slicedToArray from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useCallback}from\"react\";import{connect}from\"react-redux\";import\"./menu-bar.scss\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faFolderPlus,faFile}from\"@fortawesome/free-solid-svg-icons\";import{Form}from\"react-bootstrap\";import{createDirRequest,createPlaylistRequest}from\"./../../../../../../actions\";var MenuBar=function MenuBar(_ref){var createElement=_ref.createElement;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),type=_useState2[0],setType=_useState2[1];var nameInput=useRef();var dirButton=useRef();var fileButton=useRef();var clear=useCallback(function(){dirButton.current.blur();fileButton.current.blur();nameInput.current.blur();nameInput.current.value=\"\";},[dirButton,fileButton,nameInput]);var creatClickHandler=useCallback(function(type){if(type===\"dir\"){dirButton.current.focus();}else if(type===\"file\"){fileButton.current.focus();}setType(type);nameInput.current.focus();},[nameInput,setType]);var create=useCallback(function(){createElement(type,nameInput.current.value);clear();},[type,nameInput,clear,createElement]);var clearAction=useCallback(function(){setType(null);clear();},[setType,clear]);return React.createElement(\"div\",{className:\"menu-bar\"},React.createElement(\"h6\",{className:\"title\"},\"Explorer\"),React.createElement(Form.Control,{ref:nameInput,className:\"file-name-input\",type:\"text\",size:\"sm\",onKeyPress:function onKeyPress(e){if(e.key===\"Enter\"){create();}},onBlur:clearAction.bind(null)}),React.createElement(\"div\",{className:\"flex-spacer\"}),React.createElement(\"button\",{ref:dirButton,className:\"btn-transparent btn-new-file\",onClick:creatClickHandler.bind(null,\"dir\")},React.createElement(FontAwesomeIcon,{className:\"icon icon-new-folder\",icon:faFolderPlus})),React.createElement(\"button\",{ref:fileButton,className:\"btn-transparent btn-new-file\",onClick:creatClickHandler.bind(null,\"file\")},React.createElement(FontAwesomeIcon,{className:\"icon icon-new-file\",icon:faFile})));};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{createElement:function createElement(type,name){if(type===\"dir\"){dispatch(createDirRequest(name));}else if(type===\"file\"){dispatch(createPlaylistRequest(name));}}};};export default connect(null,mapDispatchToProps)(MenuBar);","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/pages/common/components/PlayListExplorer/Explorer/MenuBar/MenuBar.js"],"names":["React","useState","useRef","useCallback","connect","FontAwesomeIcon","faFolderPlus","faFile","Form","createDirRequest","createPlaylistRequest","MenuBar","createElement","type","setType","nameInput","dirButton","fileButton","clear","current","blur","value","creatClickHandler","focus","create","clearAction","e","key","bind","mapDispatchToProps","dispatch","name"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useCallback } from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport \"./menu-bar.scss\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faFolderPlus, faFile } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport {\r\n    createDirRequest,\r\n    createPlaylistRequest\r\n} from \"./../../../../../../actions\";\r\n\r\nconst MenuBar = ({createElement}) => {\r\n    const [type, setType] = useState(null);\r\n    const nameInput = useRef();\r\n    const dirButton = useRef();\r\n    const fileButton = useRef();\r\n\r\n    const clear = useCallback(()=>{\r\n        dirButton.current.blur();\r\n        fileButton.current.blur();\r\n        nameInput.current.blur();\r\n        nameInput.current.value=\"\"\r\n    }, [dirButton, fileButton, nameInput])\r\n\r\n    const creatClickHandler = useCallback(type => {\r\n        if (type === \"dir\") {\r\n            dirButton.current.focus();\r\n        } else if (type === \"file\") {\r\n            fileButton.current.focus()\r\n        }\r\n        setType(type);\r\n        nameInput.current.focus();\r\n    }, [nameInput, setType])\r\n\r\n    const create = useCallback(() => {\r\n        createElement(type, nameInput.current.value)\r\n        clear();\r\n    }, [type, nameInput, clear, createElement])\r\n\r\n    const clearAction = useCallback(()=>{\r\n        setType(null);\r\n        clear();\r\n    }, [setType, clear])\r\n\r\n\r\n    return (\r\n        <div className=\"menu-bar\">\r\n            <h6 className=\"title\">Explorer</h6>\r\n            <Form.Control\r\n                ref={nameInput}\r\n                className=\"file-name-input\"\r\n                type=\"text\" size=\"sm\"\r\n                onKeyPress={e => { if (e.key === \"Enter\") { create() } }}\r\n                onBlur={clearAction.bind(null)}\r\n            />\r\n            <div className=\"flex-spacer\" />\r\n            <button\r\n                ref={dirButton}\r\n                className=\"btn-transparent btn-new-file\"\r\n                onClick={creatClickHandler.bind(null, \"dir\")}>\r\n                <FontAwesomeIcon\r\n                    className=\"icon icon-new-folder\"\r\n                    icon={faFolderPlus} />\r\n            </button>\r\n            <button\r\n                ref={fileButton}\r\n                className=\"btn-transparent btn-new-file\"\r\n                onClick={creatClickHandler.bind(null, \"file\")}>\r\n                <FontAwesomeIcon\r\n                    className=\"icon icon-new-file\"\r\n                    icon={faFile} />\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    createElement : (type, name) => {\r\n        if(type === \"dir\"){\r\n            dispatch(createDirRequest(name))\r\n        } else if(type === \"file\"){\r\n            dispatch(createPlaylistRequest(name))\r\n        }\r\n    }\r\n})\r\n\r\nexport default connect(null, mapDispatchToProps)(MenuBar);"]},"metadata":{},"sourceType":"module"}