{"ast":null,"code":"import { ACTIONS } from \"../actions\";\nimport { setUserProfileWithToken } from \"./../actions\";\nimport { put, call, select, takeEvery } from 'redux-saga/effects';\nimport { getToken } from \"./../utils/auth/token\";\n\nconst getLogged = state => state.user.logged;\n\nexport default function* watcher() {\n  yield takeEvery(ACTIONS.SET_USER_PROFILE, setUserProfile);\n}\n\nfunction* setUserProfile(action) {\n  const logged = yield select(getLogged);\n\n  if (logged) {\n    return;\n  } //  console.log(\"Set user profil\")\n\n\n  const token = yield call(getToken);\n  yield put(setUserProfileWithToken(action.user, token));\n}","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/sagas/setUserSaga.js"],"names":["ACTIONS","setUserProfileWithToken","put","call","select","takeEvery","getToken","getLogged","state","user","logged","watcher","SET_USER_PROFILE","setUserProfile","action","token"],"mappings":"AAAA,SAASA,OAAT,QAAwB,YAAxB;AACA,SAASC,uBAAT,QAAwC,cAAxC;AACA,SAASC,GAAT,EAAeC,IAAf,EAAqBC,MAArB,EAA6BC,SAA7B,QAA6C,oBAA7C;AACA,SAAQC,QAAR,QAAuB,uBAAvB;;AAEA,MAAMC,SAAS,GAAGC,KAAK,IAAIA,KAAK,CAACC,IAAN,CAAWC,MAAtC;;AAEA,eAAe,UAAUC,OAAV,GAAmB;AAC9B,QAAMN,SAAS,CAACL,OAAO,CAACY,gBAAT,EAA2BC,cAA3B,CAAf;AACH;;AAED,UAAUA,cAAV,CAAyBC,MAAzB,EAAgC;AAC5B,QAAMJ,MAAM,GAAG,MAAMN,MAAM,CAACG,SAAD,CAA3B;;AACA,MAAGG,MAAH,EAAU;AACN;AACH,GAJ2B,CAK9B;;;AACC,QAAMK,KAAK,GAAG,MAAMZ,IAAI,CAACG,QAAD,CAAxB;AAEA,QAAMJ,GAAG,CAACD,uBAAuB,CAACa,MAAM,CAACL,IAAR,EAAcM,KAAd,CAAxB,CAAT;AACF","sourcesContent":["import { ACTIONS } from \"../actions\";\r\nimport { setUserProfileWithToken } from \"./../actions\";\r\nimport { put , call, select, takeEvery} from 'redux-saga/effects';\r\nimport {getToken} from \"./../utils/auth/token\";\r\n\r\nconst getLogged = state => state.user.logged;\r\n\r\nexport default function* watcher(){\r\n    yield takeEvery(ACTIONS.SET_USER_PROFILE, setUserProfile);\r\n}\r\n\r\nfunction *setUserProfile(action){\r\n    const logged = yield select(getLogged);\r\n    if(logged){\r\n        return\r\n    }\r\n  //  console.log(\"Set user profil\")\r\n   const token = yield call(getToken);\r\n\r\n   yield put(setUserProfileWithToken(action.user, token))\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}