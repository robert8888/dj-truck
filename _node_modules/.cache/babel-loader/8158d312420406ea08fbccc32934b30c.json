{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\src\\\\pages\\\\console\\\\components\\\\Console\\\\Deck\\\\PitchButtons\\\\PitchButtons.js\";\nimport React from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport { increasePitch, decreasePitch } from \"./../../../../../../actions\";\nimport \"./pitch-buttons.scss\";\nconst buttonStepAmount = 0.01;\n\nconst PitchButtons = props => {\n  let intervallHanlder = null;\n  let lastPressed = null;\n  let mouseUpHandler = null;\n\n  const mouseDown = callBack => {\n    callBack();\n    lastPressed = new Date().getTime();\n    intervallHanlder = setInterval(() => {\n      const now = new Date().getTime();\n\n      if (now - lastPressed > 1000) {\n        callBack();\n      }\n    }, 100);\n    mouseUpHandler = mouseUp.bind(null, intervallHanlder);\n    document.body.addEventListener('mouseup', mouseUpHandler);\n    document.body.addEventListener('mouseleave', mouseUpHandler);\n  };\n\n  const mouseUp = handler => {\n    clearInterval(handler);\n    document.body.removeEventListener('mouseup', mouseUpHandler);\n    document.body.removeEventListener('mouseleave', mouseUpHandler);\n  };\n\n  return React.createElement(\"div\", {\n    className: \"pitch-btns-\" + props.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(Button, {\n    className: \"pitch-btn btn-increase\",\n    onMouseDown: mouseDown.bind(null, props.increaseBpm),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, \" + \"), React.createElement(Button, {\n    className: \"pitch-btn btn-decrease\",\n    onMouseDown: mouseDown.bind(null, props.decreaseBpm),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \" - \"));\n};\n\nconst mapDispachToProps = (dispatch, ownProps) => ({\n  increaseBpm: () => dispatch(increasePitch(ownProps.name, buttonStepAmount)),\n  decreaseBpm: () => dispatch(decreasePitch(ownProps.name, buttonStepAmount))\n});\n\nexport default connect(null, mapDispachToProps)(PitchButtons);","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/pages/console/components/Console/Deck/PitchButtons/PitchButtons.js"],"names":["React","Button","connect","increasePitch","decreasePitch","buttonStepAmount","PitchButtons","props","intervallHanlder","lastPressed","mouseUpHandler","mouseDown","callBack","Date","getTime","setInterval","now","mouseUp","bind","document","body","addEventListener","handler","clearInterval","removeEventListener","name","increaseBpm","decreaseBpm","mapDispachToProps","dispatch","ownProps"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,iBAAvB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAAQC,aAAR,EAAuBC,aAAvB,QAA2C,6BAA3C;AACA,OAAO,sBAAP;AAEA,MAAMC,gBAAgB,GAAG,IAAzB;;AAEA,MAAMC,YAAY,GAAGC,KAAK,IAAG;AAEzB,MAAIC,gBAAgB,GAAG,IAAvB;AACA,MAAIC,WAAW,GAAG,IAAlB;AAEA,MAAIC,cAAc,GAAG,IAArB;;AACA,QAAMC,SAAS,GAAGC,QAAQ,IAAI;AAC1BA,IAAAA,QAAQ;AACRH,IAAAA,WAAW,GAAG,IAAII,IAAJ,GAAWC,OAAX,EAAd;AACAN,IAAAA,gBAAgB,GAAGO,WAAW,CAAC,MAAI;AAC/B,YAAMC,GAAG,GAAG,IAAIH,IAAJ,GAAWC,OAAX,EAAZ;;AACA,UAAIE,GAAG,GAAGP,WAAN,GAAoB,IAAxB,EAA8B;AAC1BG,QAAAA,QAAQ;AACX;AACJ,KAL6B,EAK3B,GAL2B,CAA9B;AAMAF,IAAAA,cAAc,GAAGO,OAAO,CAACC,IAAR,CAAa,IAAb,EAAmBV,gBAAnB,CAAjB;AACAW,IAAAA,QAAQ,CAACC,IAAT,CAAcC,gBAAd,CAA+B,SAA/B,EAA0CX,cAA1C;AACAS,IAAAA,QAAQ,CAACC,IAAT,CAAcC,gBAAd,CAA+B,YAA/B,EAA6CX,cAA7C;AACH,GAZD;;AAcA,QAAMO,OAAO,GAAGK,OAAO,IAAI;AACvBC,IAAAA,aAAa,CAACD,OAAD,CAAb;AACAH,IAAAA,QAAQ,CAACC,IAAT,CAAcI,mBAAd,CAAkC,SAAlC,EAA6Cd,cAA7C;AACAS,IAAAA,QAAQ,CAACC,IAAT,CAAcI,mBAAd,CAAkC,YAAlC,EAAgDd,cAAhD;AACH,GAJD;;AAOA,SACI;AAAK,IAAA,SAAS,EAAE,gBAAgBH,KAAK,CAACkB,IAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAC,wBAAlB;AACQ,IAAA,WAAW,EAAGd,SAAS,CAACO,IAAV,CAAe,IAAf,EAAqBX,KAAK,CAACmB,WAA3B,CADtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADJ,EAII,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAC,wBAAlB;AACQ,IAAA,WAAW,EAAGf,SAAS,CAACO,IAAV,CAAe,IAAf,EAAqBX,KAAK,CAACoB,WAA3B,CADtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAJJ,CADJ;AAUH,CArCD;;AAuCA,MAAMC,iBAAiB,GAAG,CAACC,QAAD,EAAWC,QAAX,MAAwB;AAC9CJ,EAAAA,WAAW,EAAG,MAAMG,QAAQ,CAAC1B,aAAa,CAAC2B,QAAQ,CAACL,IAAV,EAAgBpB,gBAAhB,CAAd,CADkB;AAE9CsB,EAAAA,WAAW,EAAG,MAAME,QAAQ,CAACzB,aAAa,CAAC0B,QAAQ,CAACL,IAAV,EAAgBpB,gBAAhB,CAAd;AAFkB,CAAxB,CAA1B;;AAKA,eAAeH,OAAO,CAAC,IAAD,EAAO0B,iBAAP,CAAP,CAAiCtB,YAAjC,CAAf","sourcesContent":["import React from \"react\"\r\nimport { Button } from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport {increasePitch, decreasePitch} from \"./../../../../../../actions\";\r\nimport \"./pitch-buttons.scss\"\r\n\r\nconst buttonStepAmount = 0.01;\r\n\r\nconst PitchButtons = props =>{\r\n\r\n    let intervallHanlder = null;\r\n    let lastPressed = null;\r\n\r\n    let mouseUpHandler = null;\r\n    const mouseDown = callBack => {\r\n        callBack();\r\n        lastPressed = new Date().getTime();\r\n        intervallHanlder = setInterval(()=>{\r\n            const now = new Date().getTime();\r\n            if( now - lastPressed > 1000 ){\r\n                callBack();\r\n            }\r\n        }, 100)\r\n        mouseUpHandler = mouseUp.bind(null, intervallHanlder);\r\n        document.body.addEventListener('mouseup', mouseUpHandler)\r\n        document.body.addEventListener('mouseleave', mouseUpHandler);\r\n    }\r\n\r\n    const mouseUp = handler => {\r\n        clearInterval(handler);\r\n        document.body.removeEventListener('mouseup', mouseUpHandler);\r\n        document.body.removeEventListener('mouseleave', mouseUpHandler);\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={\"pitch-btns-\" + props.name}>\r\n            <Button className=\"pitch-btn btn-increase\" \r\n                    onMouseDown={ mouseDown.bind(null, props.increaseBpm) }\r\n                    > + </Button>\r\n            <Button className=\"pitch-btn btn-decrease\" \r\n                    onMouseDown={ mouseDown.bind(null, props.decreaseBpm) }\r\n                    > - </Button>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapDispachToProps = (dispatch, ownProps) =>({\r\n    increaseBpm : () => dispatch(increasePitch(ownProps.name, buttonStepAmount)),\r\n    decreaseBpm : () => dispatch(decreasePitch(ownProps.name, buttonStepAmount)),  \r\n})\r\n\r\nexport default connect(null, mapDispachToProps)(PitchButtons);"]},"metadata":{},"sourceType":"module"}