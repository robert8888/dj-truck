{"ast":null,"code":"import React,{Fragment}from\"react\";import{connect}from\"react-redux\";import\"./track-info.scss\";import track_thumbnail from\"./../../../assets/img/track_thumbnail.png\";import{calcBpm}from\"./../../../utils/bpm/converter.js\";import{stripHtml}from\"./../../../utils/html/htmlHelper.js\";import{formater}from\"./../../../utils/time/timeFromater\";var TrackInfo=function TrackInfo(props){var _track$details$thumbn,_track$details$thumbn2,_track$details$thumbn3,_track$details$thumbn4;var track=props.track;var title=stripHtml(track.details.title);var seprator=title.indexOf(\"-\");if(seprator!==-1){title=React.createElement(Fragment,null,React.createElement(\"span\",null,title.substr(0,seprator)),\" \",title.substr(seprator,title.length));}return React.createElement(\"div\",{className:\"track-info deck-\"+props.name},React.createElement(\"div\",{className:\"track-info-thumbnail\"},((_track$details$thumbn=track.details.thumbnail)===null||_track$details$thumbn===void 0?void 0:(_track$details$thumbn2=_track$details$thumbn.default)===null||_track$details$thumbn2===void 0?void 0:_track$details$thumbn2.url)&&React.createElement(\"img\",{alt:\"track thumbnails\",src:(_track$details$thumbn3=track.details.thumbnail)===null||_track$details$thumbn3===void 0?void 0:(_track$details$thumbn4=_track$details$thumbn3.default)===null||_track$details$thumbn4===void 0?void 0:_track$details$thumbn4.url})),React.createElement(\"div\",{className:\"track-info-description\"},React.createElement(\"p\",{className:\"track-info-title\"},title)),React.createElement(\"div\",{className:\"track-info-time\"},React.createElement(\"span\",{className:\"time-left\"},track.state.timeLeft?formater.secondsToStr(track.state.timeLeft):formater.ytToStr(track.details.duration)),React.createElement(\"span\",{className:\"track-duration\"},formater.ytToStr(track.details.duration))),React.createElement(\"div\",{className:\"track-info-bpm\"},React.createElement(\"span\",{className:\"track-bpm-current\"},track.details.bpm&&calcBpm(track.details.bpm,track.state.pitch).toFixed(2)),React.createElement(\"span\",{className:\"tarck-bpm-pitch\"},track.state.pitch.toFixed(2)+\"%\"),React.createElement(\"span\",{className:\"track-bpm-init\"},track.details.bpm&&track.details.bpm.toFixed(2))));};var mapStateToProps=function mapStateToProps(state,ownProps){return{track:{details:state.console.channel[ownProps.name].track,state:state.console.channel[ownProps.name].playBackState}};};export default connect(mapStateToProps)(TrackInfo);","map":{"version":3,"sources":["D:/PROJEKTY/APKI/DjTruck/djtruck/src/components/Deck/TrackInfo/TrackInfo.js"],"names":["React","Fragment","connect","track_thumbnail","calcBpm","stripHtml","formater","TrackInfo","props","track","title","details","seprator","indexOf","substr","length","name","thumbnail","default","url","state","timeLeft","secondsToStr","ytToStr","duration","bpm","pitch","toFixed","mapStateToProps","ownProps","console","channel","playBackState"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAO,mBAAP,CACA,MAAOC,CAAAA,eAAP,KAA4B,2CAA5B,CAEA,OAASC,OAAT,KAAwB,mCAAxB,CACA,OAASC,SAAT,KAA0B,qCAA1B,CACA,OAASC,QAAT,KAAyB,oCAAzB,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAAC,KAAK,CAAI,gGACvB,GAAMC,CAAAA,KAAK,CAAGD,KAAK,CAACC,KAApB,CAEA,GAAIC,CAAAA,KAAK,CAAGL,SAAS,CAACI,KAAK,CAACE,OAAN,CAAcD,KAAf,CAArB,CACA,GAAIE,CAAAA,QAAQ,CAAGF,KAAK,CAACG,OAAN,CAAc,GAAd,CAAf,CACA,GAAGD,QAAQ,GAAK,CAAC,CAAjB,CAAmB,CACfF,KAAK,CAAI,oBAAC,QAAD,MAAU,gCAAOA,KAAK,CAACI,MAAN,CAAa,CAAb,CAAgBF,QAAhB,CAAP,CAAV,KAAoDF,KAAK,CAACI,MAAN,CAAaF,QAAb,CAAuBF,KAAK,CAACK,MAA7B,CAApD,CAAT,CAEH,CAED,MACI,4BAAK,SAAS,CAAE,mBAAqBP,KAAK,CAACQ,IAA3C,EACI,2BAAK,SAAS,CAAC,sBAAf,EACM,wBAAAP,KAAK,CAACE,OAAN,CAAcM,SAAd,8FAAyBC,OAAzB,wEAAkCC,GAAlC,GAAyC,2BAC3C,GAAG,CAAC,kBADuC,CAE3C,GAAG,yBAAEV,KAAK,CAACE,OAAN,CAAcM,SAAhB,yEAAE,uBAAyBC,OAA3B,iDAAE,uBAAkCC,GAFI,EAD/C,CADJ,CAMI,2BAAK,SAAS,CAAC,wBAAf,EACI,yBAAG,SAAS,CAAC,kBAAb,EACMT,KADN,CADJ,CANJ,CAWI,2BAAK,SAAS,CAAC,iBAAf,EACI,4BAAM,SAAS,CAAC,WAAhB,EACQD,KAAK,CAACW,KAAN,CAAYC,QAAb,CAAyBf,QAAQ,CAACgB,YAAT,CAAsBb,KAAK,CAACW,KAAN,CAAYC,QAAlC,CAAzB,CAAuEf,QAAQ,CAACiB,OAAT,CAAiBd,KAAK,CAACE,OAAN,CAAca,QAA/B,CAD9E,CADJ,CAII,4BAAM,SAAS,CAAC,gBAAhB,EACMlB,QAAQ,CAACiB,OAAT,CAAiBd,KAAK,CAACE,OAAN,CAAca,QAA/B,CADN,CAJJ,CAXJ,CAmBI,2BAAK,SAAS,CAAC,gBAAf,EACI,4BAAM,SAAS,CAAC,mBAAhB,EACMf,KAAK,CAACE,OAAN,CAAcc,GAAd,EAAqBrB,OAAO,CAACK,KAAK,CAACE,OAAN,CAAcc,GAAf,CAAoBhB,KAAK,CAACW,KAAN,CAAYM,KAAhC,CAAP,CAA8CC,OAA9C,CAAsD,CAAtD,CAD3B,CADJ,CAII,4BAAM,SAAS,CAAC,iBAAhB,EACMlB,KAAK,CAACW,KAAN,CAAYM,KAAZ,CAAkBC,OAAlB,CAA0B,CAA1B,EAA+B,GADrC,CAJJ,CAOI,4BAAM,SAAS,CAAC,gBAAhB,EACMlB,KAAK,CAACE,OAAN,CAAcc,GAAd,EAAqBhB,KAAK,CAACE,OAAN,CAAcc,GAAd,CAAkBE,OAAlB,CAA0B,CAA1B,CAD3B,CAPJ,CAnBJ,CADJ,CAiCH,CA3CD,CA6CA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACR,KAAD,CAAQS,QAAR,QAAsB,CAC1CpB,KAAK,CAAG,CACJE,OAAO,CAAGS,KAAK,CAACU,OAAN,CAAcC,OAAd,CAAsBF,QAAQ,CAACb,IAA/B,EAAqCP,KAD3C,CAEJW,KAAK,CAAGA,KAAK,CAACU,OAAN,CAAcC,OAAd,CAAsBF,QAAQ,CAACb,IAA/B,EAAqCgB,aAFzC,CADkC,CAAtB,EAAxB,CASA,cAAe9B,CAAAA,OAAO,CAAC0B,eAAD,CAAP,CAAyBrB,SAAzB,CAAf","sourcesContent":["import React, { Fragment } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport \"./track-info.scss\";\r\nimport track_thumbnail from \"./../../../assets/img/track_thumbnail.png\";\r\n\r\nimport { calcBpm } from \"./../../../utils/bpm/converter.js\";\r\nimport { stripHtml } from \"./../../../utils/html/htmlHelper.js\";\r\nimport { formater } from \"./../../../utils/time/timeFromater\"\r\n\r\nconst TrackInfo = props => {\r\n    const track = props.track;\r\n    \r\n    let title = stripHtml(track.details.title);\r\n    let seprator = title.indexOf(\"-\");\r\n    if(seprator !== -1){\r\n        title = (<Fragment><span>{title.substr(0, seprator)}</span> {title.substr(seprator, title.length)}</Fragment>);\r\n\r\n    }\r\n \r\n    return (\r\n        <div className={\"track-info deck-\" + props.name}>\r\n            <div className=\"track-info-thumbnail\">\r\n                {(track.details.thumbnail?.default?.url && <img \r\n                alt=\"track thumbnails\"\r\n                src={track.details.thumbnail?.default?.url}></img>)}\r\n            </div>\r\n            <div className=\"track-info-description\">\r\n                <p className=\"track-info-title\">\r\n                    { title }\r\n                </p>\r\n            </div>\r\n            <div className=\"track-info-time\">\r\n                <span className=\"time-left\">\r\n                    { ((track.state.timeLeft) ? formater.secondsToStr(track.state.timeLeft) : formater.ytToStr(track.details.duration)) }\r\n                </span>\r\n                <span className=\"track-duration\">\r\n                    { formater.ytToStr(track.details.duration) }\r\n                </span>\r\n            </div>\r\n            <div className=\"track-info-bpm\">\r\n                <span className=\"track-bpm-current\">\r\n                    { track.details.bpm && calcBpm(track.details.bpm, track.state.pitch).toFixed(2) }\r\n                </span>\r\n                <span className=\"tarck-bpm-pitch\">\r\n                    { track.state.pitch.toFixed(2) + \"%\"}\r\n                </span>\r\n                <span className=\"track-bpm-init\">\r\n                    { track.details.bpm && track.details.bpm.toFixed(2) }\r\n                </span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    track : {\r\n        details : state.console.channel[ownProps.name].track,\r\n        state : state.console.channel[ownProps.name].playBackState,\r\n    }\r\n})\r\n\r\n\r\n\r\nexport default connect(mapStateToProps)(TrackInfo);"]},"metadata":{},"sourceType":"module"}