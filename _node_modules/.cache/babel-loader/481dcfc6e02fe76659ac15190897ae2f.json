{"ast":null,"code":"import React from \"react\";\nexport default function useRecordSearchUrl() {\n  const getUrl = (queryStr, opt) => {\n    let params = \"\";\n    const {\n      searchOpt,\n      searchParams\n    } = opt;\n    params = \"?search =\" + queryStr;\n\n    for (let optName in searchOpt) {\n      if (!searchOpt[optName]) {\n        params += 'no-' + optName + ',';\n      }\n    }\n\n    if (params.length > 1) {\n      params = \"?searchOpt=\" + params;\n      params = params.substr(0, params.length - 1);\n    }\n\n    const search = [];\n\n    for (let paramName in searchParams) {\n      const value = searchParams[paramName];\n\n      switch (typeof value) {\n        case \"boolean\":\n          {\n            search.push(paramName + \"=\" + value.toString());\n          }\n\n        case \"string\":\n          {\n            search.push(paramName + '=' + value);\n          }\n\n        case \"object\":\n          {\n            if (value instanceof Array && value.length && value.some(item => item)) {\n              search.push(paramName + \"=\" + value.join(\",\"));\n            }\n          }\n      }\n    }\n\n    if (search) {\n      if (!params) {\n        params += \"?\";\n      }\n\n      params += search.join(\"&\");\n    }\n\n    return '/records/' + params;\n  };\n\n  return [getUrl];\n}","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/pages/common/Hooks/useRecordSearchURL.js"],"names":["React","useRecordSearchUrl","getUrl","queryStr","opt","params","searchOpt","searchParams","optName","length","substr","search","paramName","value","push","toString","Array","some","item","join"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe,SAASC,kBAAT,GAA6B;AACxC,QAAMC,MAAM,GAAG,CAACC,QAAD,EAAWC,GAAX,KAAkB;AAC7B,QAAIC,MAAM,GAAG,EAAb;AACA,UAAM;AAACC,MAAAA,SAAD;AAAYC,MAAAA;AAAZ,QAA4BH,GAAlC;AACAC,IAAAA,MAAM,GAAG,cAAeF,QAAxB;;AAEA,SAAK,IAAIK,OAAT,IAAoBF,SAApB,EAA+B;AAC3B,UAAI,CAACA,SAAS,CAACE,OAAD,CAAd,EAAyB;AACrBH,QAAAA,MAAM,IAAI,QAAQG,OAAR,GAAkB,GAA5B;AACH;AACJ;;AACD,QAAIH,MAAM,CAACI,MAAP,GAAgB,CAApB,EAAuB;AACnBJ,MAAAA,MAAM,GAAG,gBAAgBA,MAAzB;AACAA,MAAAA,MAAM,GAAGA,MAAM,CAACK,MAAP,CAAc,CAAd,EAAiBL,MAAM,CAACI,MAAP,GAAgB,CAAjC,CAAT;AACH;;AAED,UAAME,MAAM,GAAG,EAAf;;AACA,SAAI,IAAIC,SAAR,IAAqBL,YAArB,EAAkC;AAC9B,YAAMM,KAAK,GAAIN,YAAY,CAACK,SAAD,CAA3B;;AACA,cAAO,OAAOC,KAAd;AACI,aAAK,SAAL;AAAgB;AACZF,YAAAA,MAAM,CAACG,IAAP,CAAYF,SAAS,GAAG,GAAZ,GAAkBC,KAAK,CAACE,QAAN,EAA9B;AACH;;AACD,aAAK,QAAL;AAAgB;AACZJ,YAAAA,MAAM,CAACG,IAAP,CAAYF,SAAS,GAAG,GAAZ,GAAkBC,KAA9B;AACH;;AACD,aAAK,QAAL;AAAe;AACX,gBAAGA,KAAK,YAAYG,KAAjB,IAA0BH,KAAK,CAACJ,MAAhC,IAA0CI,KAAK,CAACI,IAAN,CAAYC,IAAI,IAAKA,IAArB,CAA7C,EAAyE;AACrEP,cAAAA,MAAM,CAACG,IAAP,CAAaF,SAAS,GAAG,GAAZ,GAAkBC,KAAK,CAACM,IAAN,CAAW,GAAX,CAA/B;AACH;AACJ;AAXL;AAaH;;AAED,QAAGR,MAAH,EAAU;AACN,UAAG,CAACN,MAAJ,EAAY;AACRA,QAAAA,MAAM,IAAI,GAAV;AACH;;AACDA,MAAAA,MAAM,IAAIM,MAAM,CAACQ,IAAP,CAAY,GAAZ,CAAV;AACH;;AAED,WAAO,cAAcd,MAArB;AACH,GAzCD;;AA2CA,SAAO,CAACH,MAAD,CAAP;AACH","sourcesContent":["import React from \"react\";\r\n\r\nexport default function useRecordSearchUrl(){\r\n    const getUrl = (queryStr, opt) =>{\r\n        let params = \"\";\r\n        const {searchOpt, searchParams} = opt; \r\n        params = \"?search =\"  + queryStr; \r\n\r\n        for (let optName in searchOpt) {\r\n            if (!searchOpt[optName]) {\r\n                params += 'no-' + optName + ',';\r\n            }\r\n        }\r\n        if (params.length > 1) {\r\n            params = \"?searchOpt=\" + params\r\n            params = params.substr(0, params.length - 1)\r\n        }\r\n\r\n        const search = [];\r\n        for(let paramName in searchParams){\r\n            const value =  searchParams[paramName];\r\n            switch(typeof value){\r\n                case \"boolean\": {\r\n                    search.push(paramName + \"=\" + value.toString()) \r\n                }\r\n                case \"string\" : {\r\n                    search.push(paramName + '=' + value)\r\n                }\r\n                case \"object\" :{\r\n                    if(value instanceof Array && value.length && value.some( item => (item))){\r\n                        search.push( paramName + \"=\" + value.join(\",\"));\r\n                    }\r\n                }\r\n            } \r\n        }\r\n        \r\n        if(search){\r\n            if(!params) {\r\n                params += \"?\"\r\n            } \r\n            params += search.join(\"&\")\r\n        }\r\n\r\n        return '/records/' + params;\r\n    }\r\n\r\n    return [getUrl];\r\n}"]},"metadata":{},"sourceType":"module"}