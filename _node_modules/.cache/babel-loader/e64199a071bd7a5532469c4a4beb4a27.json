{"ast":null,"code":"import { formatRelative as DateFormatRelative, toDate } from \"date-fns\";\nimport * as locales from 'date-fns/locale';\nimport { useCallback, useMemo } from \"react\";\nexport function useFormatRelative() {\n  const timezoneOffset = useMemo(() => {\n    return new Date().getTimezoneOffset() * 1000;\n  }, []);\n  const getLocal = useCallback(() => {\n    let lang = \"\";\n\n    if (navigator.languages != undefined) {\n      lang = navigator.languages[0];\n    } else {\n      lang = navigator.language;\n    }\n\n    lang = lang.substr(0, 2);\n    return locales[lang];\n  }, []);\n  const formatRelative = useCallback((timestamp, {\n    timezone,\n    local\n  } = {}) => {\n    const time = timezone ? timestamp - timezoneOffset : timestamp;\n    const opt = local ? {\n      locale: getLocal()\n    } : {};\n    const now = new Date();\n    let formated = \"\";\n\n    try {\n      formated = DateFormatRelative(toDate(time), now, opt);\n    } catch (err) {\n      console.log(\"Can't format time in relative way\");\n    }\n\n    return formated;\n  }, [timezoneOffset, getLocal]);\n  return [formatRelative];\n}","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/pages/common/Hooks/useFormatDate.js"],"names":["formatRelative","DateFormatRelative","toDate","locales","useCallback","useMemo","useFormatRelative","timezoneOffset","Date","getTimezoneOffset","getLocal","lang","navigator","languages","undefined","language","substr","timestamp","timezone","local","time","opt","locale","now","formated","err","console","log"],"mappings":"AAAA,SAASA,cAAc,IAAIC,kBAA3B,EAA+CC,MAA/C,QAA6D,UAA7D;AACA,OAAO,KAAKC,OAAZ,MAAyB,iBAAzB;AACA,SAASC,WAAT,EAAsBC,OAAtB,QAAqC,OAArC;AAEA,OAAO,SAASC,iBAAT,GAA6B;AAEhC,QAAMC,cAAc,GAAGF,OAAO,CAAC,MAAM;AACjC,WAAO,IAAIG,IAAJ,GAAWC,iBAAX,KAAiC,IAAxC;AACH,GAF6B,EAE3B,EAF2B,CAA9B;AAIA,QAAMC,QAAQ,GAAGN,WAAW,CAAC,MAAM;AAC/B,QAAIO,IAAI,GAAG,EAAX;;AAEA,QAAIC,SAAS,CAACC,SAAV,IAAuBC,SAA3B,EAAqC;AACjCH,MAAAA,IAAI,GAAIC,SAAS,CAACC,SAAV,CAAoB,CAApB,CAAR;AACH,KAFD,MAGI;AACAF,MAAAA,IAAI,GAAIC,SAAS,CAACG,QAAlB;AACH;;AAEDJ,IAAAA,IAAI,GAAGA,IAAI,CAACK,MAAL,CAAY,CAAZ,EAAc,CAAd,CAAP;AACA,WAAOb,OAAO,CAACQ,IAAD,CAAd;AACH,GAZ2B,EAYzB,EAZyB,CAA5B;AAcA,QAAMX,cAAc,GAAGI,WAAW,CAAC,CAACa,SAAD,EAAY;AAAEC,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAAsB,EAAlC,KAAyC;AACxE,UAAMC,IAAI,GAAGF,QAAQ,GAAGD,SAAS,GAAGV,cAAf,GAAgCU,SAArD;AACA,UAAMI,GAAG,GAAGF,KAAK,GAAG;AAACG,MAAAA,MAAM,EAAEZ,QAAQ;AAAjB,KAAH,GAA0B,EAA3C;AACA,UAAMa,GAAG,GAAG,IAAIf,IAAJ,EAAZ;AACA,QAAIgB,QAAQ,GAAG,EAAf;;AACA,QAAG;AACCA,MAAAA,QAAQ,GAAGvB,kBAAkB,CAACC,MAAM,CAACkB,IAAD,CAAP,EAAeG,GAAf,EAAqBF,GAArB,CAA7B;AACH,KAFD,CAEE,OAAMI,GAAN,EAAU;AACRC,MAAAA,OAAO,CAACC,GAAR,CAAY,mCAAZ;AACH;;AACD,WAAOH,QAAP;AACH,GAXiC,EAWhC,CAACjB,cAAD,EAAiBG,QAAjB,CAXgC,CAAlC;AAaA,SAAO,CAACV,cAAD,CAAP;AACH","sourcesContent":["import { formatRelative as DateFormatRelative, toDate } from \"date-fns\";\r\nimport * as locales from 'date-fns/locale';\r\nimport { useCallback, useMemo } from \"react\";\r\n\r\nexport function useFormatRelative() {\r\n\r\n    const timezoneOffset = useMemo(() => {\r\n        return new Date().getTimezoneOffset() * 1000;\r\n    }, [])\r\n\r\n    const getLocal = useCallback(() => {\r\n        let lang = \"\";\r\n\r\n        if (navigator.languages != undefined){\r\n            lang =  navigator.languages[0];\r\n        }\r\n        else{\r\n            lang =  navigator.language;\r\n        }\r\n        \r\n        lang = lang.substr(0,2);\r\n        return locales[lang];\r\n    }, [])\r\n\r\n    const formatRelative = useCallback((timestamp, { timezone, local } = {}) => {\r\n        const time = timezone ? timestamp - timezoneOffset : timestamp;\r\n        const opt = local ? {locale: getLocal()} : {};\r\n        const now = new Date();\r\n        let formated = \"\";\r\n        try{\r\n            formated = DateFormatRelative(toDate(time), now , opt);\r\n        } catch(err){\r\n            console.log(\"Can't format time in relative way\")\r\n        }\r\n        return formated;\r\n    },[timezoneOffset, getLocal])\r\n\r\n    return [formatRelative]\r\n}"]},"metadata":{},"sourceType":"module"}