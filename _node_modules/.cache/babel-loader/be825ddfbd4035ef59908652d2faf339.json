{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\src\\\\pages\\\\profile\\\\Profile.js\";\nimport React, { useCallback } from \"react\";\nimport { reqUpdatePicture, reqUpdateDescription, reqUpdateNickname } from \"./../../actions\";\nimport { connect } from \"react-redux\";\nimport { useAuth0 } from \"./../../auth0/react-auth0-spa\";\nimport \"./profile.scss\";\nimport UserProfile from \"../common/components/UserProfile/UserProfile\";\n\nconst Profile = ({\n  nickname,\n  updatePicture,\n  updateNickname,\n  updateDescription\n}) => {\n  const {\n    loading,\n    user\n  } = useAuth0();\n  const profileDataChange = useCallback((type, data) => {\n    switch (type) {\n      case \"picture\":\n        {\n          updatePicture(data);\n          break;\n        }\n\n      case \"nickname\":\n        {\n          updateNickname(data);\n          break;\n        }\n\n      case \"description\":\n        {\n          updateDescription(data);\n          break;\n        }\n    }\n  }, []);\n\n  if (loading || !user) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, \"Loading...\");\n  }\n\n  if (!nickname) {\n    return null;\n  }\n\n  return React.createElement(UserProfile, {\n    nickname: nickname,\n    editable: true,\n    onChange: profileDataChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  });\n};\n\nconst mapStateToProps = state => ({\n  nickname: state.user.nickname\n});\n\nconst mapDispatchToProps = dispatch => ({\n  updatePicture: blob => dispatch(reqUpdatePicture(blob)),\n  updateNickname: nickname => dispatch(reqUpdateNickname(nickname)),\n  updateDescription: description => dispatch(reqUpdateDescription(description))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/pages/profile/Profile.js"],"names":["React","useCallback","reqUpdatePicture","reqUpdateDescription","reqUpdateNickname","connect","useAuth0","UserProfile","Profile","nickname","updatePicture","updateNickname","updateDescription","loading","user","profileDataChange","type","data","mapStateToProps","state","mapDispatchToProps","dispatch","blob","description"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,WAAhB,QAAmC,OAAnC;AACA,SAAQC,gBAAR,EAA0BC,oBAA1B,EAAgDC,iBAAhD,QAAwE,iBAAxE;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAASC,QAAT,QAAyB,+BAAzB;AACA,OAAO,gBAAP;AACA,OAAOC,WAAP,MAAwB,8CAAxB;;AAEA,MAAMC,OAAO,GAAG,CAAC;AACfC,EAAAA,QADe;AAEfC,EAAAA,aAFe;AAGfC,EAAAA,cAHe;AAIfC,EAAAA;AAJe,CAAD,KAKV;AACJ,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA;AAAX,MAAoBR,QAAQ,EAAlC;AAEA,QAAMS,iBAAiB,GAAGd,WAAW,CAAC,CAACe,IAAD,EAAOC,IAAP,KAAc;AAClD,YAAOD,IAAP;AACE,WAAK,SAAL;AAAgB;AACdN,UAAAA,aAAa,CAACO,IAAD,CAAb;AACA;AACD;;AACD,WAAK,UAAL;AAAiB;AACfN,UAAAA,cAAc,CAACM,IAAD,CAAd;AACA;AACD;;AACD,WAAK,aAAL;AAAmB;AACjBL,UAAAA,iBAAiB,CAACK,IAAD,CAAjB;AACA;AACD;AAZH;AAcD,GAfoC,EAenC,EAfmC,CAArC;;AAiBA,MAAIJ,OAAO,IAAI,CAACC,IAAhB,EAAsB;AACpB,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAP;AACD;;AAED,MAAG,CAACL,QAAJ,EAAa;AACX,WAAO,IAAP;AACD;;AAED,SACI,oBAAC,WAAD;AAAa,IAAA,QAAQ,EAAEA,QAAvB;AAAiC,IAAA,QAAQ,MAAzC;AAA0C,IAAA,QAAQ,EAAEM,iBAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ;AAGD,CApCD;;AAqCA,MAAMG,eAAe,GAAGC,KAAK,KAAK;AAChCV,EAAAA,QAAQ,EAAGU,KAAK,CAACL,IAAN,CAAWL;AADU,CAAL,CAA7B;;AAIA,MAAMW,kBAAkB,GAAGC,QAAQ,KAAK;AACtCX,EAAAA,aAAa,EAAIY,IAAD,IAAUD,QAAQ,CAACnB,gBAAgB,CAACoB,IAAD,CAAjB,CADI;AAEtCX,EAAAA,cAAc,EAAIF,QAAD,IAAcY,QAAQ,CAACjB,iBAAiB,CAACK,QAAD,CAAlB,CAFD;AAGtCG,EAAAA,iBAAiB,EAAGW,WAAD,IAAiBF,QAAQ,CAAClB,oBAAoB,CAACoB,WAAD,CAArB;AAHN,CAAL,CAAnC;;AAMA,eAAelB,OAAO,CAACa,eAAD,EAAkBE,kBAAlB,CAAP,CAA6CZ,OAA7C,CAAf","sourcesContent":["import React, { useCallback } from \"react\";\r\nimport {reqUpdatePicture, reqUpdateDescription, reqUpdateNickname} from \"./../../actions\";\r\nimport {connect} from \"react-redux\";\r\nimport { useAuth0 } from \"./../../auth0/react-auth0-spa\";\r\nimport \"./profile.scss\"\r\nimport UserProfile from \"../common/components/UserProfile/UserProfile\";\r\n\r\nconst Profile = ({\r\n  nickname,\r\n  updatePicture,\r\n  updateNickname,\r\n  updateDescription,\r\n}) => {\r\n  const { loading, user } = useAuth0();\r\n\r\n  const profileDataChange = useCallback((type, data)=>{\r\n    switch(type){\r\n      case \"picture\": {\r\n        updatePicture(data);\r\n        break;\r\n      }\r\n      case \"nickname\": {\r\n        updateNickname(data);\r\n        break;\r\n      }\r\n      case \"description\":{\r\n        updateDescription(data);\r\n        break;\r\n      }\r\n    }\r\n  },[])\r\n\r\n  if (loading || !user) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  if(!nickname){\r\n    return null;\r\n  }\r\n\r\n  return (\r\n      <UserProfile nickname={nickname} editable onChange={profileDataChange}/>\r\n  );\r\n};\r\nconst mapStateToProps = state => ({\r\n  nickname : state.user.nickname,\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  updatePicture : (blob) => dispatch(reqUpdatePicture(blob)),\r\n  updateNickname : (nickname) => dispatch(reqUpdateNickname(nickname)),\r\n  updateDescription: (description) => dispatch(reqUpdateDescription(description))\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);"]},"metadata":{},"sourceType":"module"}