{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\src\\\\pages\\\\common\\\\Hooks\\\\useEmoticons.js\";\nimport React, { useMemo, useCallback, useRef, useState } from 'react';\nimport { Button } from \"react-bootstrap\";\nimport Emoticons from \"./../../common/components/Emoticons/Emoticons\";\nexport default function () {\n  const toggleRef = useRef();\n  const textarea = useRef();\n  const onSelectIcon = useCallback((icon, event) => {\n    event.preventDefault();\n    toggleRef.current();\n    let control = textarea.current;\n    if (!control) return;\n    const before = control.value.substring(0, control.selectionStart);\n    const after = control.value.substring(control.selectionEnd, control.value.length);\n    control.value = before + icon + after;\n    const cursorPosition = before.length + icon.length;\n    control.focus();\n    control.setSelectionRange(cursorPosition, cursorPosition);\n  }, []);\n  const component = useMemo(() => () => React.createElement(\"div\", {\n    className: \"emoticon\",\n    style: {\n      position: 'relative',\n      display: 'inline-block',\n      zIndex: '5000'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, React.createElement(Button, {\n    onClick: () => toggleRef.current(),\n    className: \"emoticon-btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, \"\\uD83D\\uDE00\"), React.createElement(Emoticons, {\n    toggle: toggleRef,\n    onSelect: onSelectIcon,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  })), [toggleRef]);\n  return [textarea, component];\n}","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/pages/common/Hooks/useEmoticons.js"],"names":["React","useMemo","useCallback","useRef","useState","Button","Emoticons","toggleRef","textarea","onSelectIcon","icon","event","preventDefault","current","control","before","value","substring","selectionStart","after","selectionEnd","length","cursorPosition","focus","setSelectionRange","component","position","display","zIndex"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,OAAhB,EAA0BC,WAA1B,EAAuCC,MAAvC,EAA+CC,QAA/C,QAA8D,OAA9D;AACA,SAAQC,MAAR,QAAqB,iBAArB;AACA,OAAOC,SAAP,MAAsB,+CAAtB;AAEA,eAAe,YAAU;AACrB,QAAMC,SAAS,GAAGJ,MAAM,EAAxB;AACA,QAAMK,QAAQ,GAAGL,MAAM,EAAvB;AAEA,QAAMM,YAAY,GAAGP,WAAW,CAAC,CAACQ,IAAD,EAAOC,KAAP,KAAiB;AAC9CA,IAAAA,KAAK,CAACC,cAAN;AACAL,IAAAA,SAAS,CAACM,OAAV;AACA,QAAIC,OAAO,GAAGN,QAAQ,CAACK,OAAvB;AACA,QAAG,CAACC,OAAJ,EAAa;AAEb,UAAMC,MAAM,GAAGD,OAAO,CAACE,KAAR,CAAcC,SAAd,CAAwB,CAAxB,EAA2BH,OAAO,CAACI,cAAnC,CAAf;AACA,UAAMC,KAAK,GAAGL,OAAO,CAACE,KAAR,CAAcC,SAAd,CAAwBH,OAAO,CAACM,YAAhC,EAA8CN,OAAO,CAACE,KAAR,CAAcK,MAA5D,CAAd;AAEAP,IAAAA,OAAO,CAACE,KAAR,GAAgBD,MAAM,GAAGL,IAAT,GAAgBS,KAAhC;AAEA,UAAMG,cAAc,GAAGP,MAAM,CAACM,MAAP,GAAgBX,IAAI,CAACW,MAA5C;AACAP,IAAAA,OAAO,CAACS,KAAR;AACAT,IAAAA,OAAO,CAACU,iBAAR,CAA0BF,cAA1B,EAA0CA,cAA1C;AACH,GAd+B,EAc7B,EAd6B,CAAhC;AAiBA,QAAMG,SAAS,GAAGxB,OAAO,CAAC,MAAM,MACpB;AAAK,IAAA,SAAS,EAAC,UAAf;AAA0B,IAAA,KAAK,EAAE;AAACyB,MAAAA,QAAQ,EAAE,UAAX;AAAuBC,MAAAA,OAAO,EAAC,cAA/B;AAAgDC,MAAAA,MAAM,EAAC;AAAvD,KAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,MAAD;AAAS,IAAA,OAAO,EAAG,MAAMrB,SAAS,CAACM,OAAV,EAAzB;AAA+C,IAAA,SAAS,EAAC,cAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,EAEI,oBAAC,SAAD;AAAW,IAAA,MAAM,EAAEN,SAAnB;AAA8B,IAAA,QAAQ,EAAEE,YAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADa,EAKvB,CAACF,SAAD,CALuB,CAAzB;AAUA,SAAO,CAACC,QAAD,EAAWiB,SAAX,CAAP;AACH","sourcesContent":["import React, { useMemo , useCallback, useRef, useState} from 'react';\r\nimport {Button} from \"react-bootstrap\";\r\nimport Emoticons from \"./../../common/components/Emoticons/Emoticons\";\r\n\r\nexport default function(){\r\n    const toggleRef = useRef();\r\n    const textarea = useRef();\r\n\r\n    const onSelectIcon = useCallback((icon, event) => {\r\n        event.preventDefault();\r\n        toggleRef.current();\r\n        let control = textarea.current;\r\n        if(!control) return;\r\n\r\n        const before = control.value.substring(0, control.selectionStart);\r\n        const after = control.value.substring(control.selectionEnd, control.value.length);\r\n\r\n        control.value = before + icon + after;\r\n  \r\n        const cursorPosition = before.length + icon.length;\r\n        control.focus();\r\n        control.setSelectionRange(cursorPosition, cursorPosition)\r\n    }, [])\r\n\r\n\r\n    const component = useMemo(() => () => (\r\n                <div className=\"emoticon\" style={{position: 'relative', display:'inline-block',  zIndex:'5000'}}>\r\n                    <Button  onClick={ () => toggleRef.current() } className='emoticon-btn'>ðŸ˜€</Button>\r\n                    <Emoticons toggle={toggleRef} onSelect={onSelectIcon}/>\r\n                </div>)\r\n    , [toggleRef])\r\n\r\n\r\n\r\n\r\n    return [textarea, component]\r\n}"]},"metadata":{},"sourceType":"module"}