{"ast":null,"code":"import _classCallCheck from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";export var LOG_TYPES={LOG:\"Generic log, for login user action\",DEBUG:\"log for debugging purposes\",WARNING:\"log for inform about violation data\",ERROR:\"log contains error information\"};export var Log=/*#__PURE__*/function(){function Log(priv,path){_classCallCheck(this,Log);return Log.Create(LOG_TYPES.LOG,path,priv);}_createClass(Log,null,[{key:\"Create\",value:function Create(type,path,priv,pub,error){if(!type){type=LOG_TYPES.LOG;}return{type:type,path:path,message:{private:priv,public:pub},error:error};}},{key:\"Error\",value:function(_Error){function Error(){return _Error.apply(this,arguments);}Error.toString=function(){return _Error.toString();};return Error;}(function(){//case 1 - private message\n//case 2 - path , private message \n//      or private message, error object\n//case 3 - path, private message , error object \n//      or path, private message , public message\n//case 4 - path,  private message, public message, error object\nvar path,priv,pub,error;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}switch(args.length){case 1:{if([args[0]instanceof String]){priv=args[0];break;}else if(typeof args[0]===\"object\"){var _args$=args[0];path=_args$.path;priv=_args$.priv;pub=_args$.public;error=_args$.error;}}case 2:{if(args[0]instanceof Array){path=args[0];priv=args[1];}else if(args[1]instanceof Error){priv=args[0];error=args[1];}break;}case 3:{var third;path=args[0];priv=args[1];third=args[2];third instanceof Error?error=third:pub=third;break;}case 4:{path=args[0];priv=args[1];pub=args[2];error=args[3];break;}}return Log.Create(LOG_TYPES.ERROR,path,priv,pub,error);})},{key:\"Debug\",value:function Debug(path,priv){if(process.env.NODE_ENV.startsWith('dev')){console.group();console.log(path)(priv instanceof Array)?console.table(priv):console.log(priv);console.trace();console.groupEnd();}return Log.Create(LOG_TYPES.DEBUG,path,priv);}},{key:\"Warning\",value:function Warning(pub){return Log.Create(LOG_TYPES.WARNING,null,pub,pub);}}]);return Log;}();export var Logger=/*#__PURE__*/function(){function Logger(store,actions){_classCallCheck(this,Logger);this.store=store;this.actions=actions;if(!Logger.instance){Logger.instance=this;}return Logger.instance;}_createClass(Logger,null,[{key:\"push\",value:function push(log){var logger=Logger.instance;if(!logger.store||!logger.actions||!logger.actions.push){throw new Error(\"Logger not configured\");}logger.store.dispatch(logger.actions.push(log));}}]);return Logger;}();","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/utils/logger/logger.js"],"names":["LOG_TYPES","LOG","DEBUG","WARNING","ERROR","Log","priv","path","Create","type","pub","error","message","private","public","args","length","String","Array","Error","third","process","env","NODE_ENV","startsWith","console","group","log","table","trace","groupEnd","Logger","store","actions","instance","logger","push","dispatch"],"mappings":"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","sourcesContent":["export const LOG_TYPES = {\r\n    LOG: \"Generic log, for login user action\",\r\n    DEBUG: \"log for debugging purposes\",\r\n    WARNING: \"log for inform about violation data\",\r\n    ERROR: \"log contains error information\"\r\n}\r\n\r\n\r\nexport class Log{\r\n    constructor(priv, path){\r\n        return Log.Create(LOG_TYPES.LOG, path, priv)\r\n    }\r\n\r\n    static Create(type, path, priv, pub, error){\r\n        if(!type){\r\n            type = LOG_TYPES.LOG; \r\n        }\r\n        return {\r\n            type,\r\n            path,\r\n            message:{\r\n                private: priv,\r\n                public: pub,\r\n            },\r\n            error\r\n        }\r\n    }\r\n\r\n    static Error(...args){\r\n        //case 1 - private message\r\n        \r\n        //case 2 - path , private message \r\n        //      or private message, error object\r\n\r\n        //case 3 - path, private message , error object \r\n        //      or path, private message , public message\r\n\r\n        //case 4 - path,  private message, public message, error object\r\n\r\n        let path, priv, pub, error; \r\n\r\n        switch(args.length){\r\n            case 1 : {\r\n                if([args[0] instanceof String]){\r\n                    [priv] = args;\r\n                    break;\r\n                } else if(typeof args[0] === \"object\"){\r\n                    ({path, priv, public: pub, error} = args[0])\r\n                }\r\n                \r\n            }\r\n            case 2: {\r\n                if(args[0] instanceof Array){\r\n                    [path, priv] = args;\r\n                } else if(args[1] instanceof Error){\r\n                    [priv, error] = args;\r\n                }\r\n                break;\r\n            }\r\n            case 3: {\r\n                let third;\r\n                [path , priv, third] = args;\r\n\r\n                (third instanceof Error) ?\r\n                    error = third :\r\n                    pub = third;\r\n                \r\n                break;\r\n            }\r\n            case 4: {\r\n                [path, priv, pub, error] = args;\r\n                break;\r\n            }\r\n        }\r\n\r\n        return Log.Create(LOG_TYPES.ERROR, path, priv, pub, error)\r\n    }\r\n\r\n    static Debug(path, priv){\r\n        if(process.env.NODE_ENV.startsWith('dev')){\r\n            console.group()\r\n            console.log(path)\r\n            (priv instanceof Array) ? console.table(priv) : console.log(priv);\r\n            console.trace();\r\n            console.groupEnd();\r\n        }\r\n        return Log.Create(LOG_TYPES.DEBUG, path, priv)\r\n    }\r\n\r\n    static Warning(pub){\r\n        return Log.Create(LOG_TYPES.WARNING, null, pub, pub);\r\n    }\r\n}\r\n\r\nexport class Logger{\r\n\r\n    static instance;\r\n    constructor(store, actions){\r\n        this.store = store;\r\n        this.actions = actions;\r\n\r\n        if(!Logger.instance){\r\n            Logger.instance = this;\r\n        }\r\n        return Logger.instance;\r\n    }  \r\n\r\n    static push(log){\r\n        const logger = Logger.instance;\r\n        if(!logger.store || !logger.actions || !logger.actions.push){\r\n            throw new Error(\"Logger not configured\");\r\n        }\r\n        logger.store.dispatch(\r\n            logger.actions.push(log)\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}