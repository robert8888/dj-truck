{"ast":null,"code":"import _slicedToArray from\"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Col,Container,Row}from\"react-bootstrap\";import PlaybackButton from\"./PlaybackButton/PlaybackButton\";import\"./player-controls.scss\";import ProgressSlider from\"./ProgressSlider/ProgressSlider\";import RecordDetails from\"./RecordDetails/RecordDetails\";import Volume from\"./Volume/Volume\";var PlayerControls=function PlayerControls(_ref){var controls=_ref.controls,player=_ref.player,list=_ref.list;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),currentRecord=_useState2[0],setCurrentRecrod=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),currentRecordDetails=_useState4[0],setCurrentRecrodDails=_useState4[1];useEffect(function(){if(!player){return;}player.subscribeCurrent(setCurrentRecrod);return function(){player.unSubscribeCurrent(setCurrentRecrod);};},[player,setCurrentRecrod]);useEffect(function(){if(!list){return;}var currentId=currentRecord===null||currentRecord===void 0?void 0:currentRecord.id;if(!currentId){currentId=player.getCurrent().id;}var itemList=list instanceof Array?list:[list];var current=itemList.find(function(item){return item.id===currentId||(item===null||item===void 0?void 0:item.sourceId)===currentId;});if(!current)return;setCurrentRecrodDails(current);},[player,list,currentRecord,setCurrentRecrodDails]);return React.createElement(\"div\",{className:\"record-player-controls_container\"},React.createElement(Container,null,React.createElement(Row,null,React.createElement(Col,null,React.createElement(\"div\",{className:\"record-player-controls\"},React.createElement(PlaybackButton,{playback:controls.playback,player:player}),React.createElement(ProgressSlider,{seek:controls.seek,player:player}),React.createElement(Volume,{setVolume:controls.setVolume}),React.createElement(RecordDetails,currentRecordDetails))))));};export default PlayerControls;","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/pages/common/components/PlayerControls/PlayerControls.js"],"names":["React","useEffect","useState","Col","Container","Row","PlaybackButton","ProgressSlider","RecordDetails","Volume","PlayerControls","controls","player","list","currentRecord","setCurrentRecrod","currentRecordDetails","setCurrentRecrodDails","subscribeCurrent","unSubscribeCurrent","currentId","id","getCurrent","itemList","Array","current","find","item","sourceId","playback","seek","setVolume"],"mappings":"kHAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,GAAT,CAAcC,SAAd,CAAyBC,GAAzB,KAAoC,iBAApC,CACA,MAAOC,CAAAA,cAAP,KAA2B,iCAA3B,CACA,MAAO,wBAAP,CACA,MAAOC,CAAAA,cAAP,KAA2B,iCAA3B,CACA,MAAOC,CAAAA,aAAP,KAA0B,+BAA1B,CACA,MAAOC,CAAAA,MAAP,KAAmB,iBAAnB,CAGA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,MAA+B,IAA7BC,CAAAA,QAA6B,MAA7BA,QAA6B,CAAnBC,MAAmB,MAAnBA,MAAmB,CAAVC,IAAU,MAAVA,IAAU,eACPX,QAAQ,CAAC,IAAD,CADD,wCAC3CY,aAD2C,eAC3BC,gBAD2B,8BAEIb,QAAQ,CAAC,IAAD,CAFZ,yCAE3Cc,oBAF2C,eAErBC,qBAFqB,eAIlDhB,SAAS,CAAC,UAAM,CACZ,GAAG,CAACW,MAAJ,CAAW,CACP,OACH,CACDA,MAAM,CAACM,gBAAP,CAAwBH,gBAAxB,EAEA,MAAO,WAAI,CACPH,MAAM,CAACO,kBAAP,CAA0BJ,gBAA1B,EACH,CAFD,CAGH,CATQ,CASN,CAACH,MAAD,CAASG,gBAAT,CATM,CAAT,CAWAd,SAAS,CAAC,UAAI,CACV,GAAG,CAACY,IAAJ,CAAU,CAAC,OAAS,CACpB,GAAIO,CAAAA,SAAS,CAAGN,aAAH,SAAGA,aAAH,iBAAGA,aAAa,CAAEO,EAA/B,CAEA,GAAG,CAACD,SAAJ,CAAc,CACVA,SAAS,CAAGR,MAAM,CAACU,UAAP,GAAoBD,EAAhC,CACH,CAED,GAAME,CAAAA,QAAQ,CAAIV,IAAI,WAAYW,CAAAA,KAAjB,CAA0BX,IAA1B,CAAiC,CAACA,IAAD,CAAlD,CAEA,GAAMY,CAAAA,OAAO,CAAGF,QAAQ,CAACG,IAAT,CAAe,SAAAC,IAAI,QAAKA,CAAAA,IAAI,CAACN,EAAL,GAAYD,SAAZ,EAAyB,CAAAO,IAAI,OAAJ,EAAAA,IAAI,SAAJ,QAAAA,IAAI,CAAEC,QAAN,IAAmBR,SAAjD,EAAnB,CAAhB,CAEA,GAAG,CAACK,OAAJ,CAAa,OAEbR,qBAAqB,CAACQ,OAAD,CAArB,CAEH,CAhBQ,CAgBN,CAACb,MAAD,CAASC,IAAT,CAAeC,aAAf,CAA8BG,qBAA9B,CAhBM,CAAT,CAkBA,MACI,4BAAK,SAAS,CAAC,kCAAf,EACI,oBAAC,SAAD,MACI,oBAAC,GAAD,MACI,oBAAC,GAAD,MACI,2BAAK,SAAS,CAAC,wBAAf,EACI,oBAAC,cAAD,EAAgB,QAAQ,CAAEN,QAAQ,CAACkB,QAAnC,CAA6C,MAAM,CAAEjB,MAArD,EADJ,CAEI,oBAAC,cAAD,EAAgB,IAAI,CAAED,QAAQ,CAACmB,IAA/B,CAAqC,MAAM,CAAElB,MAA7C,EAFJ,CAGI,oBAAC,MAAD,EAAQ,SAAS,CAAID,QAAQ,CAACoB,SAA9B,EAHJ,CAII,oBAAC,aAAD,CAAmBf,oBAAnB,CAJJ,CADJ,CADJ,CADJ,CADJ,CADJ,CAiBH,CAlDD,CAoDA,cAAeN,CAAAA,cAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Col, Container, Row } from \"react-bootstrap\";\r\nimport PlaybackButton from \"./PlaybackButton/PlaybackButton\";\r\nimport \"./player-controls.scss\";\r\nimport ProgressSlider from \"./ProgressSlider/ProgressSlider\";\r\nimport RecordDetails from \"./RecordDetails/RecordDetails\";\r\nimport Volume from \"./Volume/Volume\";\r\n\r\n\r\nconst PlayerControls = ({controls, player,  list}) => {\r\n    const [currentRecord , setCurrentRecrod] = useState(null);\r\n    const [currentRecordDetails, setCurrentRecrodDails] = useState(null);\r\n\r\n    useEffect(() => {\r\n        if(!player){\r\n            return;\r\n        }\r\n        player.subscribeCurrent(setCurrentRecrod);\r\n\r\n        return ()=>{\r\n            player.unSubscribeCurrent(setCurrentRecrod)\r\n        }\r\n    }, [player, setCurrentRecrod])\r\n\r\n    useEffect(()=>{\r\n        if(!list) {return; }\r\n        let currentId = currentRecord?.id;\r\n        \r\n        if(!currentId){\r\n            currentId = player.getCurrent().id;\r\n        }\r\n\r\n        const itemList = (list instanceof Array) ? list : [list];\r\n\r\n        const current = itemList.find( item => (item.id === currentId || item?.sourceId === currentId))\r\n       \r\n        if(!current) return; \r\n        \r\n        setCurrentRecrodDails(current)\r\n        \r\n    }, [player, list, currentRecord, setCurrentRecrodDails])\r\n\r\n    return (\r\n        <div className=\"record-player-controls_container\">\r\n            <Container>\r\n                <Row>\r\n                    <Col>\r\n                        <div className=\"record-player-controls\">\r\n                            <PlaybackButton playback={controls.playback} player={player}/>\r\n                            <ProgressSlider seek={controls.seek} player={player} />\r\n                            <Volume setVolume = {controls.setVolume}/>\r\n                            <RecordDetails {...currentRecordDetails}/>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PlayerControls;"]},"metadata":{},"sourceType":"module"}