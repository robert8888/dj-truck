{"ast":null,"code":"import { put, call } from 'redux-saga/effects';\nimport { getApi } from \"./../apis/apiProvider\";\nimport { calcAccurateBpmAndOffset } from './../utils/bpm/analyzer';\nimport { setBpmAndOffset } from '../actions';\nexport default function* calcBpmAsync(action) {\n  console.log(action);\n  const source = action.track.source;\n  const id = action.track.id;\n  const api = getApi(source);\n  const url = api.getUrl(id);\n  console.log(action);\n  let {\n    offset,\n    bpm\n  } = yield call(calcAccurateBpmAndOffset, url);\n  yield put(setBpmAndOffset(action.track._id, action.playlist, bpm, offset));\n}","map":{"version":3,"sources":["D:/PROJEKTY/APKI/DjTruck/djtruck/src/sagas/calcBpmSaga.js"],"names":["put","call","getApi","calcAccurateBpmAndOffset","setBpmAndOffset","calcBpmAsync","action","console","log","source","track","id","api","url","getUrl","offset","bpm","_id","playlist"],"mappings":"AACA,SAASA,GAAT,EAAeC,IAAf,QAA0B,oBAA1B;AAEA,SAAQC,MAAR,QAAqB,uBAArB;AACA,SAAQC,wBAAR,QAAuC,yBAAvC;AACA,SAAUC,eAAV,QAAiC,YAAjC;AAGA,eAAe,UAAUC,YAAV,CAAuBC,MAAvB,EAA8B;AACzCC,EAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACA,QAAMG,MAAM,GAAGH,MAAM,CAACI,KAAP,CAAaD,MAA5B;AACA,QAAME,EAAE,GAAGL,MAAM,CAACI,KAAP,CAAaC,EAAxB;AAEA,QAAMC,GAAG,GAAGV,MAAM,CAACO,MAAD,CAAlB;AACA,QAAMI,GAAG,GAAGD,GAAG,CAACE,MAAJ,CAAWH,EAAX,CAAZ;AAEAJ,EAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AAEA,MAAI;AAAES,IAAAA,MAAF;AAAUC,IAAAA;AAAV,MAAkB,MAAMf,IAAI,CAAEE,wBAAF,EAA4BU,GAA5B,CAAhC;AACA,QAAMb,GAAG,CAACI,eAAe,CAACE,MAAM,CAACI,KAAP,CAAaO,GAAd,EAAmBX,MAAM,CAACY,QAA1B,EAAoCF,GAApC,EAAyCD,MAAzC,CAAhB,CAAT;AAEH","sourcesContent":["\r\nimport { put , call} from 'redux-saga/effects';\r\n\r\nimport {getApi} from \"./../apis/apiProvider\";\r\nimport {calcAccurateBpmAndOffset} from './../utils/bpm/analyzer';\r\nimport {  setBpmAndOffset } from '../actions';\r\n\r\n\r\nexport default function* calcBpmAsync(action){\r\n    console.log(action)\r\n    const source = action.track.source;\r\n    const id = action.track.id;\r\n\r\n    const api = getApi(source);\r\n    const url = api.getUrl(id);\r\n\r\n    console.log(action)\r\n\r\n    let { offset, bpm } = yield call( calcAccurateBpmAndOffset, url);\r\n    yield put(setBpmAndOffset(action.track._id, action.playlist, bpm, offset))\r\n\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}