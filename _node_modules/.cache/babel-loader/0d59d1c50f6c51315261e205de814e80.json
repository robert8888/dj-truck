{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\src\\\\pages\\\\common\\\\components\\\\RecordTracklist\\\\RecordTracklist.js\";\nimport React, { useEffect, useState, useMemo, useCallback } from \"react\";\nimport { connect } from \"react-redux\";\nimport Tracklist from \"./../TrackTable/TrackTable\";\nimport { formater } from \"./../../../../utils/time/timeFromater\";\nimport \"./record-track-list.scss\";\n\nconst RecordTracklist = ({\n  record,\n  onSeek\n}) => {\n  const [tracklist, setTracklist] = useState(null);\n  const cols = useMemo(() => ({\n    \"#\": {\n      map: \"index\"\n    },\n    // \"Source\": \"source\",\n    \"Title\": {\n      map: \"title\",\n      class: 'overflow'\n    },\n    \"Start\": {\n      map: \"start\"\n    },\n    \"End\": {\n      map: \"end\"\n    }\n  }), []);\n  useEffect(() => {\n    if (!record) return;\n    setTracklist(record.tracks.map(item => ({\n      start: formater.secondsToStr(item.start),\n      _start: item.start,\n      end: formater.secondsToStr(item.end),\n      _end: item.end,\n      id: item.track.id,\n      title: item.track.title,\n      source: item.track.source,\n      sourceId: item.track.sourceId\n    })));\n  }, [record, setTracklist]);\n  const onClickTrack = useCallback((index, id) => {\n    if (!onSeek || !tracklist) return;\n\n    const start = tracklist.find(track => track.id === id)._start;\n  }, [onSeek, tracklist]);\n  return React.createElement(Tracklist, {\n    className: \"record-track-list\",\n    cols: cols,\n    items: tracklist,\n    onClickRow: onClickTrack,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  });\n};\n\nconst mapStateToProps = state => ({\n  record: state.records.currentRecord\n});\n\nexport default connect(mapStateToProps)(RecordTracklist);","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/pages/common/components/RecordTracklist/RecordTracklist.js"],"names":["React","useEffect","useState","useMemo","useCallback","connect","Tracklist","formater","RecordTracklist","record","onSeek","tracklist","setTracklist","cols","map","class","tracks","item","start","secondsToStr","_start","end","_end","id","track","title","source","sourceId","onClickTrack","index","find","mapStateToProps","state","records","currentRecord"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,OAArC,EAA8CC,WAA9C,QAAiE,OAAjE;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,SAAP,MAAsB,4BAAtB;AACA,SAASC,QAAT,QAAyB,uCAAzB;AACA,OAAO,0BAAP;;AAEA,MAAMC,eAAe,GAAG,CAAC;AAAEC,EAAAA,MAAF;AAAWC,EAAAA;AAAX,CAAD,KAAwB;AAC5C,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BV,QAAQ,CAAC,IAAD,CAA1C;AAEA,QAAMW,IAAI,GAAGV,OAAO,CAAC,OAAO;AACxB,SAAK;AAAEW,MAAAA,GAAG,EAAE;AAAP,KADmB;AAExB;AACA,aAAS;AAAEA,MAAAA,GAAG,EAAE,OAAP;AAAkBC,MAAAA,KAAK,EAAE;AAAzB,KAHe;AAIxB,aAAS;AAAED,MAAAA,GAAG,EAAE;AAAP,KAJe;AAKxB,WAAO;AAAEA,MAAAA,GAAG,EAAE;AAAP;AALiB,GAAP,CAAD,EAMhB,EANgB,CAApB;AAQAb,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAI,CAACQ,MAAL,EAAa;AACbG,IAAAA,YAAY,CAACH,MAAM,CAACO,MAAP,CAAcF,GAAd,CAAkBG,IAAI,KAAK;AACpCC,MAAAA,KAAK,EAAEX,QAAQ,CAACY,YAAT,CAAsBF,IAAI,CAACC,KAA3B,CAD6B;AAEpCE,MAAAA,MAAM,EAAGH,IAAI,CAACC,KAFsB;AAGpCG,MAAAA,GAAG,EAAEd,QAAQ,CAACY,YAAT,CAAsBF,IAAI,CAACI,GAA3B,CAH+B;AAIpCC,MAAAA,IAAI,EAAEL,IAAI,CAACI,GAJyB;AAKpCE,MAAAA,EAAE,EAAEN,IAAI,CAACO,KAAL,CAAWD,EALqB;AAMpCE,MAAAA,KAAK,EAAER,IAAI,CAACO,KAAL,CAAWC,KANkB;AAOpCC,MAAAA,MAAM,EAAET,IAAI,CAACO,KAAL,CAAWE,MAPiB;AAQpCC,MAAAA,QAAQ,EAAEV,IAAI,CAACO,KAAL,CAAWG;AARe,KAAL,CAAtB,CAAD,CAAZ;AAUH,GAZQ,EAYN,CAAClB,MAAD,EAASG,YAAT,CAZM,CAAT;AAcA,QAAMgB,YAAY,GAAGxB,WAAW,CAAC,CAACyB,KAAD,EAAQN,EAAR,KAAa;AAC1C,QAAG,CAACb,MAAD,IAAW,CAACC,SAAf,EAA0B;;AAC1B,UAAMO,KAAK,GAAGP,SAAS,CAACmB,IAAV,CAAeN,KAAK,IAAIA,KAAK,CAACD,EAAN,KAAaA,EAArC,EAAyCH,MAAvD;AAEH,GAJ+B,EAI7B,CAACV,MAAD,EAASC,SAAT,CAJ6B,CAAhC;AAMA,SACI,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAC,mBAArB;AACI,IAAA,IAAI,EAAEE,IADV;AAEI,IAAA,KAAK,EAAEF,SAFX;AAGI,IAAA,UAAU,EAAEiB,YAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ;AAOH,CAtCD;;AAwCA,MAAMG,eAAe,GAAGC,KAAK,KAAK;AAC9BvB,EAAAA,MAAM,EAAEuB,KAAK,CAACC,OAAN,CAAcC;AADQ,CAAL,CAA7B;;AAIA,eAAe7B,OAAO,CAAC0B,eAAD,CAAP,CAAyBvB,eAAzB,CAAf","sourcesContent":["import React, { useEffect, useState, useMemo, useCallback } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Tracklist from \"./../TrackTable/TrackTable\";\r\nimport { formater } from \"./../../../../utils/time/timeFromater\";\r\nimport \"./record-track-list.scss\";\r\n\r\nconst RecordTracklist = ({ record , onSeek}) => {\r\n    const [tracklist, setTracklist] = useState(null);\r\n\r\n    const cols = useMemo(() => ({\r\n        \"#\": { map: \"index\" },\r\n        // \"Source\": \"source\",\r\n        \"Title\": { map: \"title\"  , class: 'overflow'},\r\n        \"Start\": { map: \"start\" },\r\n        \"End\": { map: \"end\" }\r\n    }), []);\r\n\r\n    useEffect(() => {\r\n        if (!record) return;\r\n        setTracklist(record.tracks.map(item => ({\r\n            start: formater.secondsToStr(item.start),\r\n            _start : item.start,\r\n            end: formater.secondsToStr(item.end),\r\n            _end: item.end,\r\n            id: item.track.id,\r\n            title: item.track.title,\r\n            source: item.track.source,\r\n            sourceId: item.track.sourceId,\r\n        })))\r\n    }, [record, setTracklist])\r\n\r\n    const onClickTrack = useCallback((index, id)=>{\r\n        if(!onSeek || !tracklist) return;\r\n        const start = tracklist.find(track => track.id === id)._start;\r\n      \r\n    }, [onSeek, tracklist])\r\n\r\n    return (\r\n        <Tracklist className=\"record-track-list\"\r\n            cols={cols}\r\n            items={tracklist}\r\n            onClickRow={onClickTrack}\r\n        />\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    record: state.records.currentRecord,\r\n})\r\n\r\nexport default connect(mapStateToProps)(RecordTracklist);"]},"metadata":{},"sourceType":"module"}