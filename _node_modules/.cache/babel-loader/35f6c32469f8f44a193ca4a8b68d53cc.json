{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\src\\\\pages\\\\common\\\\components\\\\ExternalSearch\\\\Search.js\";\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { Dropdown, DropdownButton, FormControl } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport { clearSearch, searchInput, searchStart } from \"../../../../actions\";\nimport { API_TYPES, getApisName } from \"./../../../../apis/apiProvider\";\nimport \"./search.scss\";\nimport SearchList from './SerachList/SearchList.js';\n\nconst Search = ({\n  clearSearchHandler,\n  searchStartHandler,\n  searchInputHandler,\n  searchString\n}) => {\n  const [listOpen, setListOpen] = useState(false);\n  const [source, setSource] = useState(null);\n  const [apiDropdownList, setApiList] = useState(null);\n  const [maxResults, setMaxResults] = useState(10);\n\n  const openList = () => setListOpen(true);\n\n  const selectedHandel = () => {\n    clearSearchHandler();\n    setListOpen(false);\n  };\n\n  useEffect(() => {\n    setApiList(getApisName(API_TYPES.MIUSIC_SOURCE).map(api => {\n      return React.createElement(Dropdown.Item, {\n        key: api,\n        onClick: setSource.bind(null, api),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, \"  \", api, \" \");\n    }));\n  }, [setApiList, setSource]);\n  const controlKeyPress = useCallback(() => {}, []);\n  return React.createElement(\"div\", {\n    className: \"search\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"search-controls\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(DropdownButton, {\n    className: \"btn-api-select\",\n    title: source ? source : getApisName(API_TYPES.MIUSIC_SOURCE, {\n      default: true\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, apiDropdownList), React.createElement(FormControl, {\n    className: \"search-control\",\n    type: \"text\",\n    placeholder: \"Tap in to serach on youtube\",\n    onChange: event => searchInputHandler(event.target.value),\n    onKeyPress: event => {\n      if (event.key === \"Enter\") {\n        searchStartHandler(searchString);\n      }\n    },\n    onFocus: openList,\n    value: searchString,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }), React.createElement(DropdownButton, {\n    className: \"btn-max-result-select\",\n    title: maxResults,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(Dropdown.Item, {\n    onClick: () => setMaxResults(10),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \" 10 \"), React.createElement(Dropdown.Item, {\n    onClick: () => setMaxResults(25),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \" 25 \"), React.createElement(Dropdown.Item, {\n    onClick: () => setMaxResults(50),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \" 50 \"))), React.createElement(SearchList, {\n    open: listOpen,\n    selectedHandle: selectedHandel,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }));\n};\n\nconst mapStateToProps = state => ({\n  searchString: state.searchReducer.searchString\n});\n\nconst mapDispachToProps = dispatch => ({\n  searchInputHandler: text => dispatch(searchInput(text)),\n  searchStartHandler: (text, source) => dispatch(searchStart(text, source)),\n  clearSearchHandler: () => dispatch(clearSearch())\n});\n\nexport default connect(mapStateToProps, mapDispachToProps)(Search);","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/pages/common/components/ExternalSearch/Search.js"],"names":["React","useCallback","useEffect","useState","Dropdown","DropdownButton","FormControl","connect","clearSearch","searchInput","searchStart","API_TYPES","getApisName","SearchList","Search","clearSearchHandler","searchStartHandler","searchInputHandler","searchString","listOpen","setListOpen","source","setSource","apiDropdownList","setApiList","maxResults","setMaxResults","openList","selectedHandel","MIUSIC_SOURCE","map","api","bind","controlKeyPress","default","event","target","value","key","mapStateToProps","state","searchReducer","mapDispachToProps","dispatch","text"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\r\nimport { Dropdown, DropdownButton, FormControl } from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport { clearSearch, searchInput, searchStart } from \"../../../../actions\";\r\nimport { API_TYPES, getApisName } from \"./../../../../apis/apiProvider\";\r\nimport \"./search.scss\";\r\nimport SearchList from './SerachList/SearchList.js';\r\n\r\n\r\n\r\n\r\n\r\nconst Search = ({\r\n    clearSearchHandler,\r\n    searchStartHandler,\r\n    searchInputHandler,\r\n    searchString,\r\n}) => {\r\n    const [listOpen, setListOpen] = useState(false);\r\n\r\n    const [source, setSource] = useState(null);\r\n    const [apiDropdownList, setApiList] = useState(null);\r\n\r\n    const [maxResults, setMaxResults] = useState(10);\r\n\r\n    const openList = () => setListOpen(true);\r\n\r\n    const selectedHandel = () => {\r\n        clearSearchHandler();\r\n        setListOpen(false);\r\n    }\r\n\r\n    useEffect(() => {\r\n        setApiList(getApisName(API_TYPES.MIUSIC_SOURCE).map(api => {\r\n            return (<Dropdown.Item key={api} onClick={setSource.bind(null, api)}>  {api} </Dropdown.Item>)\r\n        }))\r\n    }, [setApiList, setSource])\r\n\r\n    const controlKeyPress = useCallback(()=>{\r\n\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"search\">\r\n            <div className=\"search-controls\">\r\n                <DropdownButton \r\n                    className=\"btn-api-select\"\r\n                    title={(source) ? source : getApisName(API_TYPES.MIUSIC_SOURCE, { default: true})}>\r\n                    {apiDropdownList}\r\n                </DropdownButton>\r\n                <FormControl\r\n                    className=\"search-control\"\r\n                    type=\"text\"\r\n                    placeholder=\"Tap in to serach on youtube\"\r\n                    onChange={event => searchInputHandler(event.target.value)}\r\n                    onKeyPress={event => { if (event.key === \"Enter\") { searchStartHandler(searchString) } }}\r\n                    onFocus={openList}\r\n                    value={searchString} />\r\n                <DropdownButton \r\n                    className=\"btn-max-result-select\"\r\n                    title={maxResults}>\r\n                    <Dropdown.Item onClick={()=>setMaxResults(10)}> 10 </Dropdown.Item>\r\n                    <Dropdown.Item onClick={()=>setMaxResults(25)}> 25 </Dropdown.Item>\r\n                    <Dropdown.Item onClick={()=>setMaxResults(50)}> 50 </Dropdown.Item>\r\n                </DropdownButton>\r\n\r\n\r\n            </div>\r\n\r\n            <SearchList\r\n                open={listOpen}\r\n                selectedHandle={selectedHandel} />\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    searchString: state.searchReducer.searchString\r\n})\r\n\r\nconst mapDispachToProps = dispatch => ({\r\n    searchInputHandler: (text) => dispatch(searchInput(text)),\r\n    searchStartHandler: (text, source) => dispatch(searchStart(text, source)),\r\n    clearSearchHandler: () => dispatch(clearSearch()),\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispachToProps)(Search);"]},"metadata":{},"sourceType":"module"}