{"ast":null,"code":"import _classCallCheck from\"D:\\\\PROJEKTY\\\\APKI\\\\DjTruck\\\\djtruck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\PROJEKTY\\\\APKI\\\\DjTruck\\\\djtruck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"D:\\\\PROJEKTY\\\\APKI\\\\DjTruck\\\\djtruck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"D:\\\\PROJEKTY\\\\APKI\\\\DjTruck\\\\djtruck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"D:\\\\PROJEKTY\\\\APKI\\\\DjTruck\\\\djtruck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import{ACTIONS}from\"../../../actions\";import React from\"react\";import{connect}from\"react-redux\";import{stripHtml}from\"./../../../utils/html/htmlHelper\";import getApi from\"./../../../apis/apiProvider\";//----\nimport\"./search-list.scss\";var SearchListItem=function SearchListItem(props){var _thumbnails$default;var _props$item=props.item,title=_props$item.title,description=_props$item.description,id=_props$item.id,thumbnails=_props$item.thumbnails,duration=_props$item.duration,source=_props$item.source;var api=getApi(source);var sourceUrl=api.getUrlToExternall(id);var formatTime=function formatTime(time){return time&&time.substr(2,time.length).toLowerCase();};var handleClick=function handleClick(){props.addToListHandle(props.item);props.closeListHandle();};return React.createElement(\"li\",{className:\"search-list-item\",onClick:handleClick},React.createElement(\"div\",{className:\"list-item-thumbnails\"},React.createElement(\"img\",{alt:\"youtube thumbnail\",className:\"thumbnail-img\",src:thumbnails===null||thumbnails===void 0?void 0:(_thumbnails$default=thumbnails.default)===null||_thumbnails$default===void 0?void 0:_thumbnails$default.url}),React.createElement(\"span\",{className:\"thumbnail-time\"},formatTime(duration))),React.createElement(\"div\",{className:\"list-item-details\"},React.createElement(\"h5\",null,stripHtml(title)),React.createElement(\"p\",null,stripHtml(description)),React.createElement(\"a\",{href:sourceUrl},\" \",sourceUrl,\" \")));};var SearchList=/*#__PURE__*/function(_React$Component){_inherits(SearchList,_React$Component);function SearchList(){var _this;_classCallCheck(this,SearchList);_this=_possibleConstructorReturn(this,_getPrototypeOf(SearchList).call(this));_this.state={open:true};return _this;}_createClass(SearchList,[{key:\"render\",value:function render(){var _this$props$searchLis,_this$props$searchLis2,_this$props$searchLis3,_this2=this;return this.props.open&&React.createElement(\"div\",{className:\"search-results\"},((_this$props$searchLis=this.props.searchList[0])===null||_this$props$searchLis===void 0?void 0:_this$props$searchLis.error)&&React.createElement(\"div\",null,\" Connect to youtube problem: \",React.createElement(\"pre\",null,JSON.stringify((_this$props$searchLis2=this.props.searchList[0])===null||_this$props$searchLis2===void 0?void 0:_this$props$searchLis2.error.errors))),React.createElement(\"ul\",{className:\"search-result-list\"},this.props.searchList&&!((_this$props$searchLis3=this.props.searchList[0])===null||_this$props$searchLis3===void 0?void 0:_this$props$searchLis3.error)&&this.props.searchList.map(function(item){return React.createElement(SearchListItem,{item:item,addToListHandle:_this2.props.addToListHandle,closeListHandle:_this2.props.selectedHandle,key:item.id});})));}}]);return SearchList;}(React.Component);;var mapStateToProps=function mapStateToProps(state){return{searchList:state.searchReducer.searchResults};};var mapDispachToProps=function mapDispachToProps(dispach){return{addToListHandle:function addToListHandle(track){return dispach({type:ACTIONS.PUSH_TRACK,track:track});}};};export default connect(mapStateToProps,mapDispachToProps)(SearchList);","map":{"version":3,"sources":["D:/PROJEKTY/APKI/DjTruck/djtruck/src/components/Search/SerachList/SearchList.js"],"names":["ACTIONS","React","connect","stripHtml","getApi","SearchListItem","props","item","title","description","id","thumbnails","duration","source","api","sourceUrl","getUrlToExternall","formatTime","time","substr","length","toLowerCase","handleClick","addToListHandle","closeListHandle","default","url","SearchList","state","open","searchList","error","JSON","stringify","errors","map","selectedHandle","Component","mapStateToProps","searchReducer","searchResults","mapDispachToProps","dispach","track","type","PUSH_TRACK"],"mappings":"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","sourcesContent":["import { ACTIONS } from \"../../../actions\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { stripHtml } from \"./../../../utils/html/htmlHelper\";\r\nimport getApi from \"./../../../apis/apiProvider\";\r\n//----\r\nimport \"./search-list.scss\";\r\n\r\n\r\nconst SearchListItem = ( props ) => {\r\n\r\n    const {title, description, id, thumbnails, duration, source} = props.item;\r\n\r\n    const api = getApi(source);\r\n\r\n    const sourceUrl = api.getUrlToExternall(id);\r\n\r\n    const formatTime = time => (time && time.substr(2, time.length).toLowerCase());\r\n\r\n    const handleClick = () => {\r\n        props.addToListHandle(props.item);\r\n        props.closeListHandle();\r\n    }\r\n\r\n\r\n    return(\r\n        <li className=\"search-list-item\" onClick={handleClick}>\r\n            <div className=\"list-item-thumbnails\">\r\n                <img alt=\"youtube thumbnail\" className=\"thumbnail-img\" src={ thumbnails?.default?.url } />\r\n                <span className=\"thumbnail-time\">{ formatTime(duration) }</span>\r\n            </div>\r\n            <div className=\"list-item-details\">\r\n                <h5>{ stripHtml(title) }</h5>\r\n                <p>{ stripHtml(description) }</p>\r\n                <a href={ sourceUrl }> { sourceUrl } </a>\r\n            </div>\r\n        </li>\r\n    )\r\n}\r\n\r\nclass SearchList extends React.Component{\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            open : true,\r\n        }\r\n    }\r\n\r\n\r\n    render(){\r\n        return (\r\n            (this.props.open && <div className=\"search-results\">\r\n                { this.props.searchList[0]?.error &&\r\n                    <div> Connect to youtube problem: <pre>{JSON.stringify(this.props.searchList[0]?.error.errors)}</pre></div>\r\n                }\r\n                <ul className=\"search-result-list\">\r\n                    { \r\n                    ( this.props.searchList && !this.props.searchList[0]?.error && this.props.searchList.map( item => \r\n                        <SearchListItem \r\n                        item={ item } \r\n                        addToListHandle={ this.props.addToListHandle } \r\n                        closeListHandle={ this.props.selectedHandle }\r\n                        key={ item.id }/> \r\n                    )) \r\n                    }\r\n                </ul>\r\n            </div>)\r\n        );\r\n    }\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        searchList : state.searchReducer.searchResults,\r\n    }\r\n}\r\n\r\nconst mapDispachToProps = dispach => {\r\n    return {\r\n        addToListHandle : (track) =>  dispach({ type: ACTIONS.PUSH_TRACK , track : track})\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispachToProps)(SearchList);"]},"metadata":{},"sourceType":"module"}