{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\src\\\\Router\\\\PrivateRedirect.js\";\nimport React, { useCallback } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { useAuth0 } from \"./../auth0/react-auth0-spa\";\n\nconst PrivateRedirect = ({\n  props\n}) => {\n  const {\n    loading,\n    isAuthenticated,\n    loginWithRedirect\n  } = useAuth0();\n  const redirect = useCallback(async () => {\n    if (loading) {\n      return;\n    }\n\n    await loginWithRedirect({\n      appState: {\n        targetUrl: window.location.pathname\n      }\n    });\n  }, [loading, loginWithRedirect]);\n\n  const RedirectComponent = () => {\n    if (isAuthenticated) {\n      return React.createElement(Redirect, Object.assign({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21\n        },\n        __self: this\n      }));\n    } else {\n      redirect();\n    }\n  };\n\n  return RedirectComponent();\n};\n\nexport default PrivateRedirect;","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/Router/PrivateRedirect.js"],"names":["React","useCallback","Redirect","useAuth0","PrivateRedirect","props","loading","isAuthenticated","loginWithRedirect","redirect","appState","targetUrl","window","location","pathname","RedirectComponent"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,WAAhB,QAAmC,OAAnC;AACA,SAAUC,QAAV,QAA0B,kBAA1B;AACA,SAASC,QAAT,QAAyB,4BAAzB;;AAEA,MAAMC,eAAe,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAe;AACnC,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA,eAAX;AAA4BC,IAAAA;AAA5B,MAAkDL,QAAQ,EAAhE;AAGA,QAAMM,QAAQ,GAAGR,WAAW,CAAC,YAAY;AACrC,QAAIK,OAAJ,EAAa;AACT;AACH;;AAED,UAAME,iBAAiB,CAAC;AACpBE,MAAAA,QAAQ,EAAE;AAAEC,QAAAA,SAAS,EAAEC,MAAM,CAACC,QAAP,CAAgBC;AAA7B;AADU,KAAD,CAAvB;AAGH,GAR2B,EAQzB,CAACR,OAAD,EAAUE,iBAAV,CARyB,CAA5B;;AAUA,QAAMO,iBAAiB,GAAG,MAAM;AAC5B,QAAIR,eAAJ,EAAqB;AACjB,aAAO,oBAAC,QAAD,oBAAcF,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;AACH,KAFD,MAEO;AACHI,MAAAA,QAAQ;AACX;AACJ,GAND;;AAOA,SAAOM,iBAAiB,EAAxB;AAEH,CAvBD;;AA0BA,eAAeX,eAAf","sourcesContent":["import React, { useCallback } from \"react\";\r\nimport {  Redirect } from \"react-router-dom\";\r\nimport { useAuth0 } from \"./../auth0/react-auth0-spa\";\r\n\r\nconst PrivateRedirect = ({ props }) => {\r\n    const { loading, isAuthenticated, loginWithRedirect } = useAuth0();\r\n\r\n\r\n    const redirect = useCallback(async () => {\r\n        if (loading) {\r\n            return;\r\n        }\r\n\r\n        await loginWithRedirect({\r\n            appState: { targetUrl: window.location.pathname }\r\n        });\r\n    }, [loading, loginWithRedirect])\r\n\r\n    const RedirectComponent = () => {\r\n        if (isAuthenticated) {\r\n            return <Redirect {...props}/>;\r\n        } else {\r\n            redirect();\r\n        }\r\n    }\r\n    return RedirectComponent();\r\n    \r\n};\r\n\r\n\r\nexport default PrivateRedirect;"]},"metadata":{},"sourceType":"module"}