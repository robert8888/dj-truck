{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROJEKTY\\\\APKI\\\\DjTruck\\\\djtruck\\\\src\\\\pages\\\\app\\\\components\\\\Console\\\\Deck\\\\TrackInfo\\\\TrackInfo.js\";\nimport React, { Fragment, useRef, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport \"./track-info.scss\";\nimport { calcBpm } from \"./../../../../../../utils/bpm/converter.js\";\nimport { stripHtml } from \"./../../../../../../utils/html/htmlHelper.js\";\nimport { formater } from \"./../../../../../../utils/time/timeFromater\";\n\nconst TrackInfo = props => {\n  var _track$details$thumbn, _track$details$thumbn2, _track$details$thumbn3, _track$details$thumbn4;\n\n  const track = props.track;\n  const timeLeft = useRef();\n  useEffect(() => {\n    timeLeft.current.textContent = timeLeft;\n  }, [timeLeft, track.state.timeLeft]); //formtatin track titile .... Bolding author \n\n  let title = stripHtml(track.details.title);\n  let seprator = title.indexOf(\"-\");\n\n  if (seprator !== -1) {\n    title = React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23\n      },\n      __self: this\n    }, title.substr(0, seprator)), \" \", title.substr(seprator, title.length));\n  } //\n\n\n  return React.createElement(\"div\", {\n    className: \"track-info deck-\" + props.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"track-info-thumbnail\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, ((_track$details$thumbn = track.details.thumbnail) === null || _track$details$thumbn === void 0 ? void 0 : (_track$details$thumbn2 = _track$details$thumbn.default) === null || _track$details$thumbn2 === void 0 ? void 0 : _track$details$thumbn2.url) && React.createElement(\"img\", {\n    alt: \"track thumbnails\",\n    src: (_track$details$thumbn3 = track.details.thumbnail) === null || _track$details$thumbn3 === void 0 ? void 0 : (_track$details$thumbn4 = _track$details$thumbn3.default) === null || _track$details$thumbn4 === void 0 ? void 0 : _track$details$thumbn4.url,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"track-info-description\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"track-info-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, title)), React.createElement(\"div\", {\n    className: \"track-info-time\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"time-left\",\n    ref: timeLeft,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"track-duration\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, formater.ytToStr(track.details.duration))), React.createElement(\"div\", {\n    className: \"track-info-bpm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"track-bpm-current\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, track.details.bpm && calcBpm(track.details.bpm, track.state.pitch).toFixed(2)), React.createElement(\"span\", {\n    className: \"tarck-bpm-pitch\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, track.state.pitch.toFixed(2) + \"%\"), React.createElement(\"span\", {\n    className: \"track-bpm-init\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, track.details.bpm && track.details.bpm.toFixed(2))));\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  track: {\n    details: state.console.channel[ownProps.name].track,\n    state: state.console.channel[ownProps.name].playBackState\n  }\n});\n\nexport default connect(mapStateToProps)(TrackInfo);","map":{"version":3,"sources":["D:/PROJEKTY/APKI/DjTruck/djtruck/src/pages/app/components/Console/Deck/TrackInfo/TrackInfo.js"],"names":["React","Fragment","useRef","useEffect","connect","calcBpm","stripHtml","formater","TrackInfo","props","track","timeLeft","current","textContent","state","title","details","seprator","indexOf","substr","length","name","thumbnail","default","url","ytToStr","duration","bpm","pitch","toFixed","mapStateToProps","ownProps","console","channel","playBackState"],"mappings":"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","sourcesContent":["import React, { Fragment, useRef, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport \"./track-info.scss\";\r\n\r\n\r\nimport { calcBpm } from \"./../../../../../../utils/bpm/converter.js\";\r\nimport { stripHtml } from \"./../../../../../../utils/html/htmlHelper.js\";\r\nimport { formater } from \"./../../../../../../utils/time/timeFromater\"\r\n\r\nconst TrackInfo = props => {\r\n    const track = props.track;\r\n\r\n    const timeLeft = useRef();\r\n    \r\n    useEffect(()=>{\r\n        timeLeft.current.textContent = timeLeft;\r\n    }, [timeLeft, track.state.timeLeft])\r\n    \r\n    //formtatin track titile .... Bolding author \r\n    let title = stripHtml(track.details.title);\r\n    let seprator = title.indexOf(\"-\");\r\n    if(seprator !== -1){\r\n        title = (<Fragment><span>{title.substr(0, seprator)}</span> {title.substr(seprator, title.length)}</Fragment>);\r\n    }\r\n    //\r\n \r\n    return (\r\n        <div className={\"track-info deck-\" + props.name}>\r\n            <div className=\"track-info-thumbnail\">\r\n                {(track.details.thumbnail?.default?.url && <img \r\n                alt=\"track thumbnails\"\r\n                src={track.details.thumbnail?.default?.url}></img>)}\r\n            </div>\r\n            <div className=\"track-info-description\">\r\n                <p className=\"track-info-title\">\r\n                    { title }\r\n                </p>\r\n            </div>\r\n            <div className=\"track-info-time\">\r\n                <span className=\"time-left\" ref={timeLeft}>\r\n                    {/* ((track.state.timeLeft) ? formater.secondsToStr(track.state.timeLeft) : formater.ytToStr(track.details.duration)) */}\r\n                </span>\r\n                <span className=\"track-duration\">\r\n                    { formater.ytToStr(track.details.duration) }\r\n                </span>\r\n            </div>\r\n            <div className=\"track-info-bpm\">\r\n                <span className=\"track-bpm-current\">\r\n                    { track.details.bpm && calcBpm(track.details.bpm, track.state.pitch).toFixed(2) }\r\n                </span>\r\n                <span className=\"tarck-bpm-pitch\">\r\n                    { track.state.pitch.toFixed(2) + \"%\"}\r\n                </span>\r\n                <span className=\"track-bpm-init\">\r\n                    { track.details.bpm && track.details.bpm.toFixed(2) }\r\n                </span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    track : {\r\n        details : state.console.channel[ownProps.name].track,\r\n        state : state.console.channel[ownProps.name].playBackState,\r\n    }\r\n})\r\n\r\n\r\n\r\nexport default connect(mapStateToProps)(TrackInfo);"]},"metadata":{},"sourceType":"module"}