{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\src\\\\pages\\\\common\\\\components\\\\Carousel-slider\\\\Slider.js\";\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport UUID from \"uuidjs\";\nimport style from \"./slider.scss\";\n\nconst Slider = ({\n  slides,\n  next,\n  prev,\n  minSlideWidth = style.minSlideWidth\n}) => {\n  const slider = useRef();\n  const [_containerWidth, setContainerWidth] = useState(null);\n  const [slideWidth, setSlideWidth] = useState(null);\n  const [slidesHtmlElements, setSlidesHtmlElements] = useState(null);\n  const [initSlides] = useState(slides);\n  const containerWidth = useCallback(() => {\n    if (!slider.current) return 0;\n    let width = _containerWidth;\n\n    if (!width) {\n      var _slider$current$paren;\n\n      width = (_slider$current$paren = slider.current.parentElement.getBoundingClientRect()) === null || _slider$current$paren === void 0 ? void 0 : _slider$current$paren.width;\n      setContainerWidth(width);\n    }\n\n    return width;\n  }, [_containerWidth, setContainerWidth]);\n  useEffect(() => {\n    const resetSize = () => setContainerWidth(null);\n\n    window.addEventListener(\"resize\", resetSize);\n    return () => window.removeEventListener(\"resize\", resetSize);\n  }, [setContainerWidth]);\n  useEffect(() => {\n    if (!containerWidth() || !minSlideWidth || !slider.current) return;\n    const visibleSlides = ~~(containerWidth() / parseInt(minSlideWidth));\n    const slideWidth = containerWidth() / visibleSlides;\n    setSlideWidth(slideWidth);\n    slider.current.style.width = slideWidth * slider.current.children.length + \"px\";\n  }, [containerWidth, minSlideWidth, setSlideWidth]);\n  console.log(containerWidth(), slideWidth, parseInt(minSlideWidth));\n  return React.createElement(\"ul\", {\n    className: \"carousel-slider\",\n    ref: slider,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, slides && slides instanceof Array && slides.map(slide => React.createElement(\"li\", {\n    key: UUID.genV1(),\n    className: \"slide\",\n    style: {\n      width: minSlideWidth || \"initial\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, slide)));\n};\n\nexport default Slider;","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/pages/common/components/Carousel-slider/Slider.js"],"names":["React","useCallback","useEffect","useRef","useState","UUID","style","Slider","slides","next","prev","minSlideWidth","slider","_containerWidth","setContainerWidth","slideWidth","setSlideWidth","slidesHtmlElements","setSlidesHtmlElements","initSlides","containerWidth","current","width","parentElement","getBoundingClientRect","resetSize","window","addEventListener","removeEventListener","visibleSlides","parseInt","children","length","console","log","Array","map","slide","genV1"],"mappings":"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","sourcesContent":["import React, {useCallback, useEffect, useRef, useState} from \"react\";\r\nimport UUID from \"uuidjs\";\r\nimport style from \"./slider.scss\"\r\n\r\nconst Slider = ({slides, next, prev, minSlideWidth = style.minSlideWidth}) => {\r\n    const slider = useRef();\r\n    const [_containerWidth, setContainerWidth] = useState(null);\r\n    const [slideWidth, setSlideWidth] = useState(null);\r\n    const [slidesHtmlElements, setSlidesHtmlElements] = useState(null);\r\n    const [initSlides] = useState(slides);\r\n\r\n    const containerWidth = useCallback(() => {\r\n        if (!slider.current) return 0;\r\n        let width = _containerWidth\r\n        if (!width) {\r\n            width = slider.current.parentElement.getBoundingClientRect()?.width\r\n            setContainerWidth(width);\r\n        }\r\n        return width;\r\n    }, [_containerWidth, setContainerWidth])\r\n\r\n    useEffect(() => {\r\n        const resetSize = () => setContainerWidth(null);\r\n        window.addEventListener(\"resize\", resetSize);\r\n        return () => window.removeEventListener(\"resize\", resetSize);\r\n    }, [setContainerWidth])\r\n\r\n    useEffect(() => {\r\n        if (!containerWidth() || !minSlideWidth || !slider.current) return;\r\n        const visibleSlides = ~~(containerWidth() / parseInt(minSlideWidth));\r\n        const slideWidth = containerWidth() / visibleSlides\r\n        setSlideWidth(slideWidth);\r\n        slider.current.style.width = slideWidth * slider.current.children.length + \"px\";\r\n    }, [containerWidth, minSlideWidth,  setSlideWidth])\r\n\r\n\r\n    console.log(containerWidth(), slideWidth, parseInt(minSlideWidth))\r\n    return (\r\n        <ul className=\"carousel-slider\" ref={slider}>\r\n            {slides && slides instanceof Array && slides.map(slide => (\r\n                <li key={UUID.genV1()} className={\"slide\"} style={{width: minSlideWidth || \"initial\"}}>{slide}</li>\r\n            ))}\r\n        </ul>\r\n    )\r\n}\r\nexport default Slider;"]},"metadata":{},"sourceType":"module"}