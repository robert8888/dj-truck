{"ast":null,"code":"const filter = require('unist-util-filter');\n\nmodule.exports = transformer;\n\nfunction transformer(tree, file) {\n  const modify = node => {\n    if (!node.children) return node;\n    let className = null;\n    let id = null;\n    const children = [];\n    node.children.forEach(child => {\n      if (child.type === 'attrClass') {\n        className = child.value;\n        return;\n      }\n\n      if (child.type === \"attrId\") {\n        id = child.value;\n        return;\n      }\n\n      if (className || id) {\n        child.properties = {};\n      }\n\n      if (className) {\n        child.className = className;\n        child.properties.className = className;\n        className = null;\n      }\n\n      if (id) {\n        child.id = id;\n        child.properties.id = id;\n        id = null;\n      }\n\n      if (child.children && child.children.length) {\n        child = modify(child);\n      }\n\n      children.push(child);\n    });\n    node.children = children;\n    return node;\n  }; //console.log(\"befre mod\", tree)\n\n\n  tree = modify(tree);\n  tree = filter(tree, node => node.type !== \"attrClass\" && node.type !== \"attrId\" && node.type === \"text\" && node.value === \"\");\n  return tree;\n}","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/pages/introduction/MarkDonwExtesnion/remark-attr/components/transformAst.js"],"names":["filter","require","module","exports","transformer","tree","file","modify","node","children","className","id","forEach","child","type","value","properties","length","push"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,mBAAD,CAAtB;;AAEAC,MAAM,CAACC,OAAP,GAAiBC,WAAjB;;AAEA,SAASA,WAAT,CAAqBC,IAArB,EAA2BC,IAA3B,EAAgC;AAC5B,QAAMC,MAAM,GAAGC,IAAI,IAAI;AACnB,QAAG,CAACA,IAAI,CAACC,QAAT,EAAmB,OAAOD,IAAP;AACnB,QAAIE,SAAS,GAAG,IAAhB;AACA,QAAIC,EAAE,GAAG,IAAT;AACA,UAAMF,QAAQ,GAAG,EAAjB;AACAD,IAAAA,IAAI,CAACC,QAAL,CAAcG,OAAd,CAAsBC,KAAK,IAAG;AAC1B,UAAGA,KAAK,CAACC,IAAN,KAAe,WAAlB,EAA8B;AAC1BJ,QAAAA,SAAS,GAAGG,KAAK,CAACE,KAAlB;AACA;AACH;;AACD,UAAGF,KAAK,CAACC,IAAN,KAAe,QAAlB,EAA2B;AACvBH,QAAAA,EAAE,GAAGE,KAAK,CAACE,KAAX;AACA;AACH;;AACD,UAAGL,SAAS,IAAIC,EAAhB,EAAoB;AAChBE,QAAAA,KAAK,CAACG,UAAN,GAAmB,EAAnB;AACH;;AACD,UAAGN,SAAH,EAAa;AACTG,QAAAA,KAAK,CAACH,SAAN,GAAkBA,SAAlB;AACAG,QAAAA,KAAK,CAACG,UAAN,CAAiBN,SAAjB,GAA6BA,SAA7B;AACAA,QAAAA,SAAS,GAAG,IAAZ;AACH;;AACD,UAAGC,EAAH,EAAM;AACFE,QAAAA,KAAK,CAACF,EAAN,GAAWA,EAAX;AACAE,QAAAA,KAAK,CAACG,UAAN,CAAiBL,EAAjB,GAAsBA,EAAtB;AACAA,QAAAA,EAAE,GAAG,IAAL;AACH;;AACD,UAAGE,KAAK,CAACJ,QAAN,IAAkBI,KAAK,CAACJ,QAAN,CAAeQ,MAApC,EAA2C;AACvCJ,QAAAA,KAAK,GAAGN,MAAM,CAACM,KAAD,CAAd;AACH;;AACDJ,MAAAA,QAAQ,CAACS,IAAT,CAAcL,KAAd;AACH,KA1BD;AA4BAL,IAAAA,IAAI,CAACC,QAAL,GAAgBA,QAAhB;AACA,WAAOD,IAAP;AACH,GAnCD,CAD4B,CAqC5B;;;AACAH,EAAAA,IAAI,GAAGE,MAAM,CAACF,IAAD,CAAb;AAEAA,EAAAA,IAAI,GAAGL,MAAM,CAACK,IAAD,EAAOG,IAAI,IACnBA,IAAI,CAACM,IAAL,KAAc,WAAf,IACCN,IAAI,CAACM,IAAL,KAAc,QADf,IAECN,IAAI,CAACM,IAAL,KAAc,MAAd,IAAwBN,IAAI,CAACO,KAAL,KAAe,EAH/B,CAAb;AAMA,SAAOV,IAAP;AACH","sourcesContent":["const filter = require('unist-util-filter')\r\n\r\nmodule.exports = transformer;\r\n\r\nfunction transformer(tree, file){\r\n    const modify = node => {\r\n        if(!node.children) return node;\r\n        let className = null;\r\n        let id = null;\r\n        const children = [];\r\n        node.children.forEach(child=> {\r\n            if(child.type === 'attrClass'){\r\n                className = child.value;\r\n                return;\r\n            }\r\n            if(child.type === \"attrId\"){\r\n                id = child.value;\r\n                return;\r\n            }\r\n            if(className || id) {\r\n                child.properties = {}\r\n            }\r\n            if(className){\r\n                child.className = className;\r\n                child.properties.className = className;\r\n                className = null;\r\n            }\r\n            if(id){\r\n                child.id = id;\r\n                child.properties.id = id;\r\n                id = null;\r\n            }\r\n            if(child.children && child.children.length){\r\n                child = modify(child);\r\n            }\r\n            children.push(child);\r\n        })\r\n\r\n        node.children = children;\r\n        return node;\r\n    }\r\n    //console.log(\"befre mod\", tree)\r\n    tree = modify(tree)\r\n\r\n    tree = filter(tree, node => (\r\n        (node.type !== \"attrClass\") &&\r\n        (node.type !== \"attrId\") &&\r\n        (node.type === \"text\" && node.value === \"\")\r\n    ))\r\n\r\n    return tree;\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}