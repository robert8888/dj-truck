{"ast":null,"code":"import { useEffect, useCallback } from \"react\";\nexport default function () {\n  const updateHeight = useCallback(control => {\n    if (!control) return;\n    control.style.height = 0;\n    control.style.height = control.scrollHeight + \"px\";\n  });\n  const onInput = useCallback(event => {\n    if (!event.target) return;\n    if (!(event.target instanceof HTMLTextAreaElement)) return;\n    updateHeight(event.target);\n  }, [updateHeight]);\n\n  const addRef = control => {\n    if (!control) return;\n    control.style.overflow = 'hidden';\n    updateHeight(control);\n    control.addEventListener('input', onInput);\n    return control;\n  };\n\n  return [addRef];\n}","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/pages/common/Hooks/useAutoHeightTextarea.js"],"names":["useEffect","useCallback","updateHeight","control","style","height","scrollHeight","onInput","event","target","HTMLTextAreaElement","addRef","overflow","addEventListener"],"mappings":"AAAA,SAAQA,SAAR,EAAmBC,WAAnB,QAAqC,OAArC;AAEA,eAAe,YAAW;AACtB,QAAMC,YAAY,GAAGD,WAAW,CAAEE,OAAD,IAAW;AACxC,QAAG,CAACA,OAAJ,EAAa;AACbA,IAAAA,OAAO,CAACC,KAAR,CAAcC,MAAd,GAAuB,CAAvB;AACAF,IAAAA,OAAO,CAACC,KAAR,CAAcC,MAAd,GAAuBF,OAAO,CAACG,YAAR,GAAuB,IAA9C;AACH,GAJ+B,CAAhC;AAMA,QAAMC,OAAO,GAAGN,WAAW,CAAEO,KAAD,IAAW;AACnC,QAAG,CAACA,KAAK,CAACC,MAAV,EAAmB;AACnB,QAAG,EAAED,KAAK,CAACC,MAAN,YAAwBC,mBAA1B,CAAH,EAAmD;AACnDR,IAAAA,YAAY,CAACM,KAAK,CAACC,MAAP,CAAZ;AACH,GAJ0B,EAIxB,CAACP,YAAD,CAJwB,CAA3B;;AAMA,QAAMS,MAAM,GAAIR,OAAD,IAAW;AACtB,QAAG,CAACA,OAAJ,EAAa;AACbA,IAAAA,OAAO,CAACC,KAAR,CAAcQ,QAAd,GAAyB,QAAzB;AACAV,IAAAA,YAAY,CAACC,OAAD,CAAZ;AACAA,IAAAA,OAAO,CAACU,gBAAR,CAAyB,OAAzB,EAAkCN,OAAlC;AACA,WAAOJ,OAAP;AACH,GAND;;AAQA,SAAO,CAACQ,MAAD,CAAP;AACH","sourcesContent":["import {useEffect, useCallback} from \"react\"\r\n\r\nexport default function (){\r\n    const updateHeight = useCallback((control)=>{\r\n        if(!control) return;\r\n        control.style.height = 0;\r\n        control.style.height = control.scrollHeight + \"px\";\r\n    })\r\n\r\n    const onInput = useCallback((event) => {\r\n        if(!event.target ) return;\r\n        if(!(event.target instanceof HTMLTextAreaElement)) return;\r\n        updateHeight(event.target)\r\n    }, [updateHeight])\r\n\r\n    const addRef = (control)=>{\r\n        if(!control) return;\r\n        control.style.overflow = 'hidden';\r\n        updateHeight(control)\r\n        control.addEventListener('input', onInput);\r\n        return control\r\n    }\r\n\r\n    return [addRef]\r\n}"]},"metadata":{},"sourceType":"module"}