{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\src\\\\pages\\\\common\\\\components\\\\HOC\\\\withRefSize.js\";\nimport React from \"react\";\nimport { produce } from \"imer\";\n\nconst withRefSize = WrappedComponent => {\n  var _temp;\n\n  return _temp = class extends React.Component {\n    constructor(...args) {\n      super(...args);\n\n      this.importRef = (name, ref) => {\n        this.references[name] = ref;\n      };\n\n      this.state = {\n        size: {}\n      };\n      this.references = {};\n    }\n\n    componentDidMount() {\n      let size = {};\n\n      for (let [name, element] of Object.entries(this.references)) {\n        const {\n          width,\n          height\n        } = element.getBoundingClientRect();\n        size[name] = {\n          width,\n          height\n        };\n      }\n\n      this.setState(produce(this.state, draft => draft.size = size));\n    }\n\n    render() {\n      return React.createElement(WrappedComponent, Object.assign({}, this.props, {\n        size: this.state.size,\n        exportRef: this.importRef,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }));\n    }\n\n  }, _temp;\n};\n\nexport default withRefSize;","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/pages/common/components/HOC/withRefSize.js"],"names":["React","produce","withRefSize","WrappedComponent","Component","constructor","args","importRef","name","ref","references","state","size","componentDidMount","element","Object","entries","width","height","getBoundingClientRect","setState","draft","render","props"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,MAAxB;;AAGA,MAAMC,WAAW,GAAIC,gBAAD,IAAsB;AAAA;;AAEtC,iBAAO,cAAcH,KAAK,CAACI,SAApB,CAA6B;AAEhCC,IAAAA,WAAW,CAAC,GAAGC,IAAJ,EAAS;AAChB,YAAM,GAAGA,IAAT;;AADgB,WAqBpBC,SArBoB,GAqBR,CAAEC,IAAF,EAAQC,GAAR,KAAgB;AACxB,aAAKC,UAAL,CAAgBF,IAAhB,IAAwBC,GAAxB;AACH,OAvBmB;;AAEhB,WAAKE,KAAL,GAAW;AACPC,QAAAA,IAAI,EAAE;AADC,OAAX;AAGA,WAAKF,UAAL,GAAgB,EAAhB;AAEH;;AAEDG,IAAAA,iBAAiB,GAAG;AAChB,UAAID,IAAI,GAAG,EAAX;;AACA,WAAI,IAAI,CAACJ,IAAD,EAAOM,OAAP,CAAR,IAA2BC,MAAM,CAACC,OAAP,CAAe,KAAKN,UAApB,CAA3B,EAA2D;AACvD,cAAM;AAACO,UAAAA,KAAD;AAAQC,UAAAA;AAAR,YAAkBJ,OAAO,CAACK,qBAAR,EAAxB;AACAP,QAAAA,IAAI,CAACJ,IAAD,CAAJ,GAAa;AACTS,UAAAA,KADS;AAETC,UAAAA;AAFS,SAAb;AAIH;;AACD,WAAKE,QAAL,CAAcnB,OAAO,CAAC,KAAKU,KAAN,EAAaU,KAAK,IAAIA,KAAK,CAACT,IAAN,GAAaA,IAAnC,CAArB;AACH;;AAMDU,IAAAA,MAAM,GAAE;AACJ,aAAO,oBAAC,gBAAD,oBAAsB,KAAKC,KAA3B;AAAkC,QAAA,IAAI,EAAE,KAAKZ,KAAL,CAAWC,IAAnD;AAA0D,QAAA,SAAS,EAAE,KAAKL,SAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;AACH;;AA7B+B,GAApC;AAgCH,CAlCD;;AAoCA,eAAeL,WAAf","sourcesContent":["import React from \"react\";\r\nimport { produce } from \"imer\"\r\n\r\n\r\nconst withRefSize = (WrappedComponent) => {\r\n\r\n    return class extends React.Component{\r\n\r\n        constructor(...args){\r\n            super(...args);\r\n            this.state={ \r\n                size: {}\r\n            }    \r\n            this.references={};\r\n\r\n        }\r\n\r\n        componentDidMount() {\r\n            let size = {};\r\n            for(let [name, element] of Object.entries(this.references)){\r\n                const {width, height} = element.getBoundingClientRect();\r\n                size[name] = {\r\n                    width,\r\n                    height\r\n                }\r\n            }\r\n            this.setState(produce(this.state, draft => draft.size = size))\r\n        }\r\n\r\n        importRef = ( name, ref) => {\r\n            this.references[name] = ref;\r\n        }\r\n\r\n        render(){\r\n            return <WrappedComponent {...this.props} size={this.state.size}  exportRef={this.importRef}/>\r\n        }\r\n    } \r\n\r\n}\r\n\r\nexport default withRefSize;"]},"metadata":{},"sourceType":"module"}