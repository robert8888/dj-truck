{"ast":null,"code":"import { ACTIONS } from \"../actions\";\nimport { produce } from \"imer\";\nimport { unset, set, get } from \"lodash/object\";\nconst initState = {\n  list: [],\n  currentPlayList: [],\n  // path to play list \n  currentSelection: ['root'],\n  // path to dir or playlist current selected\n  root: {},\n  // root dir for play list \n  //mock\n  root: {\n    \"Techno\": {\n      _open: true,\n      \"ZetTempo\": [],\n      \"empty dir\": {},\n      \"HardCore\": [],\n      \"Special\": {\n        _open: true,\n        \"DubTechno\": [],\n        \"Clasic 90\": []\n      }\n    },\n    \"Mini mal\": {\n      \"HighTech\": [],\n      \"Classic\": [],\n      \"EmptyFolder\": {}\n    }\n  }\n};\n\nfunction playListReducer(state = initState, action) {\n  switch (action.type) {\n    case ACTIONS.PUSH_TRACK:\n      {\n        if (state.currentPlayList.length === 0) {\n          //if is not seelect any play list - create new\n          let pathToDir = [\"root\"];\n\n          if (state.currentSelection.length > 1) {\n            pathToDir = findClosesDir(state, state.currentSelection);\n          }\n\n          const name = generateTemplateName(state, pathToDir, \"New Playlist\");\n          return produce(state, draftState => {\n            set(draftState, [...pathToDir, name], []);\n            set(draftState, [...pathToDir, \"_open\"], true);\n            draftState.currentSelection = [...pathToDir, name];\n          });\n        }\n\n        return produce(state, draftState => {\n          draftState.list.push(action.track);\n          set(state, state.currentPlayList, draftState.list);\n        });\n      }\n\n    case ACTIONS.SET_BPM:\n      {\n        const source = action.source;\n        const id = action.id;\n        let index = state.list.findIndex(element => element.id === id && element.source === source);\n        return produce(state, draftState => {\n          draftState.list[index].bpm = action.bpm;\n        });\n      }\n\n    case ACTIONS.SET_BPM_AND_OFFSET:\n      {\n        const source = action.source;\n        const id = action.id;\n        let index = state.list.findIndex(element => element.id === id && element.source === source);\n        return produce(state, draftState => {\n          draftState.list[index].bpm = action.bpm;\n          draftState.list[index].offset = action.offset;\n        });\n      }\n\n    case ACTIONS.PL_TOGGLE_DIR:\n      {\n        const open = get(state, [...action.path, \"_open\"]);\n        return produce(state, draftState => set(draftState, [...action.path, \"_open\"], !open));\n      }\n\n    case ACTIONS.PL_SET_SELECTION:\n      {\n        return produce(state, draftState => draftState.currentSelection = action.path);\n      }\n\n    case ACTIONS.PL_SET_CURRENT_PLAYLIST:\n      {\n        return produce(state, draftState => {\n          draftState.currentPlayList = action.path;\n          draftState.list = get(state, [action.path]);\n        });\n      }\n\n    case ACTIONS.PL_RENAME_SELECTED:\n      {\n        const content = get(state, state.currentSelection);\n        return produce(state, draftState => {\n          unset(draftState, state.currentSelection);\n          const newCurrent = draftState.currentSelection;\n          newCurrent.pop();\n          newCurrent.push(action.name);\n          draftState.currentSelection = newCurrent;\n          set(draftState, newCurrent, content);\n        });\n      }\n\n    case ACTIONS.PL_DELETE_SELECTED:\n      {\n        return produce(state, draftState => {\n          unset(draftState, state.currentSelection);\n          draftState.currentSelection = [];\n        });\n      }\n\n    case ACTIONS.PL_CREATE_DIR:\n      {\n        console.log(action.name);\n        let name = action.name;\n        const pathToDir = findClosesDir(state, state.currentSelection);\n\n        if (!name) {\n          name = generateTemplateName(state, pathToDir, \"New Folder\");\n          console.log(\"new name\", name);\n        }\n\n        return produce(state, draftState => {\n          set(draftState, [...pathToDir, name], {});\n          set(draftState, [...pathToDir, \"_open\"], true);\n          draftState.currentSelection = [...pathToDir, name];\n        });\n      }\n\n    case ACTIONS.PL_CREATE_PLAYLIST:\n      {\n        let name = action.name;\n        const pathToDir = findClosesDir(state, state.currentSelection);\n\n        if (!name) {\n          name = generateTemplateName(state, pathToDir, \"New Playlist\");\n        }\n\n        return produce(state, draftState => {\n          set(draftState, [...pathToDir, name], []);\n          set(draftState, [...pathToDir, \"_open\"], true);\n          draftState.currentSelection = [...pathToDir, name];\n        });\n      }\n\n    case ACTIONS.PL_OPEN_CURRENT_PLAY_LIST:\n      {\n        return produce(state, draftState => {\n          draftState.list = get(state, state.currentSelection);\n          draftState.currentPlayList = state.currentSelection;\n        });\n      }\n\n    default:\n      return state;\n  }\n}\n\nexport default playListReducer;\n\nfunction findClosesDir(state, path) {\n  if (get(state, path) instanceof Array) {\n    path.pop();\n    return findClosesDir(state, path);\n  } else return path;\n}\n\nfunction generateTemplateName(state, path, base) {\n  let i = 0;\n\n  while (true) {\n    const number = i || \"\";\n    let name = base + \" \" + number;\n    const notExist = !get(state, [...path, name]);\n\n    if (notExist) {\n      return name;\n    } else {\n      i++;\n    }\n  }\n}","map":{"version":3,"sources":["D:/PROJEKTY/APKI/DjTruck/djtruck/src/reducers/playListReducer.js"],"names":["ACTIONS","produce","unset","set","get","initState","list","currentPlayList","currentSelection","root","_open","playListReducer","state","action","type","PUSH_TRACK","length","pathToDir","findClosesDir","name","generateTemplateName","draftState","push","track","SET_BPM","source","id","index","findIndex","element","bpm","SET_BPM_AND_OFFSET","offset","PL_TOGGLE_DIR","open","path","PL_SET_SELECTION","PL_SET_CURRENT_PLAYLIST","PL_RENAME_SELECTED","content","newCurrent","pop","PL_DELETE_SELECTED","PL_CREATE_DIR","console","log","PL_CREATE_PLAYLIST","PL_OPEN_CURRENT_PLAY_LIST","Array","base","i","number","notExist"],"mappings":"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","sourcesContent":["import { ACTIONS } from \"../actions\";\r\nimport { produce } from \"imer\";\r\nimport { unset, set, get } from \"lodash/object\"\r\n\r\nconst initState = {\r\n    list: [],\r\n\r\n    currentPlayList: [],// path to play list \r\n    currentSelection: ['root'], // path to dir or playlist current selected\r\n    root: {}, // root dir for play list \r\n\r\n    //mock\r\n    root:{\r\n        \"Techno\": {\r\n            _open : true,\r\n            \"ZetTempo\" : [],\r\n            \"empty dir\": {},\r\n            \"HardCore\" : [],\r\n            \"Special\" : {\r\n                _open: true,\r\n                \"DubTechno\": [],\r\n                \"Clasic 90\": []\r\n            }\r\n        },\r\n        \"Mini mal\": {\r\n            \"HighTech\":[],\r\n            \"Classic\":[],\r\n            \"EmptyFolder\":{}\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction playListReducer(state = initState, action){\r\n    switch(action.type){\r\n        case ACTIONS.PUSH_TRACK : {\r\n            if(state.currentPlayList.length === 0) { \r\n                //if is not seelect any play list - create new\r\n                let pathToDir = [\"root\"]\r\n                if(state.currentSelection.length > 1){\r\n                    pathToDir = findClosesDir(state, state.currentSelection);\r\n                }\r\n                const name =  generateTemplateName(state, pathToDir, \"New Playlist\");\r\n                return produce(state, draftState => {\r\n                    set(draftState, [...pathToDir, name], [])\r\n                    set(draftState, [...pathToDir, \"_open\"], true);\r\n                    draftState.currentSelection = [...pathToDir, name];\r\n                })\r\n            }\r\n            return produce(state, draftState=>{\r\n                draftState.list.push(action.track);\r\n                set(state, state.currentPlayList, draftState.list);\r\n            })\r\n        }\r\n\r\n        case ACTIONS.SET_BPM : {\r\n            const source = action.source;\r\n            const id = action.id;\r\n            let index = state.list.findIndex( element => (element.id === id && element.source === source));\r\n            return produce(state, draftState => { draftState.list[index].bpm = action.bpm; })\r\n        }\r\n\r\n        case ACTIONS.SET_BPM_AND_OFFSET : {\r\n            const source = action.source;\r\n            const id = action.id;\r\n            let index = state.list.findIndex( element => (element.id === id && element.source === source));\r\n            return produce(state, draftState => { \r\n                draftState.list[index].bpm = action.bpm;\r\n                draftState.list[index].offset = action.offset;\r\n             })\r\n        }\r\n\r\n\r\n        case ACTIONS.PL_TOGGLE_DIR:{\r\n            const open = get(state, [...action.path, \"_open\"])\r\n            return produce(state, draftState => set(draftState, [...action.path, \"_open\"], !open))\r\n        }\r\n        case ACTIONS.PL_SET_SELECTION:{\r\n            return produce(state, draftState => draftState.currentSelection = action.path)\r\n        }\r\n\r\n        case ACTIONS.PL_SET_CURRENT_PLAYLIST:{\r\n            return produce(state, draftState => {\r\n                draftState.currentPlayList = action.path;\r\n                draftState.list = get(state, [action.path]);\r\n            })\r\n        }\r\n\r\n        case ACTIONS.PL_RENAME_SELECTED : {\r\n            const content = get(state, state.currentSelection);\r\n            return produce(state, draftState=>{\r\n                unset(draftState, state.currentSelection);\r\n                const newCurrent = draftState.currentSelection;\r\n                newCurrent.pop();\r\n                newCurrent.push(action.name);\r\n                draftState.currentSelection = newCurrent;\r\n                set(draftState, newCurrent, content)\r\n            })\r\n        }\r\n\r\n        case ACTIONS.PL_DELETE_SELECTED: {\r\n            return produce(state, draftState=>{\r\n                unset(draftState, state.currentSelection);\r\n                draftState.currentSelection = [];\r\n            })\r\n        }\r\n        \r\n\r\n        case ACTIONS.PL_CREATE_DIR : {\r\n            console.log(action.name)\r\n            let name = action.name;\r\n            const pathToDir = findClosesDir(state, state.currentSelection);\r\n            if(!name){\r\n                name =  generateTemplateName(state, pathToDir, \"New Folder\");\r\n                console.log(\"new name\", name)\r\n            } \r\n            return produce(state, draftState => {\r\n                set(draftState, [...pathToDir, name], {})\r\n                set(draftState, [...pathToDir, \"_open\"], true);\r\n                draftState.currentSelection = [...pathToDir, name];\r\n            })\r\n        }\r\n\r\n        \r\n        case ACTIONS.PL_CREATE_PLAYLIST : {\r\n            let name = action.name;\r\n            const pathToDir = findClosesDir(state, state.currentSelection);\r\n            if(!name){\r\n                name =  generateTemplateName(state, pathToDir, \"New Playlist\");\r\n            } \r\n            return produce(state, draftState => {\r\n                set(draftState, [...pathToDir, name], [])\r\n                set(draftState, [...pathToDir, \"_open\"], true);\r\n                draftState.currentSelection = [...pathToDir, name];\r\n            })\r\n        }\r\n\r\n        case ACTIONS.PL_OPEN_CURRENT_PLAY_LIST : {\r\n            return produce(state, draftState =>{\r\n                draftState.list = get(state, state.currentSelection)\r\n                draftState.currentPlayList = state.currentSelection;\r\n            })\r\n        }\r\n\r\n        default : return state;\r\n    }\r\n}\r\n\r\nexport default playListReducer;\r\n\r\n\r\nfunction findClosesDir(state, path){\r\n    if(get(state, path) instanceof Array){\r\n        path.pop();\r\n        return findClosesDir(state, path)\r\n    } else return path;\r\n}\r\n\r\nfunction generateTemplateName(state, path, base){\r\n    let i = 0;\r\n    while(true){\r\n        const number = i || \"\";\r\n        let name =  base + \" \" + number;\r\n        const notExist = !(get(state, [...path, name]));\r\n        if(notExist){\r\n            return name;\r\n        } else {\r\n            i++;\r\n        }\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}