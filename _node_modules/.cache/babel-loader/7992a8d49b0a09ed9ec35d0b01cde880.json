{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROJEKTY\\\\APKI\\\\dj-truck\\\\src\\\\pages\\\\console\\\\components\\\\Console\\\\Mixer\\\\Fader\\\\Fader.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { setFader } from \"../../../../../../actions\";\nimport Slider from \"./../../../common/RangeSlider/Slider\";\nimport \"./fader-slider.scss\";\nimport generalStyle from \"./../../../../../../css/general.scss\";\n\nconst Fader = props => {\n  let [isZero, setIsZero] = useState(true);\n  const [, runUpdate] = useState(1);\n  useEffect(() => {\n    const forceUpdate = () => runUpdate(Math.random());\n\n    window.addEventListener('resize', forceUpdate);\n    return () => {\n      window.removeEventListener(forceUpdate);\n    };\n  }, []);\n\n  const sliderChangeHandle = (value, isTemp) => {\n    let isZero = false;\n\n    if (value > -4.5 && value < 4.5) {\n      isZero = true;\n    }\n\n    setIsZero(isZero);\n\n    if (!isTemp) {\n      if (isZero) {\n        value = 0;\n      }\n\n      props.setFader(value);\n    }\n  };\n\n  let orientation = {\n    horizontal: true\n  };\n\n  if (window.innerWidth < parseInt(generalStyle.verticalBreakPointExtraSmall)) {\n    delete orientation.horizontal;\n    orientation.vertical = true;\n  }\n\n  return React.createElement(\"div\", {\n    className: \"fader\" + (props.className ? \" \" + props.className : \"\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"zero-indicator \" + (isZero ? \"indicator--active\" : \"\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }), React.createElement(Slider, Object.assign({\n    className: \"fader\"\n  }, orientation, {\n    from: -50,\n    to: 50,\n    step: 5,\n    stickiZero: 5,\n    onChange: sliderChangeHandle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  })));\n};\n\nconst mapDispachToProps = dispatch => ({\n  setFader: value => dispatch(setFader(value))\n});\n\nexport default connect(null, mapDispachToProps)(Fader);","map":{"version":3,"sources":["D:/PROJEKTY/APKI/dj-truck/src/pages/console/components/Console/Mixer/Fader/Fader.js"],"names":["React","useState","useEffect","connect","setFader","Slider","generalStyle","Fader","props","isZero","setIsZero","runUpdate","forceUpdate","Math","random","window","addEventListener","removeEventListener","sliderChangeHandle","value","isTemp","orientation","horizontal","innerWidth","parseInt","verticalBreakPointExtraSmall","vertical","className","mapDispachToProps","dispatch"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAAyC,OAAzC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,QAAT,QAAyB,2BAAzB;AACA,OAAOC,MAAP,MAAmB,sCAAnB;AACA,OAAO,qBAAP;AACA,OAAOC,YAAP,MAAyB,sCAAzB;;AAEA,MAAMC,KAAK,GAAGC,KAAK,IAAI;AACnB,MAAI,CAACC,MAAD,EAAUC,SAAV,IAAwBT,QAAQ,CAAC,IAAD,CAApC;AACA,QAAM,GAAGU,SAAH,IAAgBV,QAAQ,CAAC,CAAD,CAA9B;AAEAC,EAAAA,SAAS,CAAC,MAAI;AACV,UAAMU,WAAW,GAAG,MAAMD,SAAS,CAACE,IAAI,CAACC,MAAL,EAAD,CAAnC;;AACAC,IAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkCJ,WAAlC;AACA,WAAO,MAAM;AACTG,MAAAA,MAAM,CAACE,mBAAP,CAA2BL,WAA3B;AACH,KAFD;AAGH,GANQ,EAMN,EANM,CAAT;;AAQA,QAAMM,kBAAkB,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAkB;AACzC,QAAIX,MAAM,GAAG,KAAb;;AACA,QAAGU,KAAK,GAAG,CAAC,GAAT,IAAgBA,KAAK,GAAG,GAA3B,EAA+B;AAC3BV,MAAAA,MAAM,GAAG,IAAT;AACH;;AACDC,IAAAA,SAAS,CAACD,MAAD,CAAT;;AAEA,QAAG,CAACW,MAAJ,EAAW;AACP,UAAGX,MAAH,EAAU;AACNU,QAAAA,KAAK,GAAG,CAAR;AACH;;AACDX,MAAAA,KAAK,CAACJ,QAAN,CAAee,KAAf;AACH;AACJ,GAbD;;AAeA,MAAIE,WAAW,GAAG;AACdC,IAAAA,UAAU,EAAG;AADC,GAAlB;;AAIA,MAAGP,MAAM,CAACQ,UAAP,GAAoBC,QAAQ,CAAClB,YAAY,CAACmB,4BAAd,CAA/B,EACA;AACI,WAAOJ,WAAW,CAACC,UAAnB;AACAD,IAAAA,WAAW,CAACK,QAAZ,GAAuB,IAAvB;AACH;;AAED,SACI;AAAK,IAAA,SAAS,EAAE,WAAYlB,KAAK,CAACmB,SAAP,GAAoB,MAAMnB,KAAK,CAACmB,SAAhC,GAA6C,EAAxD,CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAE,qBAAsBlB,MAAD,GAAW,mBAAX,GAAiC,EAAtD,CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAC;AAAlB,KACQY,WADR;AAEI,IAAA,IAAI,EAAE,CAAC,EAFX;AAGI,IAAA,EAAE,EAAE,EAHR;AAII,IAAA,IAAI,EAAE,CAJV;AAKI,IAAA,UAAU,EAAE,CALhB;AAMI,IAAA,QAAQ,EAAGH,kBANf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAFJ,CADJ;AAYH,CAjDD;;AAoDA,MAAMU,iBAAiB,GAAGC,QAAQ,KAAK;AACnCzB,EAAAA,QAAQ,EAAIe,KAAD,IAAWU,QAAQ,CAACzB,QAAQ,CAACe,KAAD,CAAT;AADK,CAAL,CAAlC;;AAIA,eAAehB,OAAO,CAAC,IAAD,EAAOyB,iBAAP,CAAP,CAAiCrB,KAAjC,CAAf","sourcesContent":["import React, { useState, useEffect}from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { setFader } from \"../../../../../../actions\";\r\nimport Slider from \"./../../../common/RangeSlider/Slider\";\r\nimport \"./fader-slider.scss\";\r\nimport generalStyle from \"./../../../../../../css/general.scss\";\r\n\r\nconst Fader = props => {\r\n    let [isZero , setIsZero ] = useState(true);\r\n    const [, runUpdate] = useState(1);\r\n\r\n    useEffect(()=>{\r\n        const forceUpdate = () => runUpdate(Math.random());\r\n        window.addEventListener('resize', forceUpdate);\r\n        return () => {\r\n            window.removeEventListener(forceUpdate)\r\n        }\r\n    }, [])\r\n\r\n    const sliderChangeHandle = (value, isTemp) =>{\r\n        let isZero = false;\r\n        if(value > -4.5 && value < 4.5){\r\n            isZero = true;\r\n        } \r\n        setIsZero(isZero);\r\n\r\n        if(!isTemp){\r\n            if(isZero){\r\n                value = 0;\r\n            }\r\n            props.setFader(value);\r\n        }\r\n    }\r\n\r\n    let orientation = {\r\n        horizontal : true,\r\n    };\r\n\r\n    if(window.innerWidth < parseInt(generalStyle.verticalBreakPointExtraSmall))\r\n    {\r\n        delete orientation.horizontal;\r\n        orientation.vertical = true;\r\n    }\r\n\r\n    return (\r\n        <div className={\"fader\" + ((props.className) ? \" \" + props.className  : \"\") } >\r\n            <div className={\"zero-indicator \" + ((isZero) ? \"indicator--active\" : \"\")}/>\r\n            <Slider className=\"fader\" \r\n                {...orientation}\r\n                from={-50} \r\n                to={50} \r\n                step={5} \r\n                stickiZero={5}\r\n                onChange={ sliderChangeHandle } />\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst mapDispachToProps = dispatch => ({\r\n    setFader : (value) => dispatch(setFader(value)), \r\n})\r\n\r\nexport default connect(null, mapDispachToProps)(Fader);\r\n"]},"metadata":{},"sourceType":"module"}